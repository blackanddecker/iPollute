!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r="undefined"==typeof Proxy?console:new Proxy({},{get:function(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];window.IM=window.IM||{},window.IM.logger=window.IM.logger||{queue:[]},e[t]&&e[t].apply(e,r),window.IM.logger.queue.push((function(){var n=window.IM.logger.withName("advertising");Object.assign(e,n),n[t].apply(n,r)}))}}}),o=function(e){var t;(null===(t=performance)||void 0===t?void 0:t.mark)&&performance.mark(e)},a=function(){var e,t;(null===(e=performance)||void 0===e?void 0:e.measure)&&(t=performance).measure.apply(t,arguments)};function i(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){try{return JSON.parse(e)}catch(e){}return null},s=function(e){return e.id.length?{id:e.id,targets:u(e.dataset.adtargets)||{},sizes:u(e.dataset.adsizes)||[],unitName:e.dataset.unitname}:(r.warn("An ad slot element is missing an id attribute"),{})},l=function(){return i(document.querySelectorAll(".dfp-ad")).map(s)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.pbjs.adserverCalled||(window.pbjs.adserverCalled=!0,window.googletag.pubads().refresh(e),t&&window.dispatchEvent(new Event("headerBidderTimeout")))},f=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{desktop:970,tablet:768,mobile:0},t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),n=Object.keys(e).find((function(n){return t>=e[n]}));return n}();e.forEach((function(e){e.setTargeting("deviceType",t)}))},g=function(e){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){var t,n;f(e);var r=JSON.stringify((null===(t=window.IM)||void 0===t?void 0:t.PermutiveModel)||{});try{n=JSON.parse(window.localStorage._psegs)}catch(e){console.warn("Error processing permutive segments",e.message),n=[]}var o,a=n.map(Number).filter((function(e){return e>=1e6})).map(String),i={callback:c,gptSlotObjects:e,sizeMappings:(o={},l().forEach((function(e){var t=e.id;o[t]=[],e.sizes.forEach((function(e){o[t].push({minViewPort:e[0],sizes:e[1]})}))})),o),data:{rubicon:{permutive:n,page:[r],p_standard:a},appnexus:{permutive:n,page:r,p_standard:a},ix:{permutive:n,page:r,p_standard:a}}};window.pbjs.rp.requestBids(i)}))},p=function(){},m=function(){window.LUX=window.LUX||{addData:p},function(){var e=window.localStorage._psegs,t=[];try{t=JSON.parse(e)}catch(e){}window.LUX.addData("permutive-segments",t.length)}(),window.addEventListener("headerBidderTimeout",(function(){window.LUX.addData("prebid-timeout",!0)}))};function b(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=y(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.googletag=window.googletag||{cmd:[]},o("time-to-ad-manager-loaded"),r.debug("Ad manager loaded");var j,E=function(e,t){var n,o=e.id,a=e.sizes,i=e.targets,d=googletag.sizeMapping(),u=!(null==i||null===(n=i.pos)||void 0===n?void 0:n.length);if(googletag.pubads().getSlots().map((function(e){return e.getSlotElementId()})).includes(o))return null;if(!Array.isArray(a))throw new Error("Attempted to register an ad slot with no sizes");a.forEach((function(e){return d.addSize(e[0],e[1])}));var s=S(S({},t.targets||{}),i||{});u&&(s.pos=[""]),r.debug("Defining ad slot",{id:o,sizes:a,targets:s,isOutOfPageSlot:u});var l=u?googletag.defineOutOfPageSlot(t.unitName,o):googletag.defineSlot(t.unitName,[0,0],o);if(!l)throw new Error('Failed to define slot for element with id "'.concat(o,'"'));return l.defineSizeMapping(d.build()).addService(googletag.pubads()).updateTargetingFromMap(s),l},A=function(e){r.debug("Refreshing ads",{nSlots:null==e?void 0:e.length}),googletag.cmd.push((function(){googletag.pubads().refresh(e)}))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=1e3,o=t.headerBidder,a=t.headerBidderTimeout,i=void 0===a?0:a,d=0;o&&(d=Number(i||n));var u={nSlots:e.length,headerBidder:o,headerBidderTimeout:i};(Number.isNaN(d)||d<0)&&r.error(new Error('The "headerBidderTimeout" option is not a positive number: received "'.concat(i,'"')));var s={prebid:{request:g,callback:c}},l={request:function(){return e.map((function(e){return googletag.display(e)}))},callback:A},f=S(S({},l),s[o]||{}),p=f.request,m=f.callback;r.debug("Requesting bids",u),p(e),setTimeout((function(){var t=d?"Header bidder timeout called after ".concat(d,"ms"):"No header bidder timeout applied";r.debug(t,u),m(e,!!d)}),d)};j=function(){o("time-to-ad-manager-started"),googletag.cmd.push((function(){o("time-to-gpt-started"),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),function(e){if(null==document.body){var t=new MutationObserver((function(){document.body&&(t.disconnect(),e())}));t.observe(document.documentElement,{childList:!0})}else e()}((function(){var e,t=u(document.body.dataset.adSettings)||u(document.body.dataset.pageInfo);if(!t)throw new Error("Failed to load the global ad settings from the data-ad-settings or data-page-info body attributes");r.debug("Global settings read",t),function(e){var t=e.headerBidderUrl;if(t){var n=document.head,r=document.createElement("script");r.async=!0,r.src=t,n.insertBefore(r,n.firstChild)}}(t),function(e){var t=e.lazyLoading;r.debug("Lazy loading settings",{lazyLoading:t});try{(null==t?void 0:t.enabled)?googletag.pubads().enableLazyLoad(t):googletag.pubads().collapseEmptyDivs()}catch(e){googletag.pubads().collapseEmptyDivs(),r.error("Unable to retrieve DFP Lazy Load options: ".concat(e.message))}}(t),window.permutive&&googletag.cmd.push((function(){var e=localStorage.getItem("_pdfps")||"";googletag.pubads().getTargeting("permutive").length||googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])})),googletag.enableServices(),e=function(){var e,n,i,d=function(e){return l().map((function(t){return E(t,e)})).filter((function(e){return e}))}(t);n=[],i=function(e){n.includes(e)||(n.push(e),o(e))},googletag.pubads().addEventListener("slotRequested",(function(t){e||(e=t.slot.getSlotElementId(),i("time-to-first-ad-request"))})),googletag.pubads().addEventListener("slotResponseReceived",(function(t){e===t.slot.getSlotElementId()&&(i("ad-response-time-end"),a("ad-response-time","time-to-first-ad-request"))})),googletag.pubads().addEventListener("slotOnload",(function(t){i("time-to-first-ad-display"),e===t.slot.getSlotElementId()&&(i("ad-render-time-end"),a("ad-render-time","ad-response-time-end"),a("ad-display-time","time-to-first-ad-request"))})),googletag.pubads().addEventListener("impressionViewable",(function(){i("time-to-first-ad-impression")})),m(),L(d,t),function(e){var t=function(e){return e.tagName?e.classList.contains("dfp-ad")?[e]:e.firstElementChild?v(e.getElementsByClassName("dfp-ad")):[]:[]},n=new MutationObserver((function(n){var o,a=new Set,i=b(n);try{for(i.s();!(o=i.n()).done;){var d,u=b(o.value.addedNodes);try{for(u.s();!(d=u.n()).done;){var l=d.value;t(l).forEach((function(e){return a.add(e)}))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){i.e(e)}finally{i.f()}a.size&&a.forEach((function(t){r.debug("Dynamic ad slot detected",{slotElement:t});var n=s(t),o=E(n,e);o&&L([o],e)}))})),o=document.body;n.observe(o,{attributes:!0,childList:!0,subtree:!0})}(t)},"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}))}))},window.__tcfapi?(r.debug("Waiting for consent..."),window.__tcfapi("addEventListener",2,(function(e,t){if(!t)throw new Error("TCFAPI addEventListener failed");if(("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)&&e.purpose.consents[1])return r.debug("Consent granted"),void j();r.debug("Consent denied")}))):j()}]);
//# sourceMappingURL=adManager-0445023e62922c4ab6a0.js.map