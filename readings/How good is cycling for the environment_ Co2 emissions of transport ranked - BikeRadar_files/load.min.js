/*
 (C) Monetizer101. All right reserved. 
 Author: Emilio Venezia 
 customWidget - v2.0.3 - 2017-09-19 
*/
if(window.mtz101CustomWidgetLoaded&&"2.0.3"===window.mtz101CustomWidgetVersion)console.log('"Monetizer custom widget" already exists on the page. This is the second instance.'),console.log('Please use only 1 instance of "Monetizer custom widget" on the page');else{window.mtz101CustomWidgetLoaded=!0,window.mtz101CustomWidgetVersion="2.0.3";var MONETIZER101=MONETIZER101||function(){var a=!1,b={url:"https://link.monetizer101.com",map:{},currencies:["USD","CAD","GBP","EUR","CHF","DKK"]},c=function(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth;return e},d=function(a){var d=a[1],e=a[0],f=a[2],g=document.createElement("iframe");g.frameBorder=0,g.width="100%",g.setAttribute("src",b.url+"/widget/custom-2.0.3/iframe.html"),g.setAttribute("id","custom-widget-"+d.element),document.getElementById(d.element).appendChild(g),g.onload=function(){var a=this;a.contentWindow.postMessage([e,d,f],"*"),a.contentWindow.postMessage(["width",c()],"*"),window.addEventListener("resize",function(){a.contentWindow.postMessage(["width",c()],"*")},!0)}},e=document.querySelectorAll('[data-m101-type="custom-widget"]'),f=function(c,d,f){if(a=!0,void 0===c&&(c=0),!(c>=d)){var h=e[c],i=JSON.parse(h.getAttribute("data-config"));if(i.element=h.id,i.sourcePage=encodeURI(window.location.href),i.responsive=i.responsive?i.responsive:"",i.sid=i.sid?i.sid:"",i.shortenTitle=i.shortenTitle?parseInt(i.shortenTitle):"","undefined"!=typeof f&&(b.url=f),i.geolocation){var j=MONETIZER101.cookie.get("isoCurrencyCode");j?(i.isoCurrencyCode=j,i.isoLanguageCode=MONETIZER101.cookie.get("isoLanguageCode"),g(i,c,d)):MONETIZER101.ajax.get(b.url+"/shop-rest/api/int/shop/"+i.shopId+"/market/detect").success(function(a){var e=a.currencyCode,f=a.languageCode;-1!==MONETIZER101.utils.inArray(e,b.currencies)&&(i.isoCurrencyCode=e,i.isoLanguageCode=f),MONETIZER101.cookie.set("isoCurrencyCode",i.isoCurrencyCode),MONETIZER101.cookie.set("isoLanguageCode",i.isoLanguageCode),g(i,c,d)}).error(function(){MONETIZER101.cookie.set("isoCurrencyCode",i.isoCurrencyCode),MONETIZER101.cookie.set("isoLanguageCode",i.isoLanguageCode),g(i,c,d)})}else g(i,c,d)}},g=function(a,c,e){MONETIZER101.ajax.get(b.url+"/shop-rest/api/int/shop/"+a.shopId+"/widget/publisher/content?publisherContentIds="+a.contentId+"&isoCurrencyCode="+a.isoCurrencyCode+"&isoLanguageCode="+a.isoLanguageCode+"&productLimit=54&sid="+a.sid+"&source=PUBLISHER_WIDGET").success(function(g){try{g[0].products.length?(a.products=g[0].products,a.templateId in b.map?(d(["custom",a,b.map[a.templateId]]),c++,f(c,e)):MONETIZER101.ajax.get(b.url+"/shop-rest/api/int/shop/"+a.shopId+"/template/property/map?templateId="+a.templateId).success(function(g){b.map[a.templateId]=g,d(["custom",a,g]),c++,f(c,e)})):(c++,f(c,e))}catch(h){c++,f(c,e)}})};return window.addEventListener("message",function(a){var b=a.data[0];switch(b){case"customSetHeight":var c=a.data[1],d=a.data[2];document.getElementById("custom-widget-"+d).style.height=c+1+"px"}},!1),{init:function(b,c){a||("undefined"!=typeof c?(e=c,f(0,e.length,b)):f(0,e.length,b))}}}();!function(a){return a.utils={objLength:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&++b;return b},shuffleArray:function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a},inArray:function(a,b){return b.indexOf(a)}},a}(MONETIZER101||{}),function(a){return a.cookie={set:function(a,b){var c=new Date,d=c.getTime();d+=36e5,c.setTime(d),document.cookie=a+"="+b+"; expires="+c.toUTCString()+"; path=/"},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""}},a}(MONETIZER101||{}),function(a){var b={contentType:"application/x-www-form-urlencoded"},c=function(a){var b;try{b=JSON.parse(a.responseText)}catch(c){b=a.responseText}return[b,a]},d=function(a,d,e){var f={success:function(){},error:function(){},always:function(){}},g=XMLHttpRequest||ActiveXObject,h=new g("MSXML2.XMLHTTP.3.0");h.open(a,d,!0),h.setRequestHeader("Content-type",b.contentType),h.onreadystatechange=function(){var a;4===h.readyState&&(a=c(h),h.status>=200&&h.status<300?f.success.apply(f,a):f.error.apply(f,a),f.always.apply(f,a))},h.send(e);var i={success:function(a){return f.success=a,i},error:function(a){return f.error=a,i},always:function(a){return f.always=a,i}};return i};return a.ajax={},a.ajax.get=function(a){return d("GET",a)},a.ajax.put=function(a,b){return d("PUT",a,b)},a.ajax.post=function(a,b){return d("POST",a,b)},a.ajax["delete"]=function(a){return d("DELETE",a)},a.ajax.setContentType=function(a){b.contentType=a},a}(MONETIZER101||{})}