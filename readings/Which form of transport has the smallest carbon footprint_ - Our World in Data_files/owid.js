!function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={2:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([1058,0]),n()}({1056:function(e,t,n){},1058:function(e,t,n){"use strict";n.r(t);n(399),n(400),n(1056);var o=n(586),a=n.n(o),r=n(49),i=n.n(r),s=n(2),l=n(1),c=n(81),u=n(207),d=n(38);class p extends u.a{constructor(e=d.g,t=d.i){super(e,t)}logCovidCountryProfileSearch(e){this.logToGA("COVID_COUNTRY_PROFILE_SEARCH",e),this.logToSA("COVID_COUNTRY_PROFILE_SEARCH :: "+e)}logPageNotFoundError(e){this.logToAmplitude("NOT_FOUND",{href:e}),this.logToGA("Errors","NotFound",e),this.logToSA("Errors :: NotFound :: "+e)}logChartsPageSearchQuery(e){this.logToGA("ChartsPage","Filter",e),this.logToSA("ChartsPage :: Filter :: "+e)}logPageLoad(){this.logToAmplitude("OWID_PAGE_LOAD")}}var h=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class m{constructor(){this.chartItems=[],this.chartItemsByTitle={},this.results=[],this.sections=[],this.query="",this.analytics=new p,this.searchInput=document.querySelector(".chartsSearchInput"),this.sections=Array.from(document.querySelectorAll(".ChartsIndexPage main .content section"));const e=Array.from(document.querySelectorAll(".ChartsIndexPage main .content li"));this.chartItems=e.map(e=>({title:e.children[0].textContent.replace(/â‚‚/g,"2"),li:e,ul:e.closest("ul")})),this.chartItemsByTitle=Object(s.Z)(this.chartItems,"title"),this.strings=this.chartItems.map(e=>i.a.prepare(e.title))}get searchStrings(){return this.chartItems.map(e=>i.a.prepare(e.title))}get searchResults(){return i.a.go(this.query,this.searchStrings,{threshold:-150})}get resultsByTitle(){return Object(s.Z)(this.searchResults,"target")}logSearchQuery(){this.analytics.logChartsPageSearchQuery(this.query)}onSearchInput(){this.query=this.searchInput.value,void 0!==this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.logSearchQuery,500)}render(){var e,t;if(history.replaceState(null,document.title,window.location.pathname+(this.query?"?search="+(t=this.query,encodeURIComponent(t.replace(/ /g,"-"))):"")),this.query){for(const t of this.chartItems){const n=this.resultsByTitle[t.title];n?(t.li.style.display="",t.li.children[0].innerHTML=null!==(e=Object(c.b)(n))&&void 0!==e?e:""):t.li.style.display="none"}for(const e of this.sections)Array.from(e.querySelectorAll("li")).some(e=>"none"!==e.style.display)?e.style.display="":e.style.display="none"}else{for(const e of this.sections)e.style.display="";for(const e of this.chartItems)e.ul.append(e.li),e.li.style.display="",e.li.children[0].innerHTML=e.title}}run(){this.searchInput.addEventListener("input",this.onSearchInput),Object(l.autorun)(()=>this.render());const e=window.location.search.match(/search=(.+)/);var t;e&&(this.searchInput.value=(t=e[1],decodeURIComponent(t).replace(/-/g," "))),this.query=this.searchInput.value}}h([l.observable],m.prototype,"query",void 0),h([l.computed],m.prototype,"searchStrings",null),h([l.computed],m.prototype,"searchResults",null),h([l.computed],m.prototype,"resultsByTitle",null),h([l.action.bound],m.prototype,"logSearchQuery",null),h([l.action.bound],m.prototype,"onSearchInput",null),h([l.action.bound],m.prototype,"run",null);var f=n(0),g=n.n(f),v=n(29),y=n.n(v),b=n(6),w=n(72),E=n(168),C=n(41),O=n(303),S=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},T=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let P=class extends f.Component{get configUrl(){return Object(C.e)(this.props.src).path}get queryStr(){return Object(C.e)(this.props.src).queryString}loadConfig(){return T(this,void 0,void 0,(function*(){const{configUrl:e}=this,t=yield fetch(e);if(this.configUrl!==e)return;const n=yield t.text(),o=Object(O.a)(n);Object(l.runInAction)(()=>{this.chart=new w.a(o,{isEmbed:!0,queryStr:this.queryStr})})}))}componentDidMount(){this.dispose=Object(l.autorun)(()=>this.props.src&&this.loadConfig())}componentWillUnmount(){this.dispose&&this.dispose()}render(){return this.chart?f.createElement(E.a,{grapher:this.chart}):f.createElement("figure",{"data-grapher-src":this.props.src})}};S([l.computed],P.prototype,"configUrl",null),S([l.computed],P.prototype,"queryStr",null),S([l.observable],P.prototype,"chart",void 0),P=S([b.a],P);var N=n(75),D=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class x extends g.a.Component{get entities(){return M(this.props.hit,this.props.queryCountries)}get slug(){const{hit:e}=this.props,{entities:t}=this;return t.length?e.slug+"?tab=chart&country="+N.a.entitiesToQueryParam(t):e.slug}get title(){const{hit:e}=this.props,{entities:t}=this;return t.length?e.title.trim()+", "+t.join(", "):e.title}render(){const{hit:e}=this.props,{slug:t,title:n}=this;return g.a.createElement("li",{className:"ChartResult"},g.a.createElement("a",{href:`${d.e}/${t}`},n),e.variantName?g.a.createElement("span",{className:"variantName"}," ",e.variantName):void 0,e._snippetResult?g.a.createElement("p",{dangerouslySetInnerHTML:{__html:e._snippetResult.subtitle.value}}):void 0)}}D([l.computed],x.prototype,"entities",null),D([l.computed],x.prototype,"slug",null),D([l.computed],x.prototype,"title",null);class k extends g.a.Component{render(){const{hit:e}=this.props;return g.a.createElement("li",null,g.a.createElement("a",{href:"/country/"+e.slug},e.title)," ",g.a.createElement("span",{className:"variantName"},"Country"),g.a.createElement("p",{dangerouslySetInnerHTML:{__html:e._snippetResult.content.value}}))}}class j extends g.a.Component{render(){const{hit:e}=this.props,t="entry"===e.type;return g.a.createElement("li",null,g.a.createElement("a",{href:"/"+e.slug},e.title)," ",t?g.a.createElement("span",{className:"variantName"},Object(s.d)(e.type)):void 0,g.a.createElement("p",{dangerouslySetInnerHTML:{__html:e._snippetResult.content.value}}))}}function M(e,t){const n=[],o=e._highlightResult?e._highlightResult.availableEntities:[];for(const e of o){const o=e.value.replace(/<\/?em>/g,"");("none"!==e.matchLevel||t.some(e=>e.name===o))&&n.push(o)}return Object(s.cc)(n)}let R=class extends g.a.Component{get bestChartHit(){return this.props.results.charts.length?this.props.results.charts[0]:void 0}get entries(){return this.props.results.pages.filter(e=>"page"===e.type)}get blogposts(){return this.props.results.pages.filter(e=>"post"===e.type)}get bestChartEntities(){const e=this.bestChartHit;return e?M(e,this.props.results.countries):[]}get bestChartSlug(){const{bestChartHit:e,bestChartEntities:t}=this;if(e)return t.length?e.slug+"?tab=chart&country="+N.a.entitiesToQueryParam(t):e.slug}render(){const{results:e}=this.props;return g.a.createElement("div",{className:"SearchResults"},g.a.createElement("div",{className:"container"},g.a.createElement("div",{className:"postResults"},g.a.createElement("h2",null,"Pages"),e.pages.length?void 0:g.a.createElement("p",null,"No matching pages."),g.a.createElement("ul",null,e.pages.map(e=>"country"===e.type?g.a.createElement(k,{key:e.objectID,hit:e}):g.a.createElement(j,{key:e.objectID,hit:e})))),g.a.createElement("div",{className:"chartResults"},g.a.createElement("h2",null,"Charts"),e.charts.length?void 0:g.a.createElement("p",null,"No matching charts."),this.bestChartSlug&&g.a.createElement(P,{src:`${d.e}/${this.bestChartSlug}`}),g.a.createElement("ul",null,e.charts.map(t=>g.a.createElement(x,{key:t.chartId,hit:t,queryCountries:e.countries}))))),g.a.createElement("div",{className:"algoliaCredit"},g.a.createElement("a",{href:"https://algolia.com"},g.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"168",height:"24",viewBox:"0 0 168 24"},g.a.createElement("g",{fill:"none"},g.a.createElement("path",{fill:"#5468FF",d:"M78.988.938h16.594a2.968 2.968 0 0 1 2.966 2.966V20.5a2.967 2.967 0 0 1-2.966 2.964H78.988a2.967 2.967 0 0 1-2.966-2.964V3.897A2.961 2.961 0 0 1 78.988.938zm41.937 17.866c-4.386.02-4.386-3.54-4.386-4.106l-.007-13.336 2.675-.424v13.254c0 .322 0 2.358 1.718 2.364v2.248zm-10.846-2.18c.821 0 1.43-.047 1.855-.129v-2.719a6.334 6.334 0 0 0-1.574-.199 5.7 5.7 0 0 0-.897.069 2.699 2.699 0 0 0-.814.24c-.24.116-.439.28-.582.491-.15.212-.219.335-.219.656 0 .628.219.991.616 1.23s.938.362 1.615.362zm-.233-9.7c.883 0 1.629.109 2.231.328.602.218 1.088.525 1.444.915.363.396.609.922.76 1.483.157.56.232 1.175.232 1.85v6.874a32.5 32.5 0 0 1-1.868.314c-.834.123-1.772.185-2.813.185-.69 0-1.327-.069-1.895-.198a4.001 4.001 0 0 1-1.471-.636 3.085 3.085 0 0 1-.951-1.134c-.226-.465-.343-1.12-.343-1.803 0-.656.13-1.073.384-1.525a3.24 3.24 0 0 1 1.047-1.106c.445-.287.95-.492 1.532-.615a8.8 8.8 0 0 1 1.82-.185 8.404 8.404 0 0 1 1.972.24v-.438c0-.307-.035-.6-.11-.874a1.88 1.88 0 0 0-.384-.73 1.784 1.784 0 0 0-.724-.493 3.164 3.164 0 0 0-1.143-.205c-.616 0-1.177.075-1.69.164a7.735 7.735 0 0 0-1.26.307l-.321-2.192c.335-.117.834-.233 1.478-.349a10.98 10.98 0 0 1 2.073-.178zm52.842 9.626c.822 0 1.43-.048 1.854-.13V13.7a6.347 6.347 0 0 0-1.574-.199c-.294 0-.595.021-.896.069a2.7 2.7 0 0 0-.814.24 1.46 1.46 0 0 0-.582.491c-.15.212-.218.335-.218.656 0 .628.218.991.615 1.23.404.245.938.362 1.615.362zm-.226-9.694c.883 0 1.629.108 2.231.327.602.219 1.088.526 1.444.915.355.39.609.923.759 1.483a6.8 6.8 0 0 1 .233 1.852v6.873c-.41.088-1.034.19-1.868.314-.834.123-1.772.184-2.813.184-.69 0-1.327-.068-1.895-.198a4.001 4.001 0 0 1-1.471-.635 3.085 3.085 0 0 1-.951-1.134c-.226-.465-.343-1.12-.343-1.804 0-.656.13-1.073.384-1.524.26-.45.608-.82 1.047-1.107.445-.286.95-.491 1.532-.614a8.803 8.803 0 0 1 2.751-.13c.329.034.671.096 1.04.185v-.437a3.3 3.3 0 0 0-.109-.875 1.873 1.873 0 0 0-.384-.731 1.784 1.784 0 0 0-.724-.492 3.165 3.165 0 0 0-1.143-.205c-.616 0-1.177.075-1.69.164a7.75 7.75 0 0 0-1.26.307l-.321-2.193c.335-.116.834-.232 1.478-.348a11.633 11.633 0 0 1 2.073-.177zm-8.034-1.271a1.626 1.626 0 0 1-1.628-1.62c0-.895.725-1.62 1.628-1.62.904 0 1.63.725 1.63 1.62 0 .895-.733 1.62-1.63 1.62zm1.348 13.22h-2.689V7.27l2.69-.423v11.956zm-4.714 0c-4.386.02-4.386-3.54-4.386-4.107l-.008-13.336 2.676-.424v13.254c0 .322 0 2.358 1.718 2.364v2.248zm-8.698-5.903c0-1.156-.253-2.119-.746-2.788-.493-.677-1.183-1.01-2.067-1.01-.882 0-1.574.333-2.065 1.01-.493.676-.733 1.632-.733 2.788 0 1.168.246 1.953.74 2.63.492.683 1.183 1.018 2.066 1.018.882 0 1.574-.342 2.067-1.019.492-.683.738-1.46.738-2.63zm2.737-.007c0 .902-.13 1.584-.397 2.33a5.52 5.52 0 0 1-1.128 1.906 4.986 4.986 0 0 1-1.752 1.223c-.685.286-1.739.45-2.265.45-.528-.006-1.574-.157-2.252-.45a5.096 5.096 0 0 1-1.744-1.223c-.487-.527-.863-1.162-1.137-1.906a6.345 6.345 0 0 1-.41-2.33c0-.902.123-1.77.397-2.508a5.554 5.554 0 0 1 1.15-1.892 5.133 5.133 0 0 1 1.75-1.216c.679-.287 1.425-.423 2.232-.423.808 0 1.553.142 2.237.423a4.88 4.88 0 0 1 1.753 1.216 5.644 5.644 0 0 1 1.135 1.892c.287.738.431 1.606.431 2.508zm-20.138 0c0 1.12.246 2.363.738 2.882.493.52 1.13.78 1.91.78.424 0 .828-.062 1.204-.178.377-.116.677-.253.917-.417V9.33a10.476 10.476 0 0 0-1.766-.226c-.971-.028-1.71.37-2.23 1.004-.513.636-.773 1.75-.773 2.788zm7.438 5.274c0 1.824-.466 3.156-1.404 4.004-.936.846-2.367 1.27-4.296 1.27-.705 0-2.17-.137-3.34-.396l.431-2.118c.98.205 2.272.26 2.95.26 1.074 0 1.84-.219 2.299-.656.459-.437.684-1.086.684-1.948v-.437a8.07 8.07 0 0 1-1.047.397c-.43.13-.93.198-1.492.198-.739 0-1.41-.116-2.018-.349a4.206 4.206 0 0 1-1.567-1.025c-.431-.45-.774-1.017-1.013-1.694-.24-.677-.363-1.885-.363-2.773 0-.834.13-1.88.384-2.577.26-.696.629-1.298 1.129-1.796.493-.498 1.095-.881 1.8-1.162a6.605 6.605 0 0 1 2.428-.457c.87 0 1.67.109 2.45.24.78.129 1.444.265 1.985.415V18.17z"}),g.a.createElement("path",{fill:"#5D6494",d:"M6.972 6.677v1.627c-.712-.446-1.52-.67-2.425-.67-.585 0-1.045.13-1.38.391a1.24 1.24 0 0 0-.502 1.03c0 .425.164.765.494 1.02.33.256.835.532 1.516.83.447.192.795.356 1.045.495.25.138.537.332.862.582.324.25.563.548.718.894.154.345.23.741.23 1.188 0 .947-.334 1.691-1.004 2.234-.67.542-1.537.814-2.601.814-1.18 0-2.16-.229-2.936-.686v-1.708c.84.628 1.814.942 2.92.942.585 0 1.048-.136 1.388-.407.34-.271.51-.646.51-1.125 0-.287-.1-.55-.302-.79-.203-.24-.42-.42-.655-.542-.234-.123-.585-.29-1.053-.503a61.27 61.27 0 0 1-.582-.271 13.67 13.67 0 0 1-.55-.287 4.275 4.275 0 0 1-.567-.351 6.92 6.92 0 0 1-.455-.4c-.18-.17-.31-.34-.39-.51-.08-.17-.155-.37-.224-.598a2.553 2.553 0 0 1-.104-.742c0-.915.333-1.638.998-2.17.664-.532 1.523-.798 2.576-.798.968 0 1.793.17 2.473.51zm7.468 5.696v-.287c-.022-.607-.187-1.088-.495-1.444-.309-.357-.75-.535-1.324-.535-.532 0-.99.194-1.373.583-.382.388-.622.949-.717 1.683h3.909zm1.005 2.792v1.404c-.596.34-1.383.51-2.362.51-1.255 0-2.255-.377-3-1.132-.744-.755-1.116-1.744-1.116-2.968 0-1.297.34-2.316 1.021-3.055.68-.74 1.548-1.11 2.6-1.11 1.033 0 1.852.323 2.458.966.606.644.91 1.572.91 2.784 0 .33-.033.676-.096 1.038h-5.314c.107.702.405 1.239.894 1.611.49.372 1.106.558 1.85.558.862 0 1.58-.202 2.155-.606zm6.605-1.77h-1.212c-.596 0-1.045.116-1.349.35-.303.234-.454.532-.454.894 0 .372.117.664.35.877.235.213.575.32 1.022.32.51 0 .912-.142 1.204-.424.293-.281.44-.651.44-1.108v-.91zm-4.068-2.554V9.325c.627-.361 1.457-.542 2.489-.542 2.116 0 3.175 1.026 3.175 3.08V17h-1.548v-.957c-.415.68-1.143 1.02-2.186 1.02-.766 0-1.38-.22-1.843-.661-.462-.442-.694-1.003-.694-1.684 0-.776.293-1.38.878-1.81.585-.431 1.404-.647 2.457-.647h1.34V11.8c0-.554-.133-.971-.399-1.253-.266-.282-.707-.423-1.324-.423a4.07 4.07 0 0 0-2.345.718zm9.333-1.93v1.42c.394-1 1.101-1.5 2.123-1.5.148 0 .313.016.494.048v1.531a1.885 1.885 0 0 0-.75-.143c-.542 0-.989.24-1.34.718-.351.479-.527 1.048-.527 1.707V17h-1.563V8.91h1.563zm5.01 4.084c.022.82.272 1.492.75 2.019.479.526 1.15.79 2.01.79.639 0 1.235-.176 1.788-.527v1.404c-.521.319-1.186.479-1.995.479-1.265 0-2.276-.4-3.031-1.197-.755-.798-1.133-1.792-1.133-2.984 0-1.16.38-2.151 1.14-2.975.761-.825 1.79-1.237 3.088-1.237.702 0 1.346.149 1.93.447v1.436a3.242 3.242 0 0 0-1.77-.495c-.84 0-1.513.266-2.019.798-.505.532-.758 1.213-.758 2.042zM40.24 5.72v4.579c.458-1 1.293-1.5 2.505-1.5.787 0 1.42.245 1.899.734.479.49.718 1.17.718 2.042V17h-1.564v-5.106c0-.553-.14-.98-.422-1.284-.282-.303-.652-.455-1.11-.455-.531 0-1.002.202-1.411.606-.41.405-.615 1.022-.615 1.851V17h-1.563V5.72h1.563zm14.966 10.02c.596 0 1.096-.253 1.5-.758.404-.506.606-1.157.606-1.955 0-.915-.202-1.62-.606-2.114-.404-.495-.92-.742-1.548-.742-.553 0-1.05.224-1.491.67-.442.447-.662 1.133-.662 2.058 0 .958.212 1.67.638 2.138.425.469.946.703 1.563.703zM53.004 5.72v4.42c.574-.894 1.388-1.341 2.44-1.341 1.022 0 1.857.383 2.506 1.149.649.766.973 1.781.973 3.047 0 1.138-.309 2.109-.925 2.912-.617.803-1.463 1.205-2.537 1.205-1.075 0-1.894-.447-2.457-1.34V17h-1.58V5.72h1.58zm9.908 11.104l-3.223-7.913h1.739l1.005 2.632 1.26 3.415c.096-.32.48-1.458 1.15-3.415l.909-2.632h1.66l-2.92 7.866c-.777 2.074-1.963 3.11-3.559 3.11a2.92 2.92 0 0 1-.734-.079v-1.34c.17.042.351.064.543.064 1.032 0 1.755-.57 2.17-1.708z"}),g.a.createElement("path",{fill:"#FFF",d:"M89.632 5.967v-.772a.978.978 0 0 0-.978-.977h-2.28a.978.978 0 0 0-.978.977v.793c0 .088.082.15.171.13a7.127 7.127 0 0 1 1.984-.28c.65 0 1.295.088 1.917.259.082.02.164-.04.164-.13m-6.248 1.01l-.39-.389a.977.977 0 0 0-1.382 0l-.465.465a.973.973 0 0 0 0 1.38l.383.383c.062.061.15.047.205-.014.226-.307.472-.601.746-.874.281-.28.568-.526.883-.751.068-.042.075-.137.02-.2m4.16 2.453v3.341c0 .096.104.165.192.117l2.97-1.537c.068-.034.089-.117.055-.184a3.695 3.695 0 0 0-3.08-1.866c-.068 0-.136.054-.136.13m0 8.048a4.489 4.489 0 0 1-4.49-4.482 4.488 4.488 0 0 1 4.49-4.482 4.488 4.488 0 0 1 4.489 4.482 4.484 4.484 0 0 1-4.49 4.482m0-10.85a6.363 6.363 0 1 0 0 12.729 6.37 6.37 0 0 0 6.372-6.368 6.358 6.358 0 0 0-6.371-6.36"}))))))}};D([l.computed],R.prototype,"bestChartHit",null),D([l.computed],R.prototype,"entries",null),D([l.computed],R.prototype,"blogposts",null),D([l.computed],R.prototype,"bestChartEntities",null),D([l.computed],R.prototype,"bestChartSlug",null),R=D([b.a],R);var I=n(587),A=n.n(I),L=n(137),U=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let F;function q(e){var t;return U(this,void 0,void 0,(function*(){let n=e.trim();const o=[];for(const e of L.a){const a=[e.name,...null!==(t=e.variantNames)&&void 0!==t?t:[]];for(const t of a){const a=new RegExp(`\\b(${t})\\b`,"gi"),r=n.replace(a,"");r!==n&&(o.push(e),r.trim().length&&(n=r))}}const a=yield(F||(F=A()(d.b,d.c)),F).search([{indexName:"pages",query:e,params:{attributesToRetrieve:["objectID","postId","slug","title","type","code","content"],attributesToSnippet:["content:24"],distinct:!0,hitsPerPage:10}},{indexName:"charts",query:n,params:{attributesToRetrieve:["chartId","slug","title","variantName"],attributesToSnippet:["subtitle:24"],attributesToHighlight:["availableEntities"],hitsPerPage:10,removeStopWords:!0,replaceSynonymsInHighlight:!1}}]);return{pages:a.results[0].hits,charts:a.results[1].hits,countries:o}}))}var Y=n(14),_=n(212),H=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},z=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};class W extends f.Component{componentDidMount(){document.body.style.overflowY="hidden"}componentWillUnmount(){document.body.style.overflowY=""}render(){return f.createElement(R,{results:this.props.results})}}let X=class extends f.Component{runSearch(e){return z(this,void 0,void 0,(function*(){const t=yield q(e);this.lastQuery===e&&Object(l.runInAction)(()=>this.results=t)}))}onSearch(e){const t=e.currentTarget.value;this.lastQuery=t,t?this.runSearch(t):this.results=void 0}render(){const{results:e}=this;return f.createElement("form",{action:"/search",method:"GET",className:"HeaderSearch"},f.createElement("input",{type:"search",name:"q",onChange:e=>this.onSearch(e),placeholder:"Search...",autoFocus:this.props.autoFocus}),f.createElement("div",{className:"icon"},f.createElement(Y.a,{icon:_.faSearch})),e&&f.createElement(W,{results:e}))}};H([l.observable.ref],X.prototype,"results",void 0),H([l.action.bound],X.prototype,"onSearch",null),X=H([b.a],X);var V=n(31),B=n.n(V),Q=n(30),K=n(588),G=n(208),$=n(590),Z=n(589),J=n(313);var ee=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};function te(e){const t=function(e,t){let n=e;for(;n;){if(t(n))return n;n=n.parentElement}return null}(e,e=>e.matches("[data-submenu-id]"));return t?t.getAttribute("data-submenu-id"):null}function ne(e,t){return(t.y-e.y)/(t.x-e.x)}class oe extends f.Component{constructor(){super(...arguments),this.container=f.createRef(),this.mouseLocs=[]}onMouseMove(e){this.mouseLocs.push({x:e.pageX,y:e.pageY}),this.mouseLocs.length>3&&this.mouseLocs.shift()}onMouseLeaveMenu(){this.timeoutId&&clearTimeout(this.timeoutId)}onMouseEnterItem(e){this.timeoutId&&clearTimeout(this.timeoutId),this.possiblyActivate(e)}onClickItem(e){this.activate(e)}possiblyActivate(e){const t=this.activationDelay();t?this.timeoutId=window.setTimeout(()=>{this.possiblyActivate(e)},t):this.activate(e)}activate(e){e!==this.activeSubmenuId&&(this.activeSubmenuId&&this.deactivate(this.activeSubmenuId),this.props.onActivate&&this.props.onActivate(e),this.activeSubmenuId=e)}deactivate(e){this.props.onDeactivate&&this.props.onDeactivate(e),this.activeSubmenuId=void 0}activationDelay(){const{submenuRect:e}=this.props;if(!e)return 0;const t={x:e.left,y:e.top-20},n=(e.right,{x:e.left,y:e.bottom+20}),o=(e.right,this.mouseLocs[this.mouseLocs.length-1]);let a=this.mouseLocs[0];if(!o)return 0;if(a||(a=o),this.lastDelayLoc&&o.x===this.lastDelayLoc.x&&o.y===this.lastDelayLoc.y)return 0;const r=t,i=n,s=ne(o,r),l=ne(o,i),c=ne(a,r),u=ne(a,i);return s<c&&l>u?(this.lastDelayLoc=o,400):(this.lastDelayLoc=void 0,0)}onMouseOver(e){const t=te(e.target);t&&this.onMouseEnterItem(t)}onClick(e){const t=te(e.target);t&&this.onClickItem(t)}render(){return f.createElement("div",{ref:this.container,className:"amazon-menu-container",onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeaveMenu,onMouseOver:this.onMouseOver,onClick:this.onClick},this.props.children)}}ee([Q.bind],oe.prototype,"onMouseMove",null),ee([Q.bind],oe.prototype,"onMouseLeaveMenu",null),ee([Q.bind],oe.prototype,"onMouseEnterItem",null),ee([Q.bind],oe.prototype,"onClickItem",null),ee([Q.bind],oe.prototype,"onMouseOver",null),ee([Q.bind],oe.prototype,"onClick",null);var ae=n(96);const re=new p;var ie;!function(e){e.Homepage="homepage",e.MobileMenu="mobile-menu",e.Floating="floating"}(ie||(ie={}));const se=({context:e})=>{const[t,n]=Object(f.useState)(!1);return f.createElement("div",{className:"newsletter-subscription"+(t?" active":"")},t&&f.createElement(f.Fragment,null,f.createElement("div",{className:"overlay",onClick:()=>{n(!1)}}),f.createElement("div",{className:"box"},f.createElement(le,{context:e}))),f.createElement("button",{"aria-label":t?"Close":"Subscribe",className:"prompt","data-track-note":t?"dialog-close-newsletter":"dialog-open-newsletter",onClick:()=>{n(!t)}},f.createElement(Y.a,{icon:t?ae.faTimes:J.faEnvelopeOpenText})," ",t?"Close":"Subscribe"))},le=({context:e})=>{const t="mce-group[85302]-85302-0"+(e?"-"+e:""),n="mce-group[85302]-85302-1"+(e?"-"+e:""),[o,a]=Object(f.useState)(["1"]),r=0!==o.length,i=e=>{e.target.checked?a([e.target.value,...o]):a(o.filter(t=>t!==e.target.value))};return f.createElement("form",{action:"https://ourworldindata.us8.list-manage.com/subscribe/post?u=18058af086319ba6afad752ec&id=2e166c1fc1",method:"post",id:"mc-embedded-subscribe-form",name:"mc-embedded-subscribe-form",target:"_blank"},f.createElement("p",null,"Receive our latest publications by email."),f.createElement("fieldset",null,f.createElement("div",{className:"owid-checkboxes"},f.createElement("div",{className:"owid-checkbox-block"},f.createElement("input",{type:"checkbox",value:"1",name:"group[85302][1]",id:t,checked:o.includes("1"),onChange:i}),f.createElement("label",{htmlFor:t},f.createElement("div",{className:"label-title"},"Immediate updates"),f.createElement("div",{className:"label-text"},"Receive an email from us whenever we publish new work (maximum 1 per day)."))),f.createElement("div",{className:"owid-checkbox-block"},f.createElement("input",{type:"checkbox",value:"2",name:"group[85302][2]",id:n,checked:o.includes("2"),onChange:i}),f.createElement("label",{htmlFor:n},f.createElement("div",{className:"label-title"},"Biweekly digest"),f.createElement("div",{className:"label-text"},"Receive an overview of our recent work every two weeks."))),0===o.length&&f.createElement("div",{className:"alert"},"Please select at least one option."))),f.createElement("input",{placeholder:"Your email address",type:"email",className:"owid-inline-input",name:"EMAIL"}),f.createElement("div",{className:"privacy-submit"},f.createElement("div",{className:"privacy-notice"},"By subscribing you are agreeing to ",f.createElement("br",null),"the terms of our"," ",f.createElement("a",{href:"/privacy-policy"},"privacy policy"),"."),f.createElement("button",{type:"submit",className:"owid-inline-button",disabled:!r,onClick:()=>re.logSiteClick(`Subscribe [${null!=e?e:"other-contexts"}]`,"newsletter-subscribe")},"Subscribe")),f.createElement("input",{type:"hidden",name:"b_18058af086319ba6afad752ec_2e166c1fc1",tabIndex:-1}))};var ce=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},ue=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let de=class extends f.Component{constructor(){super(...arguments),this.dropdownIsOpen=!1,this.showSearch=!1,this.showCategories=!1,this.showNewsletterSubscription=!1}componentDidMount(){this.dispose=Object(l.reaction)(()=>this.dropdownIsOpen,()=>{this.dropdownIsOpen&&(this.dropdownLastOpened=Date.now())})}componentWillUnmount(){this.dispose()}onToggleSearch(){this.showSearch=!this.showSearch}onToggleCategories(){this.showCategories=!this.showCategories}onToggleNewsletterSubscription(){this.showNewsletterSubscription=!this.showNewsletterSubscription}setOpen(e){this.dropdownIsOpen=e,this.clearOpenTimeout(),this.clearCloseTimeout()}scheduleOpenTimeout(e){this.dropdownOpenTimeoutId=window.setTimeout(()=>this.setOpen(!0),e),this.clearCloseTimeout()}scheduleCloseTimeout(e){this.dropdownCloseTimeoutId=window.setTimeout(()=>this.setOpen(!1),e),this.clearOpenTimeout()}clearOpenTimeout(){this.dropdownOpenTimeoutId&&(clearTimeout(this.dropdownOpenTimeoutId),this.dropdownOpenTimeoutId=void 0)}clearCloseTimeout(){this.dropdownCloseTimeoutId&&(clearTimeout(this.dropdownCloseTimeoutId),this.dropdownCloseTimeoutId=void 0)}onDropdownButtonClick(e){e.preventDefault(),this.dropdownIsOpen&&void 0!==this.dropdownLastOpened&&this.dropdownLastOpened+500<Date.now()?this.setOpen(!1):this.setOpen(!0)}render(){const{categories:e}=this.props;return f.createElement(f.Fragment,null,f.createElement("div",{className:"wrapper site-navigation-bar"},f.createElement("div",{className:"site-logo"},f.createElement("a",{href:"/","data-track-note":"header-navigation"},"Our World",f.createElement("br",null)," in Data")),f.createElement("nav",{className:"site-navigation"},f.createElement("div",{className:"topics-button-wrapper"},f.createElement("a",{href:"/#entries",className:B()("topics-button",{active:this.dropdownIsOpen}),onMouseEnter:()=>this.scheduleOpenTimeout(200),onMouseLeave:()=>this.scheduleCloseTimeout(100),onClick:this.onDropdownButtonClick},f.createElement("div",{className:"label"},"Articles ",f.createElement("br",null),f.createElement("strong",null,"by topic")),f.createElement("div",{className:"icon"},f.createElement("svg",{width:"12",height:"6"},f.createElement("path",{d:"M0,0 L12,0 L6,6 Z",fill:"currentColor"})))),f.createElement(me,{categories:e,isOpen:this.dropdownIsOpen,onMouseEnter:()=>this.setOpen(!0),onMouseLeave:()=>this.scheduleCloseTimeout(350)})),f.createElement("div",null,f.createElement("div",{className:"site-primary-navigation"},f.createElement(X,null),f.createElement("ul",{className:"site-primary-links"},f.createElement("li",null,f.createElement("a",{href:"/blog","data-track-note":"header-navigation"},"Latest")),f.createElement("li",null,f.createElement("a",{href:"/about","data-track-note":"header-navigation"},"About")),f.createElement("li",null,f.createElement("a",{href:"/donate","data-track-note":"header-navigation"},"Donate")))),f.createElement("div",{className:"site-secondary-navigation"},f.createElement("ul",{className:"site-secondary-links"},f.createElement("li",null,f.createElement("a",{href:"/charts","data-track-note":"header-navigation"},"All charts")),f.createElement("li",null,f.createElement("a",{href:"https://sdg-tracker.org","data-track-note":"header-navigation"},"Sustainable Development Goals Tracker")))))),f.createElement("div",{className:"header-logos-wrapper"},f.createElement("a",{href:"https://www.oxfordmartin.ox.ac.uk/global-development",className:"oxford-logo"},f.createElement("img",{src:d.d+"/oms-logo.svg",alt:"Oxford Martin School logo"})),f.createElement("a",{href:"https://global-change-data-lab.org/",className:"gcdl-logo"},f.createElement("img",{src:d.d+"/gcdl-logo-narrow.png",alt:"Global Change Data Lab logo"}))),f.createElement("div",{className:"mobile-site-navigation"},f.createElement("button",{onClick:this.onToggleSearch,"data-track-note":"mobile-search-button"},f.createElement(Y.a,{icon:_.faSearch})),f.createElement("button",{onClick:this.onToggleNewsletterSubscription,"data-track-note":"mobile-newsletter-button"},f.createElement(Y.a,{icon:J.faEnvelopeOpenText})),f.createElement("button",{onClick:this.onToggleCategories,"data-track-note":"mobile-hamburger-button"},f.createElement(Y.a,{icon:K.faBars})))),this.showSearch&&f.createElement("div",{className:"search-dropdown sm-only"},f.createElement("form",{id:"search-nav",action:"/search",method:"GET"},f.createElement("input",{type:"search",name:"q",placeholder:"Search...",autoFocus:!0}))),this.showNewsletterSubscription&&f.createElement("div",{className:"newsletter-subscription"},f.createElement("div",{className:"box"},f.createElement(le,{context:ie.MobileMenu}))),this.showCategories&&f.createElement(fe,{categories:this.props.categories}))}};ce([l.observable.ref],de.prototype,"dropdownIsOpen",void 0),ce([l.observable],de.prototype,"showSearch",void 0),ce([l.observable],de.prototype,"showCategories",void 0),ce([l.observable],de.prototype,"showNewsletterSubscription",void 0),ce([l.action.bound],de.prototype,"onToggleSearch",null),ce([l.action.bound],de.prototype,"onToggleCategories",null),ce([l.action.bound],de.prototype,"onToggleNewsletterSubscription",null),ce([l.action.bound],de.prototype,"setOpen",null),ce([l.action.bound],de.prototype,"scheduleOpenTimeout",null),ce([l.action.bound],de.prototype,"scheduleCloseTimeout",null),ce([l.action.bound],de.prototype,"clearOpenTimeout",null),ce([l.action.bound],de.prototype,"clearCloseTimeout",null),ce([l.action.bound],de.prototype,"onDropdownButtonClick",null),de=ce([b.a],de);const pe=e=>f.createElement("li",{key:e.slug},f.createElement("a",{href:"/"+e.slug,className:"item","data-track-note":"header-navigation"},f.createElement("span",{className:"label"},e.title))),he=e=>[...e.entries,...Object(s.A)(e.subcategories.map(e=>e.entries))];let me=class extends f.Component{constructor(){super(...arguments),this.submenuRef=f.createRef()}setCategory(e){this.activeCategory=e}onActivate(e){if(e){const t=this.props.categories.find(t=>t.slug===e);t&&this.setCategory(t)}}onDeactivate(e){if(e){this.props.categories.find(t=>t.slug===e)===this.activeCategory&&this.setCategory(void 0)}}render(){const{activeCategory:e}=this,{categories:t,isOpen:n,onMouseEnter:o,onMouseLeave:a}=this.props;let r="";return e&&(r=e.subcategories.reduce((e,t)=>t.entries.length+e,e.entries.length)>10?"two-column":"one-column"),f.createElement("div",{className:B()("topics-dropdown",r,{open:n}),onMouseEnter:o,onMouseLeave:a,"aria-hidden":n},f.createElement("div",{className:"menu"},f.createElement(oe,{onActivate:this.onActivate,onDeactivate:this.onDeactivate,submenuRect:this.submenuRef.current&&this.submenuRef.current.getBoundingClientRect()},f.createElement("ul",null,t.map(t=>f.createElement("li",{key:t.slug,className:t===e?"active item":"item","data-submenu-id":t.slug},f.createElement("span",{className:"label"},t.name),f.createElement("span",{className:"icon"},f.createElement("svg",{width:"5",height:"10"},f.createElement("path",{d:"M0,0 L5,5 L0,10 Z",fill:"currentColor"}))))),f.createElement("hr",null),f.createElement("a",{href:"http://sdg-tracker.org",className:"item","data-submenu-id":!0,"data-track-note":"header-navigation"},f.createElement("span",{className:"label"},"Sustainable Development Goals Tracker"),f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:G.faExternalLinkAlt})))))),f.createElement("ul",{className:"submenu",ref:this.submenuRef},e&&he(e).map(e=>pe(e))))}};ce([l.observable.ref],me.prototype,"activeCategory",void 0),ce([l.action.bound],me.prototype,"setCategory",null),ce([Q.bind],me.prototype,"onActivate",null),ce([Q.bind],me.prototype,"onDeactivate",null),me=ce([b.a],me);let fe=class extends f.Component{toggleCategory(e){this.activeCategory===e?this.activeCategory=void 0:this.activeCategory=e}render(){const{categories:e}=this.props,{activeCategory:t}=this;return f.createElement("div",{className:"mobile-topics-dropdown sm-only"},f.createElement("ul",null,f.createElement("li",{className:"header"},f.createElement("h2",null,"Topics")),e.map(e=>f.createElement("li",{key:e.slug,className:"category "+(t===e?"expanded":"")},f.createElement("a",{onClick:()=>this.toggleCategory(e)},f.createElement("span",{className:"label-wrapper"},f.createElement("span",{className:"label"},e.name),f.createElement("span",{className:"entries-muted"},he(e).map(e=>e.title).join(", "))),f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:t===e?Z.faAngleUp:$.faAngleDown}))),t===e&&f.createElement("div",{className:"subcategory-menu"},f.createElement("ul",null,he(e).map(e=>pe(e)))))),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"/charts","data-track-note":"header-navigation"},"Charts")),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"/teaching","data-track-note":"header-navigation"},"Teaching Hub")),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"https://sdg-tracker.org","data-track-note":"header-navigation"},"Sustainable Development Goals Tracker")),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"/blog","data-track-note":"header-navigation"},"Latest")),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"/about","data-track-note":"header-navigation"},"About")),f.createElement("li",{className:"end-link"},f.createElement("a",{href:"/donate","data-track-note":"header-navigation"},"Donate"))))}};ce([l.observable.ref],fe.prototype,"activeCategory",void 0),ce([l.action.bound],fe.prototype,"toggleCategory",null),fe=ce([b.a],fe);let ge=class extends f.Component{constructor(){super(...arguments),this.categories=[]}onResize(){this.width=window.innerWidth}getEntries(){return ue(this,void 0,void 0,(function*(){const e=yield(yield fetch("/headerMenu.json",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}})).json();Object(l.runInAction)(()=>this.categories=e.categories)}))}componentDidMount(){this.getEntries(),this.onResize(),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return f.createElement(de,{categories:this.categories})}};ce([l.observable],ge.prototype,"width",void 0),ce([l.observable.ref],ge.prototype,"categories",void 0),ce([l.action.bound],ge.prototype,"onResize",null),ge=ce([b.a],ge);var ve=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},ye=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let be=class extends g.a.Component{constructor(){super(...arguments),this.query=decodeURIComponent((Object(C.b)().q||"").replace(/\+/g," "))}runSearch(e){return ye(this,void 0,void 0,(function*(){const t=yield q(e);this.lastQuery===e&&Object(l.runInAction)(()=>this.results=t)}))}onSearch(e){this.lastQuery=e,e?this.runSearch(e):this.results=void 0}componentDidMount(){const e=document.querySelector(".SearchPage > main > form input");e.value=this.query,e.focus(),this.onSearch(this.query)}onSearchInput(e){this.query=e.currentTarget.value}render(){return g.a.createElement(g.a.Fragment,null,this.results&&g.a.createElement(R,{results:this.results}))}};ve([l.observable],be.prototype,"query",void 0),ve([l.observable.ref],be.prototype,"results",void 0),ve([l.action.bound],be.prototype,"onSearch",null),ve([l.action.bound],be.prototype,"onSearchInput",null),be=ve([b.a],be);const we=new p;var Ee=n(592),Ce=n(591),Oe=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},Se=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};class Te{constructor(){this.name="",this.email="",this.message=""}clear(){this.name="",this.email="",this.message=""}}Oe([l.observable],Te.prototype,"name",void 0),Oe([l.observable],Te.prototype,"email",void 0),Oe([l.observable],Te.prototype,"message",void 0),Oe([l.action.bound],Te.prototype,"clear",null);let Pe=class extends g.a.Component{constructor(){super(...arguments),this.feedback=new Te,this.loading=!1,this.done=!1}submit(){return Se(this,void 0,void 0,(function*(){try{yield(e=this.feedback,new Promise((t,n)=>{const o=Object(l.toJS)(e),a=new XMLHttpRequest;o.message=e.message+`\n\n-----\nCurrent URL: ${window.location.href}\nUser Agent: ${navigator.userAgent}\nViewport: ${window.innerWidth}x${window.innerHeight}`,a.addEventListener("readystatechange",()=>{4===a.readyState&&(200!==a.status?n(`${a.status} ${a.statusText}`):t())}),a.open("POST","https://owid-feedback.netlify.app/.netlify/functions/hello"),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(JSON.stringify(o))})),this.feedback.clear(),this.done=!0}catch(e){this.error=e}finally{this.loading=!1}var e}))}onSubmit(e){e.preventDefault(),this.done=!1,this.error=void 0,this.loading=!0,this.submit()}onName(e){this.feedback.name=e.currentTarget.value}onEmail(e){this.feedback.email=e.currentTarget.value}onMessage(e){this.feedback.message=e.currentTarget.value}onClose(){this.props.onClose&&this.props.onClose(),this.done=!1}renderBody(){const{loading:e,done:t}=this;return t?g.a.createElement("div",{className:"doneMessage"},g.a.createElement("div",{className:"icon"},g.a.createElement(Y.a,{icon:Ce.faPaperPlane})),g.a.createElement("div",{className:"message"},g.a.createElement("h3",null,"Thank you for your feedback"),g.a.createElement("p",null,"We read all feedback, but due to a high volume of messages we are not able to reply to all.")),g.a.createElement("div",{className:"actions"},g.a.createElement("button",{onClick:this.onClose},"Close"))):g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"header"},"Leave us feedback"),g.a.createElement("div",{className:"notice"},g.a.createElement("p",null,"We read and consider all feedback, but due to a high volume of messages we are not able to reply to all.")),g.a.createElement("div",{className:"formBody"},g.a.createElement("div",{className:"formSection"},g.a.createElement("label",{htmlFor:"feedback.name"},"Your name"),g.a.createElement("input",{id:"feedback.name",onChange:this.onName,autoFocus:!0,disabled:e})),g.a.createElement("div",{className:"formSection"},g.a.createElement("label",{htmlFor:"feedback.email"},"Email address"),g.a.createElement("input",{id:"feedback.email",onChange:this.onEmail,type:"email",required:!0,disabled:e})),g.a.createElement("div",{className:"formSection formSectionExpand"},g.a.createElement("label",{htmlFor:"feedback.message"},"Message"),g.a.createElement("textarea",{id:"feedback.message",onChange:this.onMessage,rows:5,required:!0,disabled:e})),this.error?g.a.createElement("div",{style:{color:"red"}},this.error):void 0,this.done?g.a.createElement("div",{style:{color:"green"}},"Thanks for your feedback!"):void 0),g.a.createElement("div",{className:"footer"},g.a.createElement("button",{type:"submit",disabled:e},"Send message")))}render(){return g.a.createElement("form",{className:B()("FeedbackForm",{loading:this.loading}),onSubmit:this.onSubmit},this.renderBody())}};Oe([l.observable],Pe.prototype,"loading",void 0),Oe([l.observable],Pe.prototype,"done",void 0),Oe([l.observable],Pe.prototype,"error",void 0),Oe([l.action.bound],Pe.prototype,"onSubmit",null),Oe([l.action.bound],Pe.prototype,"onName",null),Oe([l.action.bound],Pe.prototype,"onEmail",null),Oe([l.action.bound],Pe.prototype,"onMessage",null),Oe([l.action.bound],Pe.prototype,"onClose",null),Pe=Oe([b.a],Pe);let Ne=class extends g.a.Component{constructor(){super(...arguments),this.isOpen=!1}toggleOpen(){this.isOpen=!this.isOpen}onClose(){this.isOpen=!1}onClickOutside(){this.onClose()}render(){return g.a.createElement("div",{className:"feedbackPromptContainer"+(this.isOpen?" active":"")},g.a.createElement("div",{style:{display:this.isOpen?"block":"none"}},g.a.createElement("div",{className:"overlay",onClick:this.onClickOutside}),g.a.createElement("div",{className:"box"},g.a.createElement(Pe,{onClose:this.onClose}))),this.isOpen?g.a.createElement("button",{className:"prompt",onClick:this.toggleOpen},g.a.createElement(Y.a,{icon:ae.faTimes})," Close"):g.a.createElement("button",{className:"prompt","data-track-note":"page-open-feedback",onClick:this.toggleOpen},g.a.createElement(Y.a,{icon:Ee.faCommentAlt})," Feedback"))}};Oe([l.observable],Ne.prototype,"isOpen",void 0),Oe([l.action.bound],Ne.prototype,"toggleOpen",null),Oe([l.action.bound],Ne.prototype,"onClose",null),Oe([l.action.bound],Ne.prototype,"onClickOutside",null),Ne=Oe([b.a],Ne);var De=n(593),xe=n.n(De);const ke=window.Stripe;var je,Me=ke?ke(d.k):void 0,Re=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},Ie=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};!function(e){e.USD="USD",e.GBP="GBP",e.EUR="EUR"}(je||(je={}));const Ae={[je.USD]:"$",[je.GBP]:"Â£",[je.EUR]:"â‚¬"},Le=[10,50,100,500,1e3],Ue=[5,10,20,50,100],Fe=[je.USD,je.GBP,je.EUR];let qe=class extends f.Component{constructor(){super(...arguments),this.interval="once",this.presetAmount=Le[1],this.customAmount="",this.isCustom=!1,this.name="",this.showOnList=!0,this.isSubmitting=!1,this.isLoading=!0,this.currencyCode=je.USD}setInterval(e){this.interval=e,this.presetAmount=this.intervalAmounts[1]}setPresetAmount(e){this.presetAmount=e,this.isCustom=!1}setCustomAmount(e){this.customAmount=e,this.isCustom=!0}setIsCustom(e){this.isCustom=e}setName(e){this.name=e}setShowOnList(e){this.showOnList=e}setErrorMessage(e){this.errorMessage=e}setCurrency(e){this.currencyCode=e}get amount(){return this.isCustom?parseFloat(this.customAmount||""):this.presetAmount}get intervalAmounts(){return"monthly"===this.interval?Ue:Le}get currencySymbol(){return Ae[this.currencyCode]}submitDonation(){return Ie(this,void 0,void 0,(function*(){if(!this.amount||this.amount>1e5||this.amount<1)throw new Error("You can only donate between $1 and $100,000 USD. For other amounts, please get in touch with us at donate@ourworldindata.org.");const e=yield this.getCaptchaToken(),t=yield fetch(d.f,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json"},body:JSON.stringify({name:this.name,showOnList:this.showOnList,currency:this.currencyCode,amount:Math.floor(100*this.amount),interval:this.interval,successUrl:d.d+"/donate/thank-you",cancelUrl:d.d+"/donate",captchaToken:e})}),n=yield t.json();if(!t.ok)throw n;const o=yield Me.redirectToCheckout({sessionId:n.id});if(o.error)throw o.error}))}getCaptchaToken(){return Ie(this,void 0,void 0,(function*(){return new Promise((e,t)=>{if(!this.captchaInstance)return t(new Error("Could not load reCAPTCHA. Please try again. If the problem persists, please get in touch with us at donate@ourworldindata.org"));this.captchaPromiseHandlers={resolve:e,reject:t},this.captchaInstance.reset(),this.captchaInstance.execute()})}))}onCaptchaLoad(){this.isLoading=!1}onCaptchaVerify(e){this.captchaPromiseHandlers&&this.captchaPromiseHandlers.resolve(e)}onSubmit(e){return Ie(this,void 0,void 0,(function*(){e.preventDefault(),this.isSubmitting=!0,this.errorMessage=void 0;try{yield this.submitDonation()}catch(e){this.isSubmitting=!1,Object(l.runInAction)(()=>this.errorMessage=e&&e.message||"Something went wrong. Please get in touch with us at donate@ourworldindata.org")}}))}render(){return f.createElement("form",{className:"donate-form",onSubmit:this.onSubmit},f.createElement("fieldset",{className:"donate-form-interval"},f.createElement("legend",null,f.createElement("h3",null,"Donation type")),f.createElement("div",{className:"owid-radios"},f.createElement("div",{className:"owid-radio"},f.createElement("input",{type:"radio",id:"once",value:"once",name:"interval",onChange:()=>this.setInterval("once"),checked:"once"===this.interval}),f.createElement("label",{htmlFor:"once"},"One time")),f.createElement("div",{className:"owid-radio"},f.createElement("input",{type:"radio",id:"monthly",value:"monthly",name:"interval",onChange:()=>this.setInterval("monthly"),checked:"monthly"===this.interval}),f.createElement("label",{htmlFor:"monthly"},"Monthly")))),f.createElement("fieldset",{className:"donate-form-currency"},f.createElement("legend",null,f.createElement("h3",null,"Currency")),f.createElement("div",{className:"owid-radios"},Fe.map(e=>f.createElement("div",{key:e,className:"owid-radio"},f.createElement("input",{type:"radio",id:e,value:e,name:"currency",onChange:()=>this.setCurrency(e),checked:this.currencyCode===e}),f.createElement("label",{htmlFor:e},e))))),f.createElement("fieldset",{className:"donate-form-amount"},f.createElement("legend",null,f.createElement("h3",null,"Amount")),f.createElement("div",{className:"radios"},this.intervalAmounts.map(e=>f.createElement("div",{key:e,className:"owid-radio"},f.createElement("input",{type:"radio",id:"amount-"+e,value:e,name:"amount",onChange:()=>this.setPresetAmount(e),checked:e===this.presetAmount&&!this.isCustom}),f.createElement("label",{htmlFor:"amount-"+e},this.currencySymbol,e))),f.createElement("div",{className:"owid-radio custom-radio"},f.createElement("input",{type:"radio",id:"custom",name:"amount",checked:this.isCustom,onChange:e=>this.setIsCustom(e.target.checked)}),f.createElement("label",{htmlFor:"custom"},this.currencySymbol,f.createElement("input",{type:"text",placeholder:"Other",name:"custom-amount",className:"custom-amount-input",onChange:e=>this.setCustomAmount(e.target.value),value:this.customAmount}))))),f.createElement("fieldset",null,f.createElement("div",{className:"owid-block-field"},f.createElement("label",{htmlFor:"name"},f.createElement("h3",null,"Your name (optional)")),f.createElement("input",{id:"name",type:"text",className:"owid-input",value:this.name,onChange:e=>this.setName(e.target.value)}))),f.createElement("fieldset",null,f.createElement("div",{className:"owid-checkboxes"},f.createElement("div",{className:"owid-checkbox-inline"},f.createElement("input",{type:"checkbox",id:"showOnList",value:"showOnList",name:"type",checked:this.showOnList,onChange:e=>this.setShowOnList(e.target.checked)}),f.createElement("label",{htmlFor:"showOnList"},"Include me on the public"," ",f.createElement("a",{href:"/supporters",target:"_blank"},"list of donors"))))),this.errorMessage&&f.createElement("p",{className:"error"},this.errorMessage),f.createElement(xe.a,{ref:e=>this.captchaInstance=e,sitekey:d.j,size:"invisible",badge:"bottomleft",render:"explicit",onloadCallback:this.onCaptchaLoad,verifyCallback:this.onCaptchaVerify}),f.createElement("button",{type:"submit",className:B()("owid-button",{disabled:this.isSubmitting}),disabled:this.isLoading},"Donate"," ",this.amount?`${this.currencySymbol}${this.amount}`:""," ","monthly"===this.interval?"per month":""),f.createElement("p",{className:"note"},"You will be redirected to a secure page to enter your payment details. We will not share any details you enter with any third parties."),f.createElement("p",{className:"note"},"This site is protected by reCAPTCHA and the Google"," ",f.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," ","and"," ",f.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," ","apply."))}};Re([l.observable],qe.prototype,"interval",void 0),Re([l.observable],qe.prototype,"presetAmount",void 0),Re([l.observable],qe.prototype,"customAmount",void 0),Re([l.observable],qe.prototype,"isCustom",void 0),Re([l.observable],qe.prototype,"name",void 0),Re([l.observable],qe.prototype,"showOnList",void 0),Re([l.observable],qe.prototype,"errorMessage",void 0),Re([l.observable],qe.prototype,"isSubmitting",void 0),Re([l.observable],qe.prototype,"isLoading",void 0),Re([l.observable],qe.prototype,"currencyCode",void 0),Re([l.observable.ref],qe.prototype,"captchaPromiseHandlers",void 0),Re([l.action.bound],qe.prototype,"setInterval",null),Re([l.action.bound],qe.prototype,"setPresetAmount",null),Re([l.action.bound],qe.prototype,"setCustomAmount",null),Re([l.action.bound],qe.prototype,"setIsCustom",null),Re([l.action.bound],qe.prototype,"setName",null),Re([l.action.bound],qe.prototype,"setShowOnList",null),Re([l.action.bound],qe.prototype,"setErrorMessage",null),Re([l.action.bound],qe.prototype,"setCurrency",null),Re([l.computed],qe.prototype,"amount",null),Re([l.computed],qe.prototype,"intervalAmounts",null),Re([l.computed],qe.prototype,"currencySymbol",null),Re([Q.bind],qe.prototype,"getCaptchaToken",null),Re([Q.bind],qe.prototype,"onCaptchaLoad",null),Re([Q.bind],qe.prototype,"onCaptchaVerify",null),Re([Q.bind],qe.prototype,"onSubmit",null),qe=Re([b.a],qe);class Ye{run(){return Ie(this,void 0,void 0,(function*(){v.render(f.createElement(qe,null),document.querySelector(".donate-form-container"))}))}}var _e=n(118),He=n(88),ze=n(183),We=n(252),Xe=n(594),Ve=n(595),Be=n(22),Qe=n(15);const Ke=f.createContext({});n(36),n(33);var Ge=n(73),$e=n(163),Ze=(n(136),n(291),n(301));function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var et,tt,nt,ot={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},at=Object(Ze.a)($e.a),rt=(et=at,nt=tt=function(e){var t,n;function o(t){var n;return(n=e.call(this)||this).select=void 0,n.lastRequest=void 0,n.mounted=!1,n.optionsCache={},n.handleInputChange=function(e,t){var o=n.props,a=o.cacheOptions,r=o.onInputChange,i=Object(Ge.k)(e,t,r);if(!i)return delete n.lastRequest,void n.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&n.optionsCache[i])n.setState({inputValue:i,loadedInputValue:i,loadedOptions:n.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var s=n.lastRequest={};n.setState({inputValue:i,isLoading:!0,passEmptyOptions:!n.state.loadedInputValue},(function(){n.loadOptions(i,(function(e){n.mounted&&(e&&(n.optionsCache[i]=e),s===n.lastRequest&&(delete n.lastRequest,n.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return i},n.state={defaultOptions:Array.isArray(t.defaultOptions)?t.defaultOptions:void 0,inputValue:void 0!==t.inputValue?t.inputValue:"",isLoading:!0===t.defaultOptions,loadedOptions:[],passEmptyOptions:!1},n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.componentDidMount=function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))},a.UNSAFE_componentWillReceiveProps=function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})},a.componentWillUnmount=function(){this.mounted=!1},a.focus=function(){this.select.focus()},a.blur=function(){this.select.blur()},a.loadOptions=function(e,t){var n=this.props.loadOptions;if(!n)return t();var o=n(e,t);o&&"function"==typeof o.then&&o.then(t,(function(){return t()}))},a.render=function(){var e=this,t=this.props,n=(t.loadOptions,t.isLoading),o=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["loadOptions","isLoading"]),a=this.state,r=a.defaultOptions,i=a.inputValue,s=a.isLoading,l=a.loadedInputValue,c=a.loadedOptions,u=a.passEmptyOptions?[]:i&&l?c:r||[];return g.a.createElement(et,Je({},o,{ref:function(t){e.select=t},options:u,isLoading:s||n,onInputChange:this.handleInputChange}))},o}(f.Component),tt.defaultProps=ot,nt),it=n(69),st=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},lt=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let ct=class extends f.Component{onChange(e){var t;const n=null===(t=Object(s.y)(Object(it.a)(e)))||void 0===t?void 0:t.id;n&&this.props.onChangeId(n)}loadOptions(e){return lt(this,void 0,void 0,(function*(){return(yield this.context.store.indicators.search({query:e})).map(e=>e.entity)}))}getValue(e){return""+e.id}getLabel(e){return e.sourceDesc?`${e.title}, ${e.sourceDesc}`:e.title||""}render(){const e=this.props.indicatorEntry,t=e&&e.entity;return f.createElement(rt,{className:"indicator-dropdown",onChange:this.onChange,placeholder:this.props.placeholder,defaultOptions:!0,loadOptions:this.loadOptions,getOptionValue:this.getValue,getOptionLabel:this.getLabel,value:t})}};ct.contextType=Ke,ct.defaultProps={placeholder:"Type to search..."},st([Q.bind],ct.prototype,"onChange",null),st([Q.bind],ct.prototype,"loadOptions",null),st([Q.bind],ct.prototype,"getValue",null),st([Q.bind],ct.prototype,"getLabel",null),ct=st([b.a],ct);var ut=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},dt=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};class pt{constructor(e){this.isLoading=!1,this.lastRetrieved=void 0,this.error=void 0,e&&(this.entity=e)}}ut([l.observable.ref],pt.prototype,"isLoading",void 0),ut([l.observable.ref],pt.prototype,"lastRetrieved",void 0),ut([l.observable.ref],pt.prototype,"error",void 0),ut([l.observable.ref],pt.prototype,"entity",void 0);class ht{constructor(){this.indicatorsById={}}fetchAll(){return dt(this,void 0,void 0,(function*(){try{const e=yield Object(s.v)(d.d+"/explore/indicators.json");return e.indicators}catch(e){return console.error("Failed to fetch indicators",e),[]}}))}fetchAllIdempotent(){return dt(this,void 0,void 0,(function*(){return this.fetchAllPromise||(this.fetchAllPromise=new Promise(e=>dt(this,void 0,void 0,(function*(){const t=yield this.fetchAll(),n=Object.entries(this.indicatorsById).filter(([,e])=>e.isLoading).map(([e])=>parseInt(e)),o=t.map(e=>e.id),a=Object(s.p)(n,o);Object(l.runInAction)(()=>{t.forEach(e=>{const t=this.get(e.id);t.isLoading=!1,t.lastRetrieved=new Date,t.error=void 0,t.entity=e}),a.forEach(e=>{const t=this.get(e);t.isLoading=!1,t.lastRetrieved=void 0,t.error=new Error("No indicator with id "+e)})}),e(t)})))),this.fetchAllPromise}))}get(e){if(!(e in this.indicatorsById)){const t=new pt;t.isLoading=!0,this.indicatorsById[e]=t,this.fetchAllIdempotent()}return this.indicatorsById[e]}search(e){return dt(this,void 0,void 0,(function*(){yield this.fetchAllIdempotent();const{query:t}=e,n=Object.values(this.indicatorsById);if(!t)return n;const o=t.toLowerCase();return n.filter(e=>{if(!e.entity)return!1;const t=e.entity;return(t.title&&t.title.toLowerCase()||"").indexOf(o)>-1})}))}}class mt{constructor(){this.indicators=new ht}}var ft=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class gt{constructor(e,t){this.model=e,this.chartUrl=t}get params(){const{model:e}=this,t=Object(s.qb)(this.chartUrl.params,"tab");return t.type=e.chartType===yt.defaultChartType?void 0:e.chartType,t.indicator=e.indicatorId?e.indicatorId.toString():void 0,t}get debounceMode(){return this.chartUrl.debounceMode}populateFromQueryStr(e){void 0!==e&&this.populateFromQueryParams(Object(C.f)(e))}populateFromQueryParams(e){const{model:t}=this,n=e.type;if(n&&t.setChartType(n),e.indicator){const n=parseInt(e.indicator);t.setIndicatorId(isNaN(n)?void 0:n)}t.grapher.populateFromQueryParams(e)}}ft([l.computed],gt.prototype,"params",null),ft([l.computed],gt.prototype,"debounceMode",null),ft([l.action.bound],gt.prototype,"populateFromQueryParams",null);var vt=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class yt{constructor(e){this.chartType=yt.defaultChartType,this.indicatorId=void 0,this.disposers=[],this.store=e,this.grapher=new w.a,this.url=new gt(this,this.grapher.url),this.disposers.push(Object(l.autorun)(()=>{if(null===this.indicatorEntry)this.grapher.setDimensionsFromConfigs([]);else{const e=this.indicatorEntry.entity;e&&this.grapher.updateFromObject(function(e){return Object.assign(Object.assign({},e),{selectedData:[{index:0,entityId:355}]})}(e))}}))}setIndicatorId(e){this.indicatorId=e}setChartType(e){this.chartType=e,this.updateGrapherFromExplorer()}updateGrapherFromExplorer(){this.grapher.type=this.configChartType,this.grapher.hasMapTab=this.isMap,this.grapher.hasChartTab=!this.isMap,this.grapher.currentTab=this.isMap?"map":"chart"}dispose(){this.disposers.forEach(e=>e())}populateFromQueryStr(e){this.url.populateFromQueryStr(e)}get isMap(){return"WorldMap"===this.chartType}get configChartType(){return this.isMap?Qe.a.LineChart:this.chartType}get indicatorEntry(){if(this.indicatorId){return this.store.indicators.get(this.indicatorId)}return null}}yt.WorldMap="WorldMap",yt.defaultChartType=Qe.a.LineChart,vt([l.observable],yt.prototype,"chartType",void 0),vt([l.observable],yt.prototype,"indicatorId",void 0),vt([l.action.bound],yt.prototype,"setIndicatorId",null),vt([l.action.bound],yt.prototype,"setChartType",null),vt([l.action.bound],yt.prototype,"updateGrapherFromExplorer",null),vt([l.computed],yt.prototype,"isMap",null),vt([l.computed],yt.prototype,"configChartType",null),vt([l.computed],yt.prototype,"indicatorEntry",null);var bt,wt=n(297),Et=n(138),Ct=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};const Ot=[{type:Qe.a.LineChart,label:"Line",icon:ze.faChartLine},{type:Qe.a.StackedArea,label:"Area",icon:Xe.faChartArea},{type:Qe.a.StackedBar,label:"Stacked",icon:We.faChartBar},{type:Qe.a.DiscreteBar,label:"Bar",icon:We.faChartBar},{type:Qe.a.SlopeChart,label:"Slope",icon:ze.faChartLine},{type:yt.WorldMap,label:"Map",icon:Ve.faMap}];let St=bt=class extends f.Component{static bootstrap({containerNode:e,queryStr:t}){const n=e.getBoundingClientRect(),o=Be.a.fromRect(n),a=new mt,r=new yt(a);return r.populateFromQueryStr(t),v.render(f.createElement(bt,{bounds:o,model:r}),e)}componentWillUnmount(){this.model.dispose()}get model(){return this.props.model}get grapher(){return this.model.grapher}get bounds(){return this.props.bounds}get childContext(){return{store:this.model.store}}renderChartTypeButton(e){const t=e.type===this.model.chartType;return f.createElement("button",{key:e.type,"data-type":e.type,className:"chart-type-button "+(t?"selected":""),onClick:()=>{this.model.setChartType(e.type)}},f.createElement(Y.a,{icon:e.icon}),f.createElement("div",null,e.label))}renderChartTypes(){return f.createElement("div",{className:"chart-type-buttons"},Ot.map(e=>this.renderChartTypeButton(e)))}renderIndicatorSwitching(){return f.createElement("div",{className:"indicator-bar"},f.createElement(ct,{placeholder:"Select variable",onChangeId:e=>this.model.indicatorId=e,indicatorEntry:this.model.indicatorEntry}))}render(){return f.createElement(Ke.Provider,{value:this.childContext},f.createElement("div",null,this.renderChartTypes(),this.renderIndicatorSwitching(),f.createElement(He.a,{grapher:this.grapher,bounds:this.bounds})),f.createElement("div",null,f.createElement(wt.a,{grapher:this.grapher})))}bindToWindow(){(new Et.a).bindToWindow(this.model.url),Object(l.autorun)(()=>document.title=this.grapher.currentTitle)}componentDidCatch(e,t){this.grapher.analytics.logIndicatorExplorerViewError(e,t)}};Ct([l.computed],St.prototype,"model",null),Ct([l.computed],St.prototype,"grapher",null),Ct([l.computed],St.prototype,"bounds",null),St=bt=Ct([b.a],St);var Tt=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Pt=class extends f.Component{get chartConfig(){const{variable:e,country:t}=this.props.countryPageProps;return{yAxis:{min:0},map:{variableId:e.id},tab:"chart",hasMapTab:!0,dimensions:[{property:"y",variableId:e.id,display:Object(s.e)(e.display)}],selectedData:[{entityId:t.id,index:0}]}}componentDidMount(){this.chart=new w.a(this.chartConfig,{isEmbed:!0})}render(){const{variable:e,country:t}=this.props.countryPageProps;return f.createElement(f.Fragment,null,f.createElement("h1",null,e.name," in ",t.name),this.chart&&f.createElement(E.a,{grapher:this.chart}))}};Tt([l.observable.ref],Pt.prototype,"chart",void 0),Tt([l.computed],Pt.prototype,"chartConfig",null),Pt=Tt([b.a],Pt);var Nt=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class Dt{constructor(){this.chartItems=[],this.chartItemsByTitle={},this.results=[],this.sections=[],this.query="",this.analytics=new p,this.searchInput=document.querySelector(".chartsSearchInput"),this.sections=Array.from(document.querySelectorAll(".CountryProfilePage main section"));const e=Array.from(document.querySelectorAll(".CountryProfilePage main li"));this.chartItems=e.map(e=>({title:e.firstChild.textContent.replace(/â‚‚/g,"2"),li:e,ul:e.closest("ul")})),this.chartItemsByTitle=Object(s.Z)(this.chartItems,"title"),this.strings=this.chartItems.map(e=>i.a.prepare(e.title))}get searchStrings(){return this.chartItems.map(e=>i.a.prepare(e.title))}get searchResults(){return i.a.go(this.query,this.searchStrings,{threshold:-150})}get resultsByTitle(){return Object(s.Z)(this.searchResults,"target")}logSearchQuery(){this.analytics.logChartsPageSearchQuery(this.query)}onSearchInput(){this.query=this.searchInput.value,void 0!==this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.logSearchQuery,500)}render(){var e,t;if(history.replaceState(null,document.title,window.location.pathname+(this.query?"#search="+(t=this.query,encodeURIComponent(t.replace(/ /g,"-"))):"")),this.query){for(const t of this.chartItems){const n=this.resultsByTitle[t.title];n?(t.li.style.display="",t.li.children[0].children[0].innerHTML=null!==(e=Object(c.b)(n))&&void 0!==e?e:""):t.li.style.display="none"}for(const e of this.sections)Array.from(e.querySelectorAll("li")).some(e=>"none"!==e.style.display)?e.style.display="":e.style.display="none"}else{for(const e of this.sections)e.style.display="";for(const e of this.chartItems)e.ul.append(e.li),e.li.style.display="",e.li.children[0].children[0].innerHTML=e.title}}run(){this.searchInput.addEventListener("input",this.onSearchInput),Object(l.autorun)(()=>this.render());const e=window.location.hash.match(/search=(.+)/);var t;e&&(this.searchInput.value=(t=e[1],decodeURIComponent(t).replace(/-/g," "))),this.query=this.searchInput.value}}Nt([l.observable],Dt.prototype,"query",void 0),Nt([l.computed],Dt.prototype,"searchStrings",null),Nt([l.computed],Dt.prototype,"searchResults",null),Nt([l.computed],Dt.prototype,"resultsByTitle",null),Nt([l.action.bound],Dt.prototype,"logSearchQuery",null),Nt([l.action.bound],Dt.prototype,"onSearchInput",null),Nt([l.action.bound],Dt.prototype,"run",null);var xt=n(182),kt=n(83),jt=n.n(kt),Mt=n(307),Rt=n.n(Mt),It=n(314);const At=new p,Lt=({title:e,name:t,consent:n,disabled:o,toggleConsent:a,children:r})=>{const i="cookie-preference-"+Rt()(t,{lower:!0});return f.createElement("div",{className:"cookie-preference"},f.createElement("input",{id:i,type:"checkbox",onChange:()=>{a(),At.logSiteClick(`${n?"Refuse":"Accept"} ${t}`,"cookie-preferences")},checked:n,disabled:o,"data-test":t+"-preference"}),f.createElement("label",{htmlFor:i},e),f.createElement("div",{className:"description"},r))},Ut=({preferences:e,date:t,dispatch:n})=>{const o=document.querySelector(".wp-block-cookie-preferences");return o?v.createPortal(f.createElement("div",{"data-test":"cookie-preferences",className:"cookie-preferences"},f.createElement(Lt,{title:"Necessary cookies",name:"necessary",consent:!0,disabled:!0},"The website cannot function properly without these cookies. If you wish, you can disable cookies completely in your browser preferences."),f.createElement(Lt,{title:"Analytics cookies",name:"analytics",consent:Kt(qt.Analytics,e),toggleConsent:()=>n({type:Yt.TogglePreference,payload:{preferenceType:qt.Analytics,date:Jt()}})},"We use these cookies to monitor and improve website performance."),t?f.createElement("div",{className:"last-updated"},"Preferences last updated:"," ",jt()(t,_t).format("LL")):f.createElement("button",{className:"owid-button",onClick:()=>n({type:Yt.Accept,payload:{date:Jt()}}),"data-test":"accept","data-track-note":"cookie-preferences"},f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:It.faCheck})),"I agree")),o):null},Ft=({accepted:e,outdated:t,dispatch:n})=>{const[o,a]=Object(f.useState)(!1);return Object(f.useEffect)(()=>{setTimeout(()=>{a(!0)},200)},[]),f.createElement("div",{className:B()("cookie-notice",{open:o&&(!e||t)}),"data-test":"cookie-notice"},f.createElement("div",{className:"wrapper"},f.createElement("div",{className:"owid-row"},f.createElement("div",{className:"owid-col owid-col--lg-1 explanation"},f.createElement("p",null,"We use cookies to give you the best experience on our website. By continuing without changing your cookie settings, we assume you agree to this.")),f.createElement("div",{className:"owid-col owid-col--lg-0 actions"},f.createElement("a",{href:"/privacy-policy",className:"button"},"Manage preferences"),f.createElement("button",{className:"button accept",onClick:()=>n({type:Yt.Accept,payload:{date:Jt()}}),"data-test":"accept","data-track-note":"cookie-notice"},f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:It.faCheck})),"I agree")))))};var qt,Yt;!function(e){e.Analytics="a",e.Marketing="m"}(qt||(qt={})),function(e){e[e.Accept=0]="Accept",e[e.TogglePreference=1]="TogglePreference",e[e.Reset=2]="Reset"}(Yt||(Yt={}));const _t="YYYYMMDD",Ht={preferences:[{type:qt.Analytics,value:!0}]},zt=({initialState:e=Ht})=>{const[t,n]=Object(f.useReducer)(Wt,e);return Object(f.useEffect)(()=>{$t(t.date,20201009)&&n({type:Yt.Reset})},[t.date]),Object(f.useEffect)(()=>{t.date&&xt.set("cookie_preferences",Zt(t),{expires:1095})},[t]),f.createElement("div",{"data-test-policy-date":20201009,className:"cookie-manager"},f.createElement(Ft,{accepted:!!t.date,outdated:$t(t.date,20201009),dispatch:n}),f.createElement(Ut,{preferences:t.preferences,date:t.date,dispatch:n}))},Wt=(e,{type:t,payload:n})=>{switch(t){case Yt.Accept:return{date:n.date,preferences:Gt(qt.Analytics,!0,e.preferences)};case Yt.TogglePreference:return{date:n.date,preferences:Gt(n.preferenceType,!Kt(n.preferenceType,e.preferences),e.preferences)};case Yt.Reset:return Ht;default:return e}},Xt=e=>{if(!e)return;const[t,n]=e.split("-"),o=Qt(n);if(!o)return;const a=Vt(t);return a.length?{preferences:a,date:o}:void 0},Vt=e=>e?e.split("|").map(e=>{const[t,,n]=e;return{type:t,value:"1"===n}}).filter(e=>Bt(e)):[],Bt=({type:e,value:t})=>Object.values(qt).includes(e)&&"boolean"==typeof t,Qt=e=>{if(e)return jt()(e,_t,!0).isValid()?parseInt(e,10):void 0},Kt=(e,t)=>{var n,o;return null!==(o=null===(n=t.find(t=>t.type===e))||void 0===n?void 0:n.value)&&void 0!==o&&o},Gt=(e,t,n)=>n.map(n=>n.type!==e?n:Object.assign(Object.assign({},n),{value:t})),$t=(e,t)=>!!e&&e<t,Zt=e=>`${e.preferences.map(e=>`${e.type}:${e.value?1:0}`).join("|")}-${e.date}`,Jt=()=>jt()().format(_t);n(164);var en=n(596),tn=n.n(en),nn=n(597);const on="wp-block-owid-additional-information",an=({content:e,title:t,image:n,variation:o,defaultOpen:a})=>{const[r,i]=Object(f.useState)(a?"auto":0),[s,l]=Object(f.useState)(a),c=Object(f.useRef)(null),u=[on];Object(f.useEffect)(()=>{c.current&&_e.a.embedder.addFiguresFromDOM(c.current),window.addEventListener("beforeprint",()=>{d()})},[s]);const d=()=>{i("auto"),s||l(!0)};n&&u.push("with-image"),0!==r&&u.push("open");return f.createElement("div",{"data-variation":o,"data-default-open":a,ref:c,className:u.join(" ")},f.createElement("h3",{onClick:()=>{i(0===r?"auto":0),s||l(!0)}},f.createElement(Y.a,{icon:nn.faAngleRight}),t),f.createElement(tn.a,{height:r,animateOpacity:!0},"merge-left"===o?f.createElement("div",{className:"content-wrapper"},n?f.createElement("figure",{dangerouslySetInnerHTML:{__html:n||""}}):null,f.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e||""}})):f.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e||""}})))};n(598);var rn=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let sn=class extends f.Component{get originalURLPath(){return Object(C.e)(this.props.originalAnchorAttributes.href).path}get originalURLQueryString(){return Object(C.e)(this.props.originalAnchorAttributes.href).queryString}get originalURLQueryParams(){const{originalURLQueryString:e}=this;return e?Object(C.f)(e):void 0}get originalURLEntityCodes(){var e;const t=null===(e=this.originalURLQueryParams)||void 0===e?void 0:e.country;return null!=t&&!Object(s.T)(t)?N.a.queryParamToEntities(t):[]}get entitiesInGlobalEntitySelection(){return _e.a.globalEntitySelection.selectedEntities.map(e=>e.code)}get updatedEntityQueryParam(){const e=Object(s.bc)(this.originalURLEntityCodes,this.entitiesInGlobalEntitySelection);return N.a.entitiesToQueryParam(e)}get updatedURLParams(){const{originalURLQueryParams:e,updatedEntityQueryParam:t}=this;return Object.assign(Object.assign({},e),!Object(s.T)(t)&&{country:t})}get updatedURL(){return this.originalURLPath+Object(C.c)(this.updatedURLParams)}render(){var e;return f.createElement("a",Object.assign({dangerouslySetInnerHTML:{__html:null!==(e=this.props.innerHTML)&&void 0!==e?e:""}},this.props.originalAnchorAttributes,{href:this.updatedURL}))}};rn([l.computed],sn.prototype,"originalURLPath",null),rn([l.computed],sn.prototype,"originalURLQueryString",null),rn([l.computed],sn.prototype,"originalURLQueryParams",null),rn([l.computed],sn.prototype,"originalURLEntityCodes",null),rn([l.computed],sn.prototype,"entitiesInGlobalEntitySelection",null),rn([l.computed],sn.prototype,"updatedEntityQueryParam",null),rn([l.computed],sn.prototype,"updatedURLParams",null),rn([l.computed],sn.prototype,"updatedURL",null),sn=rn([b.a],sn);var ln,cn=n(87);!function(e){e.coronavirus="coronavirus",e.co2="co2",e.energy="energy"}(ln||(ln={}));const un=[{project:ln.coronavirus,pageTitle:"Coronavirus Pandemic",landingPageSlug:"coronavirus"},{project:ln.co2,pageTitle:"CO2",landingPageSlug:"co2-and-other-greenhouse-gas-emissions"},{project:ln.energy,pageTitle:"Energy",landingPageSlug:"energy"}].map(e=>Object.assign(Object.assign({},e),{rootPath:e.project+"/country",genericProfileSlug:e.project+"-country-profile"})),dn=new p,pn=e=>{const[t,n]=Object(f.useState)(!1),o=Object(s.Mb)(L.a,"name");return g.a.createElement(cn.a,{options:o.map(e=>({label:e.name,value:e.slug})),onChange:t=>{const o=Object(it.a)(t)[0].value;dn.logCovidCountryProfileSearch(o),n(!0),window.location.href=`${e.countryProfileRootPath}/${o}`},isLoading:t,placeholder:"Search for a country..."})};const hn={GlossaryExcerpt:({excerpt:e,slug:t,label:n})=>g.a.createElement("span",{className:"glossary-excerpt"},g.a.createElement("span",{className:"title"},"Definition"),e,g.a.createElement("a",{target:"_blank",rel:"noopener",href:"/glossary#"+t},"Read more about ",n.toLowerCase(),g.a.createElement(Y.a,{icon:G.faExternalLinkAlt})))},mn=({label:e,children:t})=>{const[n,o]=Object(f.useState)(!1);return g.a.createElement("span",{className:"expandable-inline-block"},g.a.createElement("button",{onClick:()=>o(!n)},e),n&&g.a.createElement("span",null,t))};var fn=n(600),gn=n(599),vn=n(245),yn=n.n(vn);var bn;!function(e){e.Up="up",e.Down="down"}(bn||(bn={}));const wn=()=>{let e=window.pageYOffset;const[t,n]=Object(f.useState)(null);return Object(f.useEffect)(()=>{const t=yn()(()=>{(()=>{const t=window.pageYOffset;n(t>e?bn.Down:bn.Up),e=t})()},500);return document.addEventListener("scroll",t),()=>{document.removeEventListener("scroll",t)}}),t},En=e=>e.rootBounds&&e.boundingClientRect.top<e.rootBounds.height/2,Cn=({headings:e,pageTitle:t,hideSubheadings:n})=>{const[o,a]=Object(f.useState)(!1),[r,i]=Object(f.useState)(!1),[s,l]=Object(f.useState)(""),c=Object(f.useRef)(null),u=Object(f.useRef)(null),d=()=>{a(!o)};var p,h;return p=c,h=a,Object(f.useEffect)(()=>{const e=e=>{var t;p&&!(null===(t=p.current)||void 0===t?void 0:t.contains(e.target))&&h(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),Object(f.useEffect)(()=>{if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{for(const t of e){const e=t.boundingClientRect;e.top<0&&i(!0),e.bottom>0&&i(!1)}});u.current&&e.observe(u.current)}},[]),Object(f.useEffect)(()=>{if("IntersectionObserver"in window){const t=e.map((t,n)=>({slug:t.slug,previous:n>0?e[n-1].slug:null}));let o,a=!0;const r=new IntersectionObserver(e=>{let n;o=e.find(e=>e.isIntersecting&&1!==e.intersectionRatio&&En(e)),o?l(o.target.id):(n=e.find(e=>En(e)&&1===e.intersectionRatio),n?l(((e,t)=>{var n;return null===(n=t.find(t=>t.slug===(null==e?void 0:e.target.id)))||void 0===n?void 0:n.previous})(n,t)||""):a&&(o=e.reverse().find(e=>e.boundingClientRect.top<0),l((null==o?void 0:o.target.id)||""))),a=!1},{rootMargin:"-10px",threshold:new Array(11).fill(0).map((e,t)=>t/10)});let i=null;i=n?document.querySelectorAll("h2"):document.querySelectorAll("h2, h3"),i.forEach(e=>{r.observe(e)})}},[]),f.createElement("aside",{ref:c,className:`entry-sidebar${o?" toggled":""}${r?" sticky":""}`},f.createElement("div",{className:"sticky-sentinel",ref:u}),f.createElement("nav",{className:"entry-toc"},f.createElement("ul",null,f.createElement("li",null,f.createElement("a",{onClick:()=>{d(),l("")},href:"#"},t)),e.filter(e=>!n||!e.isSubheading).map((e,t)=>f.createElement("li",{key:t,className:(e.isSubheading?"subsection":"section")+(e.slug===s?" active":"")},f.createElement("a",{onClick:d,href:"#"+e.slug},e.text))))),f.createElement("div",{className:"toggle-toc"},f.createElement("button",{"data-track-note":"page-toggle-toc","aria-label":(o?"Close":"Open")+" table of contents",onClick:d},f.createElement(Y.a,{icon:o?gn.faChevronLeft:fn.faListAlt}))))},On=({charts:e})=>{const t=Object(f.useRef)(null),[n,o]=Object(f.useState)(e[0]);return Object(f.useEffect)(()=>{t.current&&_e.a.embedder.addFiguresFromDOM(t.current)},[n]),f.createElement("div",{className:"related-charts"},f.createElement("div",{className:"wp-block-columns is-style-sticky-right"},f.createElement("div",{className:"wp-block-column"},f.createElement("ul",null,e.map(e=>f.createElement("li",{className:n&&n.slug===e.slug?"active":"",key:e.slug},f.createElement("a",{href:"/grapher/"+e.slug,onClick:t=>{t.metaKey||t.shiftKey||t.ctrlKey||(o({title:e.title,slug:e.slug}),t.preventDefault())}},e.title),e.variantName?f.createElement("span",{className:"variantName"},e.variantName):null)))),f.createElement("div",{className:"wp-block-column",id:"all-charts-preview",ref:t},f.createElement("figure",{key:n.slug,"data-grapher-src":"/grapher/"+n.slug}))))};var Sn=n(103),Tn=n(601),Pn=n(602),Nn=n(603),Dn=n(119),xn=function(e,t){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function kn(e,t){function n(){this.constructor=e}xn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jn=function(){return(jn=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Mn={wrapperComponent:null,contentComponent:null,previousScale:1,scale:1,positionX:0,positionY:0,options:{disabled:!1,transformEnabled:!0,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,limitToWrapper:!1,centerContent:!0,wrapperClass:"",contentClass:""},wheel:{disabled:!1,step:5,wheelEnabled:!0,touchPadEnabled:!0,limitsOnWheel:!1},pan:{disabled:!1,panAnimationType:"linear",lockAxisX:!1,lockAxisY:!1,velocity:!0,velocityEqualToMove:!0,velocitySensitivity:2,velocityActiveScale:1,velocityMinSpeed:1,velocityBaseTime:1600,velocityAnimationType:"easeOutQuart",padding:!0,paddingSize:30,panReturnAnimationTime:400,panReturnAnimationType:"easeOut",disableOnTarget:[]},pinch:{disabled:!1},zoomIn:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},zoomOut:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},doubleClick:{disabled:!1,step:20,mode:"zoomIn",animation:!0,animationType:"easeOut",animationTime:200},reset:{disabled:!1,animation:!0,animationType:"easeOut",animationTime:200},scalePadding:{disabled:!1,size:.2,animationTime:200,animationType:"easeOut"}},Rn=function(e,t){return Number(e.toFixed(t))},In=function(e,t){return"number"==typeof e?e:t},An=function(e,t,n,o){return Rn(o?e<t?t:e>n?n:e:e,2)},Ln=function(e,t){return Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))},Un=function(e){var t=jn({},e);return Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),t},Fn=function(e,t){e&&"function"==typeof e&&e(t)},qn=function(e,t,n){var o=n.scale,a=n.options,r=a.maxScale,i=a.minScale;return!!e&&(o<r||o>i||(Math.sign(e.deltaY)!==Math.sign(t.deltaY)||(e.deltaY>0&&e.deltaY<t.deltaY||(e.deltaY<0&&e.deltaY>t.deltaY||Math.sign(e.deltaY)!==Math.sign(t.deltaY)))))},Yn=function(e,t){return Object.keys(e).reduce((function(n,o){return"object"==typeof t[o]&&null!==t[o]?n[o]=jn(jn({},e[o]),t[o]):n[o]=void 0===t[o]?e[o]:t[o],n}),{})};var _n={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function Hn(){this.mounted&&(this.animation&&cancelAnimationFrame(this.animation),this.animate=!1,this.animation=!1,this.velocity=!1)}function zn(e,t,n){var o=this;if(this.mounted){var a=(new Date).getTime();Hn.call(this),this.animation=function(){if(o.animation&&o.mounted){var r=(new Date).getTime()-a,i=(0,_n[e])(r/t);r>=t?(n(1),o.animation=null):(n(i),requestAnimationFrame(o.animation))}},requestAnimationFrame(this.animation)}}function Wn(e){var t=this,n=e.targetState,o=e.speed,a=e.type,r=this.stateProvider,i=r.scale,s=r.positionX,l=r.positionY,c=n.scale-i,u=n.positionX-s,d=n.positionY-l;0===o?(this.stateProvider.previousScale=this.stateProvider.scale,this.stateProvider.scale=n.scale,this.stateProvider.positionX=n.positionX,this.stateProvider.positionY=n.positionY,this.applyTransformation()):zn.call(this,a,o,(function(e){t.stateProvider.previousScale=t.stateProvider.scale,t.stateProvider.scale=i+c*e,t.stateProvider.positionX=s+u*e,t.stateProvider.positionY=l+d*e,t.applyTransformation()}))}function Xn(e,t,n,o,a){var r=t-(a?o:0);return!isNaN(n)&&e>=n?n:!isNaN(t)&&e<=r?r:e}function Vn(e,t,n,o,a,r){var i=n.minPositionX,s=n.minPositionY,l=n.maxPositionX,c=n.maxPositionY,u=r?a*r.offsetWidth/100:0,d=r?a*r.offsetHeight/100:0;return{x:An(e,i-u,l+u,o),y:An(t,s-d,c+d,o)}}function Bn(e,t,n){var o=t.getBoundingClientRect(),a=(e.clientX-o.left)/n,r=(e.clientY-o.top)/n;return(isNaN(a)||isNaN(r))&&console.error("No mouse or touch offset found"),{mouseX:a,mouseY:r}}function Qn(e,t,n,o,a){var r=this.stateProvider,i=r.scale,s=r.positionX,l=r.positionY,c=r.options.transformEnabled,u=n-i;return"number"!=typeof e||"number"!=typeof t?console.error("Mouse X and Y position were not provided!"):c?Vn(s-e*u,l-t*u,o,a,0,null):{newPositionX:s,newPositionY:l}}function Kn(e){var t=e.touches;return t&&1===t.length?{clientX:t[0].clientX,clientY:t[0].clientY}:t?null:{clientX:e.clientX,clientY:e.clientY}}function Gn(e){var t=this.stateProvider,n=t.scale,o=t.positionX,a=t.positionY,r=t.options,i=r.limitToBounds,s=r.minScale,l=t.pan,c=l.lockAxisX,u=l.lockAxisY,d=l.padding,p=l.paddingSize,h=t.wrapperComponent;if(this.startCoords){var m=this.startCoords,f=m.x,g=m.y,v=Kn(e);if(!v)return console.error("Cannot find mouse client positions");var y=v.clientX,b=v.clientY,w=c?o:y-f,E=u?a:b-g,C=d&&n>=s?p:0;if(w!==o||E!==a){var O=Vn(w,E,this.bounds,i,C,h);Jn.call(this,O.x,O.y)}}}function $n(){var e=this.stateProvider,t=e.scale,n=e.options.minScale,o=e.pan,a=o.disabled,r=o.padding,i=o.panReturnAnimationTime,s=o.panReturnAnimationType;if(!(a||t<n||!r)){var l=Zn.call(this);Wn.call(this,{targetState:l,speed:i,type:s})}}function Zn(){var e=this.stateProvider,t=e.positionX,n=e.positionY,o=e.scale,a=e.options,r=a.disabled,i=a.limitToBounds,s=a.limitToWrapper,l=this.state.wrapperComponent;if(!r){var c=this.bounds,u=c.maxPositionX,d=c.minPositionX,p=c.maxPositionY,h=c.minPositionY,m=t>u||t<d,f=n>p||n<h,g=t>u?l.offsetWidth:this.stateProvider.minPositionX||0,v=n>p?l.offsetHeight:this.stateProvider.minPositionY||0,y=Qn.call(this,g,v,o,this.bounds,i||s),b=y.x,w=y.y;return{scale:o,positionX:m?b:t,positionY:f?w:n}}}function Jn(e,t){this.stateProvider.pan.padding&&(this.stateProvider.positionX=e,this.stateProvider.positionY=t,this.applyTransformation())}function eo(e,t,n,o,a){var r=this.stateProvider,i=r.scale,s=r.options,l=s.maxScale,c=s.minScale,u=r.scalePadding,d=u.size,p=u.disabled,h=r.wrapperComponent,m=null;if(a){m=i+(t-t*(1e-4*window.innerWidth))*e*(i/(e<0?30:20))}else{var f=2-window.innerWidth/h.offsetWidth;m=i+t*e*((i-i*Math.max(.2,Math.min(.99,f)))/20)}if(o)return m;var g=!n&&!p;return Xn(Rn(m,3),c,l,d,g)}function to(e,t){var n=this.stateProvider,o=function(e,t,n){var o=e.offsetWidth,a=e.offsetHeight,r=t.offsetWidth*n,i=t.offsetHeight*n;return{wrapperWidth:o,wrapperHeight:a,newContentWidth:r,newDiffWidth:o-r,newContentHeight:i,newDiffHeight:a-i}}(n.wrapperComponent,n.contentComponent,e),a=o.wrapperWidth,r=o.wrapperHeight,i=function(e,t,n,o,a,r,i){var s=e>t?n*(i?1:.5):0,l=o>a?r*(i?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:o-a-l,maxPositionY:l}}(a,o.newContentWidth,o.newDiffWidth,r,o.newContentHeight,o.newDiffHeight,t);return this.bounds=i,i}function no(e){var t=this.stateProvider,n=t.scale,o=t.contentComponent,a=t.options.limitToBounds,r=t.scalePadding,i=r.size,s=r.disabled,l=t.wheel,c=l.step,u=l.limitsOnWheel;e.preventDefault(),e.stopPropagation();var d=function(e,t){var n=e?e.deltaY<0?1:-1:0;return In(t,n)}(e,null),p=eo.call(this,d,c,!e.ctrlKey);if(n!==p){var h=to.call(this,p,!u),m=Bn(e,o,n),f=m.mouseX,g=m.mouseY,v=a&&(s||0===i||u),y=Qn.call(this,f,g,p,h,v),b=y.x,w=y.y;this.bounds=h,this.stateProvider.previousScale=n,this.stateProvider.scale=p,this.stateProvider.positionX=b,this.stateProvider.positionY=w,this.applyTransformation()}}function oo(e,t,n,o,a){var r=this.stateProvider,i=r.contentComponent,s=r.options,l=s.disabled,c=s.minScale,u=s.maxScale,d=s.limitToBounds,p=s.limitToWrapper;if(!l&&!e){var h=Xn(Rn(t,2),c,u,null,null),m=to.call(this,h,p),f=n,g=o;if(a){var v=Bn(a,i,t);f=v.mouseX,g=v.mouseY}var y=Qn.call(this,f,g,h,m,d);return{scale:h,positionX:y.x,positionY:y.y}}}function ao(){var e=this.stateProvider,t=e.scale,n=e.wrapperComponent,o=e.options,a=o.minScale,r=o.limitToBounds,i=e.scalePadding,s=i.disabled,l=i.animationTime,c=i.animationType,u=s||t>=a;if((t>=1||r)&&$n.call(this),!u){var d=n.offsetWidth/2,p=n.offsetHeight/2,h=oo.call(this,!1,a,d,p,null);Wn.call(this,{targetState:h,speed:l,type:c})}}function ro(e){e.preventDefault(),e.stopPropagation();var t=this.stateProvider,n=t.contentComponent,o=t.scale,a=t.doubleClick,r=a.disabled,i=a.mode,s=a.step,l=a.animationTime,c=a.animationType;if("reset"===i)return so.call(this,e,l);var u="zoomOut"===i?-1:1,d=eo.call(this,u,s,void 0,void 0,!0),p=Bn(e,n,o),h=p.mouseX,m=p.mouseY,f=oo.call(this,r,d,h,m);if(f.scale!==o){var g=lo(eo.call(this,u,s,!0,void 0,!0),d,l);Wn.call(this,{targetState:f,speed:g,type:c})}}function io(e,t){var n=this.stateProvider,o=n.scale,a=n.positionX,r=n.positionY,i=n.wrapperComponent,s=n.zoomIn,l=n.zoomOut,c=(i.offsetWidth/2-a)/o,u=(i.offsetHeight/2-r)/o,d=eo.call(this,e,t,void 0,void 0,!0),p=d>o,h=p?s.animationTime:l.animationTime,m=p?s.animationType:l.animationType,f=p?s.disabled:l.disabled,g=oo.call(this,f,d,c,u);if(g.scale!==o){var v=lo(eo.call(this,e,t,!0,void 0,!0),d,h);Wn.call(this,{targetState:g,speed:v,type:m})}}function so(e){var t=this.props.defaultValues,n=t.defaultScale,o=t.defaultPositionX,a=t.defaultPositionY,r=this.stateProvider,i=r.scale,s=r.positionX,l=r.positionY,c=r.reset,u=r.options,d=u.disabled,p=u.limitToBounds,h=u.centerContent,m=u.limitToWrapper;if(!(d||c.disabled||i===n&&s===o&&l===a)){var f="number"==typeof e?e:c.animationTime,g=In(n,Mn.scale),v=In(o,Mn.positionX),y=In(a,Mn.positionY);if(p&&!m||h){var b=to.call(this,g,m);v=b.minPositionX,y=b.minPositionY}var w={scale:g,positionX:v,positionY:y};Wn.call(this,{targetState:w,speed:f,type:c.animationType})}}function lo(e,t,n){return n*(t/e)}function co(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function uo(e){return e===1/0||e===-1/0}function po(e,t){var n=this.stateProvider,o=n.options,a=o.minScale,r=o.maxScale,i=n.scalePadding,s=i.size,l=i.disabled;if("number"!=typeof t||"number"!=typeof e)return console.error("Pinch touches distance was not provided");if(!(e<0)){var c=e/t*this.pinchStartScale;return Xn(Rn(c,2),a,r,s,!l)}}function ho(e){var t=this.stateProvider,n=t.scale,o=t.options,a=o.limitToBounds,r=o.limitToWrapper,i=t.scalePadding,s=i.disabled,l=i.size,c=t.wheel.limitsOnWheel,u=t.pinch,d=this.state.contentComponent;if(!u.disabled&&!this.stateProvider.options.disabled&&(e.cancelable&&(e.preventDefault(),e.stopPropagation()),null!==this.pinchStartDistance)){var p=function(e,t,n){var o=n.getBoundingClientRect(),a=e.touches,r=co(a[0].clientX-o.left,5),i=co(a[0].clientY-o.top,5);return{mouseX:(r+co(a[1].clientX-o.left,5))/2/t,mouseY:(i+co(a[1].clientY-o.top,5))/2/t}}(e,n,d),h=p.mouseX,m=p.mouseY;if(!uo(h)&&!uo(m)){var f=function(e){return Ln(e.touches[0],e.touches[1])}(e),g=po.call(this,f,this.pinchStartDistance);if(!uo(g)&&g!==n){var v=to.call(this,g,r),y=a&&(s||0===l||c),b=Qn.call(this,h,m,g,v,y),w=b.x,E=b.y;this.lastDistance=f,this.stateProvider.positionX=w,this.stateProvider.positionY=E,this.stateProvider.scale=g,this.stateProvider.previousScale=n,this.applyTransformation()}}}}function mo(e,t){return this.stateProvider.pan.velocityEqualToMove?t-t/Math.max(1,e):t}function fo(){this.setState({startAnimation:!1})}function go(){this.setState({startAnimation:!0})}function vo(){var e=this,t=this.stateProvider,n=t.positionX,o=t.positionY,a=t.options.limitToBounds,r=t.pan,i=r.velocityBaseTime,s=r.lockAxisX,l=r.lockAxisY,c=r.velocityAnimationType,u=r.panReturnAnimationTime,d=r.panReturnAnimationType,p=r.padding,h=r.paddingSize,m=t.wrapperComponent;if(this.mounted){if(!this.velocity||!this.bounds)return Hn.call(this);var f=this.bounds,g=f.maxPositionX,v=f.minPositionX,y=f.maxPositionY,b=f.minPositionY,w=this.velocity,E=w.velocityX,C=w.velocityY,O=w.velocity,S=mo.call(this,O,i);if(S){var T=E,P=C,N=S>u?S:u,D=p?h:0,x=m?D*m.offsetWidth/100:0,k=m?D*m.offsetHeight/100:0,j=g+x,M=v-x,R=y+k,I=b-k,A=Vn(n,o,this.bounds,a,D,m),L=(new Date).getTime();zn.call(this,c,N,(function(t){var r=(new Date).getTime()-L,i=(0,_n[d])(r/u);(r>u||i>1||i===1/0||i===-1/0)&&(i=1);var c=bo(s,T,t,i,v,g,a,n,A.x,M,j),p=bo(l,P,t,i,b,y,a,o,A.y,I,R);n===c&&o===p||(e.stateProvider.positionX=c,e.stateProvider.positionY=p,e.applyTransformation())}))}else $n.call(this)}}function yo(e){var t=this,n=this.stateProvider,o=n.scale,a=n.options.disabled,r=n.pan,i=r.velocity,s=r.velocitySensitivity,l=r.velocityActiveScale,c=r.velocityMinSpeed,u=n.wrapperComponent;if(!(!i||l>=o||a)){fo.call(this);var d=Date.now();if(this.lastMousePosition){var p=Kn(e);if(!p)return console.error("No mouse or touch position detected");var h=p.clientX,m=p.clientY,f=h-this.lastMousePosition.clientX,g=m-this.lastMousePosition.clientY,v=d-this.velocityTime,y=2-u.offsetWidth/window.innerWidth,b=2-u.offsetHeight/window.innerHeight,w=f/v*s*o*(20*Math.max(c,Math.min(2,y))),E=g/v*s*o*(20*Math.max(c,Math.min(2,b))),C=f*f+g*g,O=Math.sqrt(C)/v*s;if(this.velocity&&O<this.velocity.velocity&&this.throttle)return;this.velocity={velocityX:w,velocityY:E,velocity:O},this.throttle&&clearTimeout(this.throttle),this.throttle=setTimeout((function(){t.mounted&&(t.throttle=!1)}),30)}var S=Kn(e);this.lastMousePosition=S,this.velocityTime=d}}function bo(e,t,n,o,a,r,i,s,l,c,u){if(i){var d;if(l>a&&s>r)return(d=l-(l-r)*o)>u?u:d<r?r:d;if(l<a&&s<a)return(d=l-(l-a)*o)<c?c:d>a?a:d}return e?l:An(s+t*n,a,r,i)}var wo=["previousScale","scale","positionX","positionY","defaultPositionX","defaultPositionY","defaultScale","onWheelStart","onWheel","onWheelStop","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","onZoomChange","options","wheel","scalePadding","pan","pinch","zoomIn","zoomOut","doubleClick","reset"],Eo=function(e){return Object.keys(e).reduce((function(t,n){return wo.includes(n)&&(t[n]=e[n]),t}),{})},Co=g.a.createContext({}),Oo=null,So=null,To=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!0,t.state={wrapperComponent:void 0,contentComponent:void 0},t.stateProvider=jn(jn(jn(jn({},Mn),Yn(Mn,t.props.dynamicValues)),t.props.defaultValues),{previousScale:t.props.dynamicValues.scale||t.props.defaultValues.scale||Mn.scale}),t.windowToWrapperScaleX=0,t.windowToWrapperScaleY=0,t.startCoords=null,t.isDown=!1,t.pinchStartDistance=null,t.lastDistance=null,t.pinchStartScale=null,t.distance=null,t.bounds=null,t.velocityTime=null,t.lastMousePosition=null,t.velocity=null,t.offsetX=null,t.offsetY=null,t.throttle=!1,t.previousWheelEvent=null,t.lastScale=null,t.animate=null,t.animation=null,t.maxBounds=null,t.handleWheel=function(e){var n=t.stateProvider,o=n.scale,a=n.wheel,r=a.disabled,i=a.wheelEnabled,s=a.touchPadEnabled,l=t.props,c=l.onWheelStart,u=l.onWheel,d=l.onWheelStop,p=t.state,h=p.wrapperComponent,m=p.contentComponent;t.isDown||r||t.stateProvider.options.disabled||!h||!m||(i||e.ctrlKey)&&(!s&&e.ctrlKey||(Oo||(t.lastScale=o,Hn.call(t),Fn(c,t.getCallbackProps())),no.call(t,e),Fn(u,t.getCallbackProps()),t.applyTransformation(null,null,null),t.previousWheelEvent=e,qn(t.previousWheelEvent,e,t.stateProvider)&&(clearTimeout(Oo),Oo=setTimeout((function(){t.mounted&&(Fn(d,t.getCallbackProps()),Oo=null)}),180)),t.animate=!1,t.lastScale=t.stateProvider.scale,clearTimeout(So),So=setTimeout((function(){t.mounted&&ao.call(t,e)}),100)))},t.checkPanningTarget=function(e){var n=t.stateProvider.pan.disableOnTarget;return n.map((function(e){return e.toUpperCase()})).includes(e.target.tagName)||n.find((function(t){return e.target.classList.value.includes(t)}))},t.checkIsPanningActive=function(e){var n=t.stateProvider.pan.disabled,o=t.state,a=o.wrapperComponent,r=o.contentComponent;return!t.isDown||n||t.stateProvider.options.disabled||e.touches&&(1!==e.touches.length||Math.abs(t.startCoords.x-e.touches[0].clientX)<1||Math.abs(t.startCoords.y-e.touches[0].clientY)<1)||!a||!r},t.handleSetUpPanning=function(e,n){var o=t.stateProvider,a=o.positionX,r=o.positionY;t.isDown=!0,t.startCoords={x:e-a,y:n-r},Fn(t.props.onPanningStart,t.getCallbackProps())},t.handleStartPanning=function(e){var n=t.stateProvider,o=n.wrapperComponent,a=n.scale,r=n.options,i=r.minScale,s=r.maxScale,l=r.limitToWrapper,c=n.pan.disabled,u=e.target,d=e.touches;c||t.stateProvider.options.disabled||o&&!o.contains(u)||t.checkPanningTarget(e)||a<i||a>s||(Hn.call(t),t.bounds=to.call(t,a,l),d&&1===d.length&&t.handleSetUpPanning(d[0].clientX,d[0].clientY),d||t.handleSetUpPanning(e.clientX,e.clientY))},t.handlePanning=function(e){t.isDown&&e.preventDefault(),t.checkIsPanningActive(e)||(e.stopPropagation(),yo.call(t,e),Gn.call(t,e),Fn(t.props.onPanning,t.getCallbackProps()))},t.handleStopPanning=function(){if(t.isDown){t.isDown=!1,t.animate=!1,t.animation=!1,go.call(t),Fn(t.props.onPanningStop,t.getCallbackProps());var e=t.stateProvider,n=e.pan.velocity,o=e.scale;t.velocity&&n&&o>1?vo.call(t):$n.call(t)}},t.handlePinchStart=function(e){var n=t.stateProvider.scale;e.preventDefault(),e.stopPropagation(),Hn.call(t);var o=Ln(e.touches[0],e.touches[1]);t.pinchStartDistance=o,t.lastDistance=o,t.pinchStartScale=n,t.isDown=!1,Fn(t.props.onPinchingStart,t.getCallbackProps())},t.handlePinch=function(e){t.isDown=!1,ho.call(t,e),Fn(t.props.onPinching,t.getCallbackProps())},t.handlePinchStop=function(){"number"==typeof t.pinchStartScale&&(t.isDown=!1,t.velocity=null,t.lastDistance=null,t.pinchStartScale=null,t.pinchStartDistance=null,ao.call(t),Fn(t.props.onPinchingStop,t.getCallbackProps()))},t.handleTouchStart=function(e){var n=t.stateProvider,o=n.wrapperComponent,a=n.contentComponent,r=n.scale,i=n.options,s=i.disabled,l=i.minScale,c=e.touches;if(!s&&o&&a&&!(r<l))return Hn.call(t),c&&1===c.length?t.handleStartPanning(e):c&&2===c.length?t.handlePinchStart(e):void 0},t.handleTouch=function(e){var n=t.stateProvider,o=n.pan,a=n.pinch;if(!n.options.disabled)return o.disabled||1!==e.touches.length?a.disabled||2!==e.touches.length?void 0:t.handlePinch(e):t.handlePanning(e)},t.handleTouchStop=function(){t.handleStopPanning(),t.handlePinchStop()},t.zoomIn=function(e){var n=t.stateProvider,o=n.zoomIn,a=o.disabled,r=o.step,i=n.options,s=t.state,l=s.wrapperComponent,c=s.contentComponent;if(!e)throw Error("Zoom in function requires event prop");!a&&!i.disabled&&l&&c&&io.call(t,1,r)},t.zoomOut=function(e){var n=t.stateProvider,o=n.zoomOut,a=o.disabled,r=o.step,i=n.options,s=t.state,l=s.wrapperComponent,c=s.contentComponent;if(!e)throw Error("Zoom out function requires event prop");!a&&!i.disabled&&l&&c&&io.call(t,-1,r)},t.handleDbClick=function(e){var n=t.stateProvider,o=n.options,a=n.doubleClick,r=a.disabled,i=a.step,s=t.state,l=s.wrapperComponent,c=s.contentComponent;if(!e)throw Error("Double click function requires event prop");!r&&!o.disabled&&l&&c&&ro.call(t,e,1,i)},t.setScale=function(e,n,o){void 0===n&&(n=200),void 0===o&&(o="easeOut");var a=t.stateProvider,r=a.positionX,i=a.positionY,s=a.scale,l=a.options.disabled,c=t.state,u=c.wrapperComponent,d=c.contentComponent;if(!l&&u&&d){var p={positionX:r,positionY:i,scale:isNaN(e)?s:e};Wn.call(t,{targetState:p,speed:n,type:o})}},t.setPositionX=function(e,n,o){void 0===n&&(n=200),void 0===o&&(o="easeOut");var a=t.stateProvider,r=a.positionX,i=a.positionY,s=a.scale,l=a.options,c=l.disabled,u=l.transformEnabled,d=t.state,p=d.wrapperComponent,h=d.contentComponent;if(!c&&u&&p&&h){var m={positionX:isNaN(e)?r:e,positionY:i,scale:s};Wn.call(t,{targetState:m,speed:n,type:o})}},t.setPositionY=function(e,n,o){void 0===n&&(n=200),void 0===o&&(o="easeOut");var a=t.stateProvider,r=a.positionX,i=a.scale,s=a.positionY,l=a.options,c=l.disabled,u=l.transformEnabled,d=t.state,p=d.wrapperComponent,h=d.contentComponent;if(!c&&u&&p&&h){var m={positionX:r,positionY:isNaN(e)?s:e,scale:i};Wn.call(t,{targetState:m,speed:n,type:o})}},t.setTransform=function(e,n,o,a,r){void 0===a&&(a=200),void 0===r&&(r="easeOut");var i=t.stateProvider,s=i.positionX,l=i.positionY,c=i.scale,u=i.options,d=u.disabled,p=u.transformEnabled,h=t.state,m=h.wrapperComponent,f=h.contentComponent;if(!d&&p&&m&&f){var g={positionX:isNaN(e)?s:e,positionY:isNaN(n)?l:n,scale:isNaN(o)?c:o};Wn.call(t,{targetState:g,speed:a,type:r})}},t.resetTransform=function(){var e=t.stateProvider.options,n=e.disabled,o=e.transformEnabled;!n&&o&&so.call(t)},t.setDefaultState=function(){t.animation=null,t.stateProvider=jn(jn(jn({},t.stateProvider),{scale:Mn.scale,positionX:Mn.positionX,positionY:Mn.positionY}),t.props.defaultValues),t.forceUpdate()},t.setWrapperComponent=function(e){t.setState({wrapperComponent:e})},t.setContentComponent=function(e){t.setState({contentComponent:e},(function(){var n=t.stateProvider,o=n.wrapperComponent,a=n.options,r=a.centerContent,i=a.limitToBounds,s=a.limitToWrapper,l=n.scale,c=t.props.defaultValues,u=c.positionX,d=c.positionY;if(i&&!s||r&&!u&&!d){var p="translate(25%, 25%) scale("+l+")";e.style.transform=p,e.style.WebkitTransform=p,t.forceUpdate();var h=(new Date).getTime(),m=setInterval((function(){if(o.offsetWidth){var e=to.call(t,l,!1);t.stateProvider.positionX=e.minPositionX,t.stateProvider.positionY=e.minPositionY,t.applyTransformation(null,null,null),clearInterval(m),m=null}else(new Date).getTime()-h>2e3&&(clearInterval(m),m=null)}),20)}else t.applyTransformation(null,null,null)}))},t.applyTransformation=function(e,n,o){if(t.mounted){var a=t.state.contentComponent,r=t.props.onZoomChange,i=t.stateProvider,s=i.previousScale,l=i.scale,c=i.positionX,u=i.positionY;if(!a)return console.error("There is no content component");var d="translate("+(n||c)+"px, "+(o||u)+"px) scale("+(e||l)+")";a.style.transform=d,a.style.WebkitTransform=d,t.forceUpdate(),r&&s!==l&&Fn(r,t.getCallbackProps())}},t.getCallbackProps=function(){return Eo(t.stateProvider)},t}return kn(t,e),t.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.handleStartPanning,!1),window.addEventListener("mousemove",this.handlePanning,!1),window.addEventListener("mouseup",this.handleStopPanning,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.handleStartPanning,!1),window.removeEventListener("mousemove",this.handlePanning,!1),window.removeEventListener("mouseup",this.handleStopPanning,!1),Hn.call(this)},t.prototype.componentDidUpdate=function(e,t){var n,o=this.state,a=o.wrapperComponent,r=o.contentComponent,i=this.props.dynamicValues;if(!t.contentComponent&&r&&(this.stateProvider.contentComponent=r),!t.wrapperComponent&&a&&void 0!==a){this.stateProvider.wrapperComponent=a,this.windowToWrapperScaleX=(n=a)?window.innerWidth/n.offsetWidth:0,this.windowToWrapperScaleY=function(e){return e?window.innerHeight/e.offsetHeight:0}(a);a.addEventListener("wheel",this.handleWheel,!1),a.addEventListener("dblclick",this.handleDbClick,!1),a.addEventListener("touchstart",this.handleTouchStart,!1),a.addEventListener("touchmove",this.handleTouch,!1),a.addEventListener("touchend",this.handleTouchStop,!1)}(a&&r||e.dynamicValues!==i)&&(this.maxBounds=to.call(this,this.stateProvider.scale,this.stateProvider.options.limitToWrapper)),e.dynamicValues&&e.dynamicValues!==i&&(this.animation=null,this.stateProvider=jn(jn({},this.stateProvider),Yn(this.stateProvider,i)),this.applyTransformation(null,null,null))},t.prototype.render=function(){var e=this.state,t=e.wrapperComponent,n=e.contentComponent,o={loaded:Boolean(t&&n),state:this.getCallbackProps(),dispatch:{setScale:this.setScale,setPositionX:this.setPositionX,setPositionY:this.setPositionY,zoomIn:this.zoomIn,zoomOut:this.zoomOut,setTransform:this.setTransform,resetTransform:this.resetTransform,setDefaultState:this.setDefaultState},nodes:{setWrapperComponent:this.setWrapperComponent,setContentComponent:this.setContentComponent}},a=this.props.children,r="function"==typeof a?a(jn(jn({},o.state),o.dispatch)):a;return g.a.createElement(Co.Provider,{value:o},r)},t}(f.Component),Po=function(e){var t=e.children,n=e.defaultPositionX,o=e.defaultPositionY,a=e.defaultScale,r=e.onWheelStart,i=e.onWheel,s=e.onWheelStop,l=e.onPanningStart,c=e.onPanning,u=e.onPanningStop,d=e.onPinchingStart,p=e.onPinching,h=e.onPinchingStop,m=e.onZoomChange,f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["children","defaultPositionX","defaultPositionY","defaultScale","onWheelStart","onWheel","onWheelStop","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","onZoomChange"]),v=jn({},f);return v.options&&v.options.limitToWrapper&&(v.options.limitToBounds=!0),g.a.createElement(To,{defaultValues:Un({positionX:n,positionY:o,scale:a}),dynamicValues:Un(Eo(v)),onWheelStart:r,onWheel:i,onWheelStop:s,onPanningStart:l,onPanning:c,onPanningStop:u,onPinchingStart:d,onPinching:p,onPinchingStop:h,onZoomChange:m},t)};var No="TransformComponent-module_container__3NwNd",Do="TransformComponent-module_content__TZU5O";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".TransformComponent-module_container__3NwNd {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.TransformComponent-module_content__TZU5O {\n  display: flex;\n  flex-wrap: wrap;\n  width: fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.TransformComponent-module_content__TZU5O img {\n  pointer-events: none;\n}\n");var xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=g.a.createRef(),t.contentRef=g.a.createRef(),t}return kn(t,e),t.prototype.componentDidMount=function(){var e=this.context.nodes;e.setWrapperComponent(this.wrapperRef.current),e.setContentComponent(this.contentRef.current)},t.prototype.render=function(){var e=this.props.children,t=this.context.state,n=t.positionX,o=t.positionY,a=t.scale,r=t.options,i=r.wrapperClass,s=r.contentClass,l={WebkitTransform:"translate("+n+"px, "+o+"px) scale("+a+")",transform:"translate("+n+"px, "+o+"px) scale("+a+")"};return g.a.createElement("div",{ref:this.wrapperRef,className:"react-transform-component "+No+" "+i},g.a.createElement("div",{ref:this.contentRef,className:"react-transform-element "+Do+" "+s,style:l},e))},t}(f.Component);xo.contextType=Co;var ko=n(210);const jo=({children:e,containerNode:t,imgSrc:n})=>{const o=()=>{t&&v.unmountComponentAtNode(t)},[a,r]=Object(f.useState)(!1),i=Object(f.useRef)(null);return Object(f.useEffect)(()=>{const e=e=>{"Escape"===e.key&&o()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),f.createElement("div",{className:"container"},!a&&f.createElement(ko.a,{backgroundColor:"#000",color:"#ccc"}),f.createElement(Po,{doubleClick:{mode:"reset"}},({zoomIn:t,zoomOut:s,resetTransform:l})=>f.createElement(f.Fragment,null,f.createElement("div",{className:"content",ref:i,onClick:e=>{e.target===i.current&&o()}},f.createElement(xo,null,e(a,r))),f.createElement("div",{className:"tools"},a&&f.createElement(f.Fragment,null,f.createElement("button",{"aria-label":"Zoom in",onClick:t},f.createElement(Y.a,{icon:Tn.faSearchPlus})),f.createElement("button",{"aria-label":"Zoom out",onClick:s},f.createElement(Y.a,{icon:Pn.faSearchMinus})),f.createElement("button",{"aria-label":"Reset zoom",onClick:l},f.createElement(Y.a,{icon:Nn.faCompress})),f.createElement("a",{href:n,download:n.split("/").pop(),"aria-label":"Download high resolution image"},f.createElement(Y.a,{icon:Dn.faDownload}))),f.createElement("button",{"aria-label":"Close",onClick:o,className:"close"},f.createElement(Y.a,{icon:Sn.faPlus}))))))},Mo=({src:e,isLoaded:t,setIsLoaded:n})=>f.createElement(f.Fragment,null,f.createElement("img",{onLoad:()=>{n(!0)},src:e,style:{opacity:t?1:0,transition:"opacity 1s"}})),Ro=()=>{const e=wn();return f.createElement("div",{className:"hide-wrapper"+(e===bn.Down?" hide":"")},f.createElement(se,{context:ie.Floating}),f.createElement(Ne,null))};var Io=n(316),Ao=n(315),Lo=n(606),Uo=function(e){for(var t=e.length/6|0,n=new Array(t),o=0;o<t;)n[o]="#"+e.slice(6*o,6*++o);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fo=n(394),qo=new Date,Yo=new Date;function _o(e,t,n,o){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,o,r){var i,s=[];if(n=a.ceil(n),r=null==r?1:Math.floor(r),!(n<o&&r>0))return s;do{s.push(i=new Date(+n)),t(n,r),e(n)}while(i<n&&n<o);return s},a.filter=function(n){return _o((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,o){if(e>=e)if(o<0)for(;++o<=0;)for(;t(e,-1),!n(e););else for(;--o>=0;)for(;t(e,1),!n(e););}))},n&&(a.count=function(t,o){return qo.setTime(+t),Yo.setTime(+o),e(qo),e(Yo),Math.floor(n(qo,Yo))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(o?function(t){return o(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function Ho(e){return _o((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var zo=Ho(0),Wo=Ho(1),Xo=Ho(2),Vo=Ho(3),Bo=Ho(4),Qo=Ho(5),Ko=Ho(6),Go=(zo.range,Wo.range,Xo.range,Vo.range,Bo.range,Qo.range,Ko.range,_o((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),$o=Go;Go.range;function Zo(e){return _o((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Jo=Zo(0),ea=Zo(1),ta=Zo(2),na=Zo(3),oa=Zo(4),aa=Zo(5),ra=Zo(6),ia=(Jo.range,ea.range,ta.range,na.range,oa.range,aa.range,ra.range,_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5,e=>e.getDate()-1)),sa=ia,la=(ia.range,_o((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));la.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_o((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ca=la,ua=(la.range,_o((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));ua.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_o((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var da=ua;ua.range;function pa(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ha(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ma(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fa,ga,va={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,ba=/^%/,wa=/[\\^$*+?|[\]().{}]/g;function Ea(e,t,n){var o=e<0?"-":"",a=(o?-e:e)+"",r=a.length;return o+(r<n?new Array(n-r+1).join(t)+a:a)}function Ca(e){return e.replace(wa,"\\$&")}function Oa(e){return new RegExp("^(?:"+e.map(Ca).join("|")+")","i")}function Sa(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Ta(e,t,n){var o=ya.exec(t.slice(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1}function Pa(e,t,n){var o=ya.exec(t.slice(n,n+1));return o?(e.u=+o[0],n+o[0].length):-1}function Na(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.U=+o[0],n+o[0].length):-1}function Da(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.V=+o[0],n+o[0].length):-1}function xa(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.W=+o[0],n+o[0].length):-1}function ka(e,t,n){var o=ya.exec(t.slice(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1}function ja(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function Ma(e,t,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function Ra(e,t,n){var o=ya.exec(t.slice(n,n+1));return o?(e.q=3*o[0]-3,n+o[0].length):-1}function Ia(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.m=o[0]-1,n+o[0].length):-1}function Aa(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}function La(e,t,n){var o=ya.exec(t.slice(n,n+3));return o?(e.m=0,e.d=+o[0],n+o[0].length):-1}function Ua(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function Fa(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1}function qa(e,t,n){var o=ya.exec(t.slice(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1}function Ya(e,t,n){var o=ya.exec(t.slice(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1}function _a(e,t,n){var o=ya.exec(t.slice(n,n+6));return o?(e.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function Ha(e,t,n){var o=ba.exec(t.slice(n,n+1));return o?n+o[0].length:-1}function za(e,t,n){var o=ya.exec(t.slice(n));return o?(e.Q=+o[0],n+o[0].length):-1}function Wa(e,t,n){var o=ya.exec(t.slice(n));return o?(e.s=+o[0],n+o[0].length):-1}function Xa(e,t){return Ea(e.getDate(),t,2)}function Va(e,t){return Ea(e.getHours(),t,2)}function Ba(e,t){return Ea(e.getHours()%12||12,t,2)}function Qa(e,t){return Ea(1+sa.count(ca(e),e),t,3)}function Ka(e,t){return Ea(e.getMilliseconds(),t,3)}function Ga(e,t){return Ka(e,t)+"000"}function $a(e,t){return Ea(e.getMonth()+1,t,2)}function Za(e,t){return Ea(e.getMinutes(),t,2)}function Ja(e,t){return Ea(e.getSeconds(),t,2)}function er(e){var t=e.getDay();return 0===t?7:t}function tr(e,t){return Ea(Jo.count(ca(e)-1,e),t,2)}function nr(e){var t=e.getDay();return t>=4||0===t?oa(e):oa.ceil(e)}function or(e,t){return e=nr(e),Ea(oa.count(ca(e),e)+(4===ca(e).getDay()),t,2)}function ar(e){return e.getDay()}function rr(e,t){return Ea(ea.count(ca(e)-1,e),t,2)}function ir(e,t){return Ea(e.getFullYear()%100,t,2)}function sr(e,t){return Ea((e=nr(e)).getFullYear()%100,t,2)}function lr(e,t){return Ea(e.getFullYear()%1e4,t,4)}function cr(e,t){var n=e.getDay();return Ea((e=n>=4||0===n?oa(e):oa.ceil(e)).getFullYear()%1e4,t,4)}function ur(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ea(t/60|0,"0",2)+Ea(t%60,"0",2)}function dr(e,t){return Ea(e.getUTCDate(),t,2)}function pr(e,t){return Ea(e.getUTCHours(),t,2)}function hr(e,t){return Ea(e.getUTCHours()%12||12,t,2)}function mr(e,t){return Ea(1+$o.count(da(e),e),t,3)}function fr(e,t){return Ea(e.getUTCMilliseconds(),t,3)}function gr(e,t){return fr(e,t)+"000"}function vr(e,t){return Ea(e.getUTCMonth()+1,t,2)}function yr(e,t){return Ea(e.getUTCMinutes(),t,2)}function br(e,t){return Ea(e.getUTCSeconds(),t,2)}function wr(e){var t=e.getUTCDay();return 0===t?7:t}function Er(e,t){return Ea(zo.count(da(e)-1,e),t,2)}function Cr(e){var t=e.getUTCDay();return t>=4||0===t?Bo(e):Bo.ceil(e)}function Or(e,t){return e=Cr(e),Ea(Bo.count(da(e),e)+(4===da(e).getUTCDay()),t,2)}function Sr(e){return e.getUTCDay()}function Tr(e,t){return Ea(Wo.count(da(e)-1,e),t,2)}function Pr(e,t){return Ea(e.getUTCFullYear()%100,t,2)}function Nr(e,t){return Ea((e=Cr(e)).getUTCFullYear()%100,t,2)}function Dr(e,t){return Ea(e.getUTCFullYear()%1e4,t,4)}function xr(e,t){var n=e.getUTCDay();return Ea((e=n>=4||0===n?Bo(e):Bo.ceil(e)).getUTCFullYear()%1e4,t,4)}function kr(){return"+0000"}function jr(){return"%"}function Mr(e){return+e}function Rr(e){return Math.floor(+e/1e3)}function Ir(e,t="",n={}){return void 0===e||isNaN(e)?t:Object(s.C)(e,Object.assign({numberPrefixes:!1},n))}fa=function(e){var t=e.dateTime,n=e.date,o=e.time,a=e.periods,r=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Oa(a),u=Sa(a),d=Oa(r),p=Sa(r),h=Oa(i),m=Sa(i),f=Oa(s),g=Sa(s),v=Oa(l),y=Sa(l),b={a:function(e){return i[e.getDay()]},A:function(e){return r[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Xa,e:Xa,f:Ga,g:sr,G:cr,H:Va,I:Ba,j:Qa,L:Ka,m:$a,M:Za,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Mr,s:Rr,S:Ja,u:er,U:tr,V:or,w:ar,W:rr,x:null,X:null,y:ir,Y:lr,Z:ur,"%":jr},w={a:function(e){return i[e.getUTCDay()]},A:function(e){return r[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:dr,e:dr,f:gr,g:Nr,G:xr,H:pr,I:hr,j:mr,L:fr,m:vr,M:yr,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Mr,s:Rr,S:br,u:wr,U:Er,V:Or,w:Sr,W:Tr,x:null,X:null,y:Pr,Y:Dr,Z:kr,"%":jr},E={a:function(e,t,n){var o=h.exec(t.slice(n));return o?(e.w=m.get(o[0].toLowerCase()),n+o[0].length):-1},A:function(e,t,n){var o=d.exec(t.slice(n));return o?(e.w=p.get(o[0].toLowerCase()),n+o[0].length):-1},b:function(e,t,n){var o=v.exec(t.slice(n));return o?(e.m=y.get(o[0].toLowerCase()),n+o[0].length):-1},B:function(e,t,n){var o=f.exec(t.slice(n));return o?(e.m=g.get(o[0].toLowerCase()),n+o[0].length):-1},c:function(e,n,o){return S(e,t,n,o)},d:Aa,e:Aa,f:_a,g:ja,G:ka,H:Ua,I:Ua,j:La,L:Ya,m:Ia,M:Fa,p:function(e,t,n){var o=c.exec(t.slice(n));return o?(e.p=u.get(o[0].toLowerCase()),n+o[0].length):-1},q:Ra,Q:za,s:Wa,S:qa,u:Pa,U:Na,V:Da,w:Ta,W:xa,x:function(e,t,o){return S(e,n,t,o)},X:function(e,t,n){return S(e,o,t,n)},y:ja,Y:ka,Z:Ma,"%":Ha};function C(e,t){return function(n){var o,a,r,i=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(a=va[o=e.charAt(++s)])?o=e.charAt(++s):a="e"===o?" ":"0",(r=t[o])&&(o=r(n,a)),i.push(o),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function O(e,t){return function(n){var o,a,r=ma(1900,void 0,1);if(S(r,e,n+="",0)!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(t&&!("Z"in r)&&(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(a=(o=ha(ma(r.y,0,1))).getUTCDay(),o=a>4||0===a?Wo.ceil(o):Wo(o),o=$o.offset(o,7*(r.V-1)),r.y=o.getUTCFullYear(),r.m=o.getUTCMonth(),r.d=o.getUTCDate()+(r.w+6)%7):(a=(o=pa(ma(r.y,0,1))).getDay(),o=a>4||0===a?ea.ceil(o):ea(o),o=sa.offset(o,7*(r.V-1)),r.y=o.getFullYear(),r.m=o.getMonth(),r.d=o.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),a="Z"in r?ha(ma(r.y,0,1)).getUTCDay():pa(ma(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,ha(r)):pa(r)}}function S(e,t,n,o){for(var a,r,i=0,s=t.length,l=n.length;i<s;){if(o>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(r=E[a in va?t.charAt(i++):a])||(o=r(e,n,o))<0)return-1}else if(a!=n.charCodeAt(o++))return-1}return o}return b.x=C(n,b),b.X=C(o,b),b.c=C(t,b),w.x=C(n,w),w.X=C(o,w),w.c=C(t,w),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),fa.format,fa.parse,ga=fa.utcFormat,fa.utcParse;const Ar=ga("%B %e");function Lr(e,t=""){return void 0===e?t:Ar(e)}function Ur(e,t){return n=>1===n?e:t}function Fr(e,t){if(e.length>1){const n=Object(s.jb)(e,e=>e.date),o=t(n);if(void 0===o)return;const a=e.filter(e=>{const n=t(e);return n&&n<=o/2}),r=Object(s.jb)(a,e=>e.date);if(void 0===r)return;const i=t(r);if(void 0===i)return;return{latestDay:n,halfDay:r,length:Object(s.k)(n.date,r.date),ratio:o/i}}}const qr={location:e=>e.location,totalCases:e=>{var t;return null===(t=e.latest)||void 0===t?void 0:t.totalCases},newCases:e=>{var t;return null===(t=e.latest)||void 0===t?void 0:t.newCases},totalDeaths:e=>{var t;return null===(t=e.latest)||void 0===t?void 0:t.totalDeaths},newDeaths:e=>{var t;return null===(t=e.latest)||void 0===t?void 0:t.newDeaths},daysToDoubleCases:e=>e.caseDoublingRange?e.caseDoublingRange.length-1e-4*e.caseDoublingRange.ratio:void 0,daysToDoubleDeaths:e=>e.deathDoublingRange?e.deathDoublingRange.length-1e-4*e.deathDoublingRange.ratio:void 0,totalTests:e=>{var t,n;return null===(n=null===(t=e.latestWithTests)||void 0===t?void 0:t.tests)||void 0===n?void 0:n.totalTests},testDate:e=>{var t;return null===(t=e.latestWithTests)||void 0===t?void 0:t.date}},Yr=Qe.g.asc,_r={cases:Ur("case","cases"),deaths:Ur("death","deaths"),tests:Ur("test","tests"),days:Ur("day","days")};var Hr;!function(e){e.location="location",e.totalCases="totalCases",e.newCases="newCases",e.totalDeaths="totalDeaths",e.newDeaths="newDeaths",e.daysToDoubleCases="daysToDoubleCases",e.daysToDoubleDeaths="daysToDoubleDeaths",e.totalTests="totalTests",e.testDate="testDate"}(Hr||(Hr={}));var zr=n(1075),Wr=n(166);function Xr(){var e,t=[.5],n=[0,1],o=1;function a(a){return a<=a?n[Object(zr.a)(t,a,0,o)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var o=n.indexOf(e);return[t[o-1],t[o]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Xr().domain(t).range(n).unknown(e)},Wr.a.apply(a,arguments)}var Vr=n(129),Br=n(142);const Qr=Math.PI/180,Kr=180/Math.PI,Gr=6/29*3*(6/29);function $r(e){if(e instanceof Jr)return new Jr(e.l,e.a,e.b,e.opacity);if(e instanceof ri)return ii(e);e instanceof Br.b||(e=Object(Br.e)(e));var t,n,o=oi(e.r),a=oi(e.g),r=oi(e.b),i=ei((.2225045*o+.7168786*a+.0606169*r)/1);return o===a&&a===r?t=n=i:(t=ei((.4360747*o+.3850649*a+.1430804*r)/.96422),n=ei((.0139322*o+.0971045*a+.7141733*r)/.82521)),new Jr(116*i-16,500*(t-i),200*(i-n),e.opacity)}function Zr(e,t,n,o){return 1===arguments.length?$r(e):new Jr(e,t,n,null==o?1:o)}function Jr(e,t,n,o){this.l=+e,this.a=+t,this.b=+n,this.opacity=+o}function ei(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/Gr+4/29}function ti(e){return e>6/29?e*e*e:Gr*(e-4/29)}function ni(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function oi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ai(e){if(e instanceof ri)return new ri(e.h,e.c,e.l,e.opacity);if(e instanceof Jr||(e=$r(e)),0===e.a&&0===e.b)return new ri(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Kr;return new ri(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ri(e,t,n,o){this.h=+e,this.c=+t,this.l=+n,this.opacity=+o}function ii(e){if(isNaN(e.h))return new Jr(e.l,0,0,e.opacity);var t=e.h*Qr;return new Jr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(Vr.a)(Jr,Zr,Object(Vr.b)(Br.a,{brighter:function(e){return new Jr(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Jr(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*ti(t),e=1*ti(e),n=.82521*ti(n),new Br.b(ni(3.1338561*t-1.6168667*e-.4906146*n),ni(-.9787684*t+1.9161415*e+.033454*n),ni(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(Vr.a)(ri,(function(e,t,n,o){return 1===arguments.length?ai(e):new ri(e,t,n,null==o?1:o)}),Object(Vr.b)(Br.a,{brighter:function(e){return new ri(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new ri(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return ii(this).rgb()}}));var si=n(170);function li(e,t){var n=Object(si.a)((e=Zr(e)).l,(t=Zr(t)).l),o=Object(si.a)(e.a,t.a),a=Object(si.a)(e.b,t.b),r=Object(si.a)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=o(t),e.b=a(t),e.opacity=r(t),e+""}}var ci=n(299),ui=n(100);const di=e=>{const t=Object(s.m)(e.isActive,!1);return f.createElement("span",{className:B()("sort-icon",e.sortOrder,{active:t})})};var pi=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class hi extends f.Component{onClick(){this.props.sortKey&&this.props.onSort&&this.props.onSort(this.props.sortKey)}render(){const{className:e,sortKey:t,children:n,colSpan:o,currentSortKey:a,currentSortOrder:r}=this.props,i=void 0!==t&&t===a,s=i&&r?r:Yr;return f.createElement("th",{className:B()(e,{sortable:void 0!==t,sorted:i}),onClick:this.onClick,colSpan:o},n,void 0!==t&&f.createElement(di,{sortOrder:s,isActive:i}))}}pi([Q.bind],hi.prototype,"onClick",null);const mi=e=>{const{noun:t,accessor:n}=e,{latestDay:o,halfDay:a,ratio:r,length:i}=e.doublingRange,s="2.0"===r.toFixed(1)?"doubled":"increased by a factor of "+r.toFixed(1);return f.createElement("div",{className:"covid-tooltip"},"The number of total confirmed ",t()," in ",o.location," has"," ",f.createElement("span",{className:"growth-rate"},s)," in the"," ",f.createElement("span",{className:"period"},"last ",i," days"),".",f.createElement("table",{className:"values"},f.createElement("tbody",null,f.createElement("tr",null,f.createElement("td",{className:"value from-color"},Ir(n(a))," ",t(n(a))),f.createElement("td",null,"on"),f.createElement("td",{className:"date from-color"},Lr(a.date))),f.createElement("tr",null,f.createElement("td",{className:"value to-color"},Ir(n(o))," ",t(n(o))),f.createElement("td",null,"on"),f.createElement("td",{className:"date to-color"},Lr(o.date))))))};var fi,gi=n(185),vi=n(215);!function(e){e.location="location",e.locationTests="locationTests",e.totalCases="totalCases",e.newCases="newCases",e.totalDeaths="totalDeaths",e.newDeaths="newDeaths",e.daysToDoubleCases="daysToDoubleCases",e.daysToDoubleDeaths="daysToDoubleDeaths",e.totalTests="totalTests",e.testDate="testDate",e.testSource="testSource"}(fi||(fi={}));const yi=Xr().domain([12]).range(["white","rgba(0,0,0,0.5)"]),bi=Object(Lo.a)().domain([1,3,13]).range(["#8a0000","#bf0000","#eee"]).interpolate(li).clamp(!0),wi=Xr().domain([12]).range(["white","rgba(0,0,0,0.5)"]),Ei=Object(Lo.a)().domain([1,3,13]).range(["#b11c5b","#CA3A77","#eee"]).interpolate(li).clamp(!0),Ci=(e,t,n,o,a)=>r=>{const{datum:i,bars:s,isMobile:l}=r,c=t(i);return f.createElement(f.Fragment,null,f.createElement("td",{className:"doubling-days",rowSpan:r.baseRowSpan},void 0!==c?f.createElement(f.Fragment,null,f.createElement("span",null,f.createElement("span",{className:"label"},"doubled in")," ",f.createElement("br",null),f.createElement("span",{className:"days",style:{backgroundColor:o(c.length),color:a(c.length)}},c.length,"Â ",_r.days(c.length),"Â ",f.createElement(ui.a,{content:f.createElement(mi,{doublingRange:c,noun:n,accessor:e}),maxWidth:260},f.createElement("span",{className:"info-icon"},f.createElement(Y.a,{icon:ci.faInfoCircle})))))):f.createElement("span",{className:"no-data"},"Not enough data available")),l&&f.createElement("td",{className:"plot-cell measure--"+n(),rowSpan:r.baseRowSpan},f.createElement("div",{className:"trend"},f.createElement("div",{className:"plot"},f.createElement(vi.a,Object.assign({className:"spark-bars covid-bars"},s,{y:e,highlightedX:void 0!==c?s.x(c.halfDay):void 0}))))))},Oi=(e,t)=>n=>{const{bars:o,datum:a}=n;return f.createElement("td",{className:"plot-cell measure--"+t(),rowSpan:n.baseRowSpan},f.createElement("div",{className:"trend"},f.createElement("div",{className:"plot"},f.createElement(vi.a,Object.assign({className:"spark-bars covid-bars"},o,{y:e,renderValue:t=>t&&void 0!==e(t)?f.createElement(gi.a,{className:"highlighted",value:Ir(e(t)),formattedDate:Lr(t.date)}):void 0}))),f.createElement("div",{className:"value"},a.latest&&void 0!==e(a.latest)&&f.createElement(gi.a,{className:"current",value:Ir(e(a.latest))+" total",formattedDate:Lr(a.latest.date),latest:!0}))))},Si=(e,t)=>n=>{const{bars:o,datum:a}=n;return f.createElement("td",{className:"plot-cell measure--"+t(),rowSpan:n.baseRowSpan},f.createElement("div",{className:"trend"},f.createElement("div",{className:"plot"},f.createElement(vi.a,Object.assign({className:"spark-bars covid-bars"},o,{y:e,renderValue:t=>t&&void 0!==e(t)?f.createElement(gi.a,{className:"highlighted",value:Ir(e(t),"",{showPlus:!0}),formattedDate:t&&Lr(t.date)}):void 0}))),f.createElement("div",{className:"value"},a.latest&&void 0!==e(a.latest)&&f.createElement(gi.a,{className:"current",value:Ir(e(a.latest),"",{showPlus:!0})+" new",formattedDate:Lr(a.latest.date),latest:!0}))))},Ti={location:{sortKey:Hr.location,header:e=>f.createElement(hi,Object.assign({},e,{className:"location",sortKey:Hr.location}),f.createElement("strong",null,"Location")),cell:e=>f.createElement("td",{className:"location",rowSpan:e.baseRowSpan},e.datum.location)},locationTests:{sortKey:Hr.location,header:e=>f.createElement(hi,Object.assign({},e,{className:"location-tests",sortKey:Hr.location}),f.createElement("strong",null,"Location")),cell:e=>f.createElement("td",{className:"location-tests",rowSpan:e.baseRowSpan},e.datum.location)},daysToDoubleCases:{sortKey:Hr.daysToDoubleCases,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.cases(),sortKey:Hr.daysToDoubleCases,colSpan:e.isMobile?2:1}),"How long did it take for the number of"," ",f.createElement("strong",null,"total confirmed ",f.createElement("span",{className:"measure"},"cases")," to double"),"?"),cell:Ci(e=>e.totalCases,e=>e.caseDoublingRange,_r.cases,Ei,wi)},daysToDoubleDeaths:{sortKey:Hr.daysToDoubleDeaths,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.deaths(),sortKey:Hr.daysToDoubleDeaths,colSpan:e.isMobile?2:1}),"How long did it take for the number of"," ",f.createElement("strong",null,"total confirmed ",f.createElement("span",{className:"measure"},"deaths")," to double"),"?"),cell:Ci(e=>e.totalDeaths,e=>e.deathDoublingRange,_r.deaths,bi,yi)},totalCases:{sortKey:Hr.totalCases,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.cases(),sortKey:Hr.totalCases}),f.createElement("strong",null,"Total confirmed ",f.createElement("span",{className:"measure"},"cases"))," ",f.createElement("br",null),f.createElement("span",{className:"note"},"ECDC data."," ",void 0!==e.lastUpdated?f.createElement(f.Fragment,null,"Up to date for 10Â AM (CET) on"," ",Lr(e.lastUpdated),"."):void 0)),cell:Oi(e=>e.totalCases,_r.cases)},totalDeaths:{sortKey:Hr.totalDeaths,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.deaths(),sortKey:Hr.totalDeaths}),f.createElement("strong",null,"Total confirmed ",f.createElement("span",{className:"measure"},"deaths"))," ",f.createElement("br",null),f.createElement("span",{className:"note"},"ECDC data."," ",void 0!==e.lastUpdated?f.createElement(f.Fragment,null,"Up to date for 10Â AM (CET) on"," ",Lr(e.lastUpdated),"."):void 0)),cell:Oi(e=>e.totalDeaths,_r.deaths)},newCases:{sortKey:Hr.newCases,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.cases(),sortKey:Hr.newCases}),f.createElement("strong",null,"Daily new confirmed ",f.createElement("span",{className:"measure"},"cases"))," ",f.createElement("br",null),f.createElement("span",{className:"note"},"ECDC data."," ",void 0!==e.lastUpdated?f.createElement(f.Fragment,null,"Up to date for 10Â AM (CET) on"," ",Lr(e.lastUpdated),"."):void 0)),cell:Si(e=>e.newCases,_r.cases)},newDeaths:{sortKey:Hr.newDeaths,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.deaths(),sortKey:Hr.newDeaths}),f.createElement("strong",null,"Daily new confirmed ",f.createElement("span",{className:"measure"},"deaths"))," ",f.createElement("br",null),f.createElement("span",{className:"note"},"ECDC data."," ",void 0!==e.lastUpdated?f.createElement(f.Fragment,null,"Up to date for 10Â AM (CET) on"," ",Lr(e.lastUpdated),"."):void 0)),cell:Si(e=>e.newDeaths,_r.deaths)},totalTests:{sortKey:Hr.totalTests,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.tests(),sortKey:Hr.totalTests,colSpan:2}),f.createElement("strong",null,"Total ",f.createElement("span",{className:"measure"},"tests"))),cell:e=>{var t,n,o,a;return f.createElement(f.Fragment,null,f.createElement("td",{className:`measure--${_r.tests()} total-tests`,rowSpan:1},Ir(null===(n=null===(t=e.datum.latestWithTests)||void 0===t?void 0:t.tests)||void 0===n?void 0:n.totalTests,"")),f.createElement("td",{className:`measure--${_r.tests()} total-tests-bar`,rowSpan:1},void 0!==(null===(a=null===(o=e.datum.latestWithTests)||void 0===o?void 0:o.tests)||void 0===a?void 0:a.totalTests)&&f.createElement("div",{className:"bar",style:{backgroundColor:e.countryColors[e.datum.location],width:100*e.totalTestsBarScale(e.datum.latestWithTests.tests.totalTests)+"%"}})))}},testDate:{sortKey:Hr.testDate,header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.tests(),sortKey:Hr.testDate}),f.createElement("strong",null,"Date")),cell:e=>{var t;return f.createElement("td",{className:"date",rowSpan:1},Lr(null===(t=e.datum.latestWithTests)||void 0===t?void 0:t.date,""))}},testSource:{header:e=>f.createElement(hi,Object.assign({},e,{className:"measure--"+_r.tests()}),f.createElement("strong",null,"Source")),cell:e=>{var t;if(void 0===(null===(t=e.datum.latestWithTests)||void 0===t?void 0:t.tests))return f.createElement("td",null);const{date:n,tests:o}=e.datum.latestWithTests,{sourceURL:a,sourceLabel:r,publicationDate:i,remarks:s,nonOfficial:l}=o;return f.createElement("td",{className:"testing-notes"},f.createElement("span",{className:B()("official",{"is-official":!l})},f.createElement(ui.a,{content:f.createElement("div",{className:"covid-tooltip"},f.createElement("a",{href:a},r),f.createElement("br",null),"Refers to: ",Lr(n),f.createElement("br",null),"Published: ",Lr(i),f.createElement("br",null),"Remarks: ",s)},f.createElement("span",null,l?f.createElement(Y.a,{icon:Ao.faExclamationCircle}):f.createElement(Y.a,{icon:Io.faCheckCircle})))))}}};var Pi=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let Ni=class extends f.Component{constructor(){super(...arguments),this.highlightDate=void 0}get data(){const e=this.props.datum,[t,n]=this.props.transform.dateRange;return e.series.filter(e=>e.date>=t&&e.date<=n)}dateToIndex(e){return Object(s.k)(e,this.props.transform.dateRange[0])}dateFromIndex(e){return Object(s.a)(this.props.transform.dateRange[0],e)}get xDomain(){const[e,t]=this.props.transform.dateRange;return[0,Object(s.k)(t,e)]}get currentX(){const{datum:e}=this.props;if(e.latest)return this.x(e.latest)}get hightlightedX(){const{state:e}=this.props;if(!e.isMobile&&this.highlightDate)return this.dateToIndex(this.highlightDate)}x(e){return this.dateToIndex(e.date)}onBarHover(e,t){let n;n=void 0!==e?e.date:void 0!==t?this.dateFromIndex(t):void 0,this.highlightDate=n}get cellProps(){return{datum:this.props.datum,isMobile:this.props.state.isMobile,bars:{data:this.data,xDomain:this.xDomain,x:this.x,currentX:this.currentX,highlightedX:this.hightlightedX,onHover:this.onBarHover},totalTestsBarScale:this.props.transform.totalTestsBarScale,countryColors:this.props.transform.countryColors,baseRowSpan:this.props.extraRow?2:1}}render(){return f.createElement(f.Fragment,null,f.createElement("tr",{className:this.props.className},this.props.columns.map(e=>f.createElement(f.Fragment,{key:e},Ti[e].cell(this.cellProps)))),this.props.extraRow?f.createElement("tr",{className:this.props.className},this.props.extraRow(this.cellProps)):void 0)}};Ni.defaultProps={onHighlightDate:()=>{}},Pi([l.observable.ref],Ni.prototype,"highlightDate",void 0),Pi([l.computed],Ni.prototype,"data",null),Pi([Q.bind],Ni.prototype,"dateToIndex",null),Pi([Q.bind],Ni.prototype,"dateFromIndex",null),Pi([l.computed],Ni.prototype,"xDomain",null),Pi([l.computed],Ni.prototype,"currentX",null),Pi([l.computed],Ni.prototype,"hightlightedX",null),Pi([Q.bind],Ni.prototype,"x",null),Pi([Q.bind],Ni.prototype,"onBarHover",null),Pi([l.computed],Ni.prototype,"cellProps",null),Ni=Pi([b.a],Ni);var Di=n(1074),xi=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};const ki=Object(s.kb)((function(){return xi(this,void 0,void 0,(function*(){const e=yield Object(s.Cb)(()=>Object(s.w)("https://covid.ourworldindata.org/data/ecdc/full_data.csv"));return Object(Di.a)(e).map(e=>({date:new Date(e.date),location:e.location,totalCases:Object(s.vb)(e.total_cases),totalDeaths:Object(s.vb)(e.total_deaths),newCases:Object(s.vb)(e.new_cases),newDeaths:Object(s.vb)(e.new_deaths)}))}))}));var ji=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},Mi=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};class Ri{constructor(e){this.sortKey=Hr.totalCases,this.sortOrder=Qe.g.desc,this.isMobile=!1,this.truncate=!1,this.truncateLength=12,Object(s.u)(this,e)}}ji([l.observable.ref],Ri.prototype,"sortKey",void 0),ji([l.observable.ref],Ri.prototype,"sortOrder",void 0),ji([l.observable.ref],Ri.prototype,"isMobile",void 0),ji([l.observable.ref],Ri.prototype,"truncate",void 0),ji([l.observable.ref],Ri.prototype,"truncateLength",void 0);let Ii=class extends f.Component{constructor(){var e;super(...arguments),this.data=null!==(e=this.props.preloadData)&&void 0!==e?e:void 0,this.isLoaded=!!this.props.preloadData,this.isLoading=!1,this.error=void 0,this.tableState=new Ri(this.props.defaultState)}componentDidMount(){this.props.preloadData||this.loadData(),this.onResizeThrottled=Object(s.Wb)(this.onResize,400),window.addEventListener("resize",this.onResizeThrottled),this.onResize()}componentWillUnmount(){this.onResizeThrottled&&window.removeEventListener("resize",this.onResizeThrottled)}onResize(){this.tableState.isMobile=window.innerWidth<=680}loadData(){return Mi(this,void 0,void 0,(function*(){this.isLoading=!0;try{this.data=yield this.props.loadData(),this.isLoaded=!0,this.error=void 0}catch(e){this.error=e&&e.message}this.isLoading=!1}))}get countrySeries(){return this.data?Object.entries(Object(s.L)(this.data,e=>e.location)).map(([e,t])=>{const n=Object(s.Mb)(t,e=>e.date);return{id:e,location:e,series:n,latest:Object(s.jb)(t,e=>e.date),latestWithTests:Object(s.jb)(t.filter(e=>e.tests),e=>e.date),caseDoublingRange:Fr(n,e=>e.totalCases),deathDoublingRange:Fr(n,e=>e.totalDeaths)}}):[]}get rowData(){const{sortKey:e,sortOrder:t,truncate:n,truncateLength:o}=this.tableState,a=qr[e],r=Object(s.sb)(this.countrySeries,e=>{const n=a(e);return void 0!==n?n:t===Qe.g.asc?1/0:-1/0},t),[i,l]=Object(s.wb)(r,this.props.filter);let[c,u]=[i,[]];return n&&([c,u]=[i.slice(0,o),i.slice(o)]),{shown:c,truncated:u,hidden:l}}get isTruncated(){return this.rowData.truncated.length>0}get dateRange(){const e=this.tableState.isMobile?13:20;if(void 0!==this.data&&this.data.length>0){const t=Object(s.ib)(this.data.map(e=>e.date));return[Object(s.a)(t,-e),t]}return[Object(s.a)(new Date,-e),new Date]}get lastUpdated(){return this.dateRange[1]}get totalTestsBarScale(){var e;const t=Object(s.ib)(null===(e=this.data)||void 0===e?void 0:e.map(e=>{var t;return null===(t=e.tests)||void 0===t?void 0:t.totalTests}));return Object(Lo.a)().domain([0,null!=t?t:1]).range([0,1])}get columns(){return this.tableState.isMobile?this.props.mobileColumns:this.props.columns}onSort(e){const{sortKey:t,sortOrder:n}=this.tableState;this.tableState.sortOrder=t===e&&n===Yr?Yr===Qe.g.asc?Qe.g.desc:Qe.g.asc:Yr,this.tableState.sortKey=e}get headerCellProps(){const{sortKey:e,sortOrder:t,isMobile:n}=this.tableState;return{currentSortKey:e,currentSortOrder:t,isMobile:n,lastUpdated:this.lastUpdated,onSort:this.onSort}}get countryColors(){const e=Object(s.cc)((this.data||[]).map(e=>e.location)),t=Uo;return Object(s.E)(e.map((e,n)=>[e,t[n%t.length]]))}onShowMore(){this.tableState.truncate=!1}render(){return this.isLoading?null:this.error?f.createElement("div",{className:"covid-error"},"There was an error loading the live table."):f.createElement("div",{className:B()("covid-table-container",{"covid-table-mobile":this.tableState.isMobile})},f.createElement("div",{className:B()("covid-table-wrapper",{truncated:this.isTruncated})},f.createElement("table",{className:"covid-table"},f.createElement("thead",null,f.createElement("tr",null,this.columns.map(e=>f.createElement(f.Fragment,{key:e},Ti[e].header(this.headerCellProps))))),f.createElement("tbody",null,this.rowData.shown.map(e=>f.createElement(Ni,{key:e.id,datum:e,columns:this.columns,transform:{dateRange:this.dateRange,totalTestsBarScale:this.totalTestsBarScale,countryColors:this.countryColors},extraRow:this.props.extraRow,state:this.tableState})))),this.isTruncated&&f.createElement("div",{className:"show-more",onClick:this.onShowMore},f.createElement("button",{className:"button"},f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:Fo.faAngleDoubleDown})),"Show more",f.createElement("span",{className:"icon"},f.createElement(Y.a,{icon:Fo.faAngleDoubleDown}))))),f.createElement("div",{className:"covid-table-footer"},this.props.footer))}};Ii.defaultProps={columns:[],mobileColumns:[],filter:e=>e,loadData:ki,defaultState:{}},ji([l.observable.ref],Ii.prototype,"data",void 0),ji([l.observable.ref],Ii.prototype,"isLoaded",void 0),ji([l.observable.ref],Ii.prototype,"isLoading",void 0),ji([l.observable.ref],Ii.prototype,"error",void 0),ji([l.observable],Ii.prototype,"tableState",void 0),ji([l.action.bound],Ii.prototype,"onResize",null),ji([l.computed],Ii.prototype,"countrySeries",null),ji([l.computed],Ii.prototype,"rowData",null),ji([l.computed],Ii.prototype,"isTruncated",null),ji([l.computed],Ii.prototype,"dateRange",null),ji([l.computed],Ii.prototype,"lastUpdated",null),ji([l.computed],Ii.prototype,"totalTestsBarScale",null),ji([l.computed],Ii.prototype,"columns",null),ji([l.action.bound],Ii.prototype,"onSort",null),ji([l.computed],Ii.prototype,"headerCellProps",null),ji([l.computed],Ii.prototype,"countryColors",null),ji([l.action.bound],Ii.prototype,"onShowMore",null),Ii=ji([b.a],Ii);const Ai={cases:{loadData:ki,columns:[fi.location,fi.daysToDoubleCases,fi.totalCases,fi.newCases],mobileColumns:[fi.location,fi.daysToDoubleCases],defaultState:{sortKey:Hr.daysToDoubleCases,sortOrder:Qe.g.asc,truncate:!0},filter:e=>-1===e.location.indexOf("International")&&!(!e.latest||void 0===e.latest.totalCases)&&e.latest.totalCases>=20,footer:f.createElement(f.Fragment,null,f.createElement("p",{className:"tiny"},"Countries with less than ",20," confirmed cases are not shown. Cases from the Diamond Princess cruise ship are also not shown since these numbers are no longer changing over time."),f.createElement("p",null,"Data source:"," ",f.createElement("a",{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"},"ECDC"),". Download the"," ",f.createElement("a",{href:"https://ourworldindata.org/coronavirus-source-data"},"full dataset"),"."))},deaths:{loadData:ki,columns:[fi.location,fi.daysToDoubleDeaths,fi.totalDeaths,fi.newDeaths],mobileColumns:[fi.location,fi.daysToDoubleDeaths],defaultState:{sortKey:Hr.daysToDoubleDeaths,sortOrder:Qe.g.asc,truncate:!0},filter:e=>-1===e.location.indexOf("International")&&!(!e.latest||void 0===e.latest.totalDeaths)&&e.latest.totalDeaths>=5,footer:f.createElement(f.Fragment,null,f.createElement("p",{className:"tiny"},"Countries with less than ",5," confirmed deaths are not shown. Deaths from the Diamond Princess cruise ship are also not shown since these numbers are no longer changing over time."),f.createElement("p",null,"Data source:"," ",f.createElement("a",{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"},"ECDC"),". Download the"," ",f.createElement("a",{href:"https://ourworldindata.org/coronavirus-source-data"},"full dataset"),"."))},tests:{loadData:function(){return xi(this,void 0,void 0,(function*(){const e=yield Object(s.Cb)(()=>Object(s.w)("http://localhost:8080/data/tests/latest/data.csv"));return Object(Di.a)(e).map(e=>({date:jt()(e["Date to which estimate refers (dd mmm yyyy)"],"DD MMMM YYYY").toDate(),location:e["Entity string"],tests:{totalTests:Object(s.vb)(e["Total tests/ individuals tested"]),totalPositiveTests:Object(s.vb)(e["Positive tests/ confirmed cases (refer to 'Remarks')"]),sourceURL:e["Source URL"],sourceLabel:e["Source label"],publicationDate:jt()(`${e["Date of source publication (dd mmm yyyy)"]} ${e["Time of source publication (hh:mm)"]}`,"DD MMMM YYYY HH:mm").toDate(),remarks:e.Remarks,population:Object(s.vb)(e.Population),nonOfficial:1===Object(s.vb)(e["Non-official / Non-verifiable (=1)"])}}))}))},columns:[fi.locationTests,fi.totalTests,fi.testDate],mobileColumns:[fi.locationTests,fi.totalTests],defaultState:{sortKey:Hr.totalTests,sortOrder:Qe.g.desc},extraRow:e=>{var t;if(void 0===(null===(t=e.datum.latestWithTests)||void 0===t?void 0:t.tests))return;const{date:n,tests:o}=e.datum.latestWithTests,{sourceURL:a,sourceLabel:r,publicationDate:i,remarks:s,nonOfficial:l}=o;return f.createElement("td",{colSpan:3,className:"testing-notes"},f.createElement("span",{className:B()("official",{"is-official":!l})},f.createElement(ui.a,{content:f.createElement("div",{className:"covid-tooltip"},"Refers to: ",Lr(n),f.createElement("br",null),"Published: ",Lr(i),f.createElement("br",null),"Remarks: ",s)},f.createElement("span",null,l?f.createElement(Y.a,{icon:Ao.faExclamationCircle}):f.createElement(Y.a,{icon:Io.faCheckCircle})))),f.createElement("span",{className:"source"},f.createElement("a",{href:a},r)),f.createElement("br",null))}},deathsAndCases:{loadData:ki,columns:[fi.location,fi.daysToDoubleDeaths,fi.totalDeaths,fi.newDeaths,fi.daysToDoubleCases,fi.totalCases,fi.newCases],mobileColumns:[fi.location,fi.daysToDoubleDeaths,fi.daysToDoubleCases],defaultState:{sortKey:Hr.totalDeaths,sortOrder:Qe.g.desc,truncate:!0},filter:e=>-1===e.location.indexOf("International")&&!(!e.latest||void 0===e.latest.totalCases)&&e.latest.totalCases>=20,footer:f.createElement(f.Fragment,null,f.createElement("p",{className:"tiny"},"Countries with less than ",20," confirmed cases are not shown. Cases from the Diamond Princess cruise ship are also not shown since these numbers are no longer changing over time."),f.createElement("p",null,"Data source:"," ",f.createElement("a",{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"},"ECDC"),". Download the"," ",f.createElement("a",{href:"https://ourworldindata.org/coronavirus-source-data"},"full dataset"),"."))}};var Li=n(51),Ui=n(126),Fi=function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i},qi=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};const Yi=Object(s.Mb)(L.a,e=>e.name).concat([{name:"World",code:"OWID_WRL",slug:"world"}]),_i=e=>f.createElement("div",null,f.createElement(Li.z.Option,Object.assign({},e),f.createElement("input",{type:"checkbox",checked:e.isSelected,readOnly:!0})," ",f.createElement("label",null,e.label))),Hi=e=>f.createElement(cn.a,Object.assign({components:{IndicatorSeparator:null,Option:_i},menuPlacement:"bottom",isClearable:!1,isMulti:!0,backspaceRemovesValue:!1,blurInputOnSelect:!1,closeMenuOnSelect:!1,controlShouldRenderValue:!1,hideSelectedOptions:!1,placeholder:"Add a country to all charts...",styles:{placeholder:e=>Object.assign(Object.assign({},e),{whiteSpace:"nowrap"}),valueContainer:e=>Object.assign(Object.assign({},e),{paddingTop:0,paddingBottom:0}),control:e=>Object.assign(Object.assign({},e),{minHeight:"initial"}),dropdownIndicator:e=>Object.assign(Object.assign({},e),{padding:"0 5px"})}},e));function zi(e){var t;const n=(null===(t=e.canRemove)||void 0===t||t)&&void 0!==e.onRemove,o=e.onRemove||s.pb,a=0===e.selectedItems.length;return f.createElement("div",{className:"selected-items-container"},a?f.createElement("div",{className:"empty"},e.emptyLabel):f.createElement("div",{className:"selected-items"},e.selectedItems.map(t=>f.createElement("div",{key:e.getLabel(t),className:B()("selected-item",{removable:n})},f.createElement("div",{className:"label"},e.getLabel(t)),n&&f.createElement("div",{className:"remove-icon",onClick:()=>o(t)},f.createElement(Y.a,{icon:ae.faTimes}))))))}let Wi=class extends f.Component{constructor(){super(...arguments),this.refContainer=f.createRef(),this.disposers=[],this.isNarrow=!0,this.isOpen=!1,this.selectOptions=[],this.onResizeThrottled=Object(s.Wb)(this.onResize,200),this.analytics=new u.a(d.g,d.i)}componentDidMount(){this.onResize(),window.addEventListener("resize",this.onResizeThrottled),this.disposers.push(Object(l.reaction)(()=>this.isOpen,()=>this.prepareSelectOptions())),this.populateLocalEntity()}componentWillUnmount(){window.removeEventListener("resize",this.onResizeThrottled),this.disposers.forEach(e=>e())}onResize(){const e=this.refContainer.current;e&&(this.isNarrow=e.offsetWidth<=640)}populateLocalEntity(){return qi(this,void 0,void 0,(function*(){try{const e=yield Object(s.H)();if(e){const[t]=Yi.filter(t=>t.code===e);t&&(this.localEntity=t)}}catch(e){}}))}get selectedEntities(){return this.props.globalEntitySelection.selectedEntities}setSelectedEntities(e){this.props.globalEntitySelection.mode=Ui.b.override,this.props.globalEntitySelection.selectedEntities=e}getOptionValue(e){return e.code}getOptionLabel(e){return e.name}prepareSelectOptions(){let e=[];return this.localEntity&&!this.selectedEntities.includes(this.localEntity)&&(e=e.concat([{label:"Suggestions",options:[this.localEntity]}])),this.selectedEntities.length>0&&(e=e.concat([{label:"Selected",options:this.selectedEntities}])),e=e.concat([{label:"All countries",options:Yi}]),this.selectOptions=e,e}onChange(e){const t=Object(it.a)(e);this.setSelectedEntities(t),this.analytics.logGlobalEntityControl("change",t.map(e=>e.code).join(","))}onRemove(e){this.setSelectedEntities(this.selectedEntities.filter(t=>t!==e))}onMenuOpen(){this.isOpen=!0}onMenuClose(){this.isOpen=!1}onButtonOpen(e){this.analytics.logGlobalEntityControl("open",e.currentTarget.innerText),this.onMenuOpen()}onButtonClose(e){this.analytics.logGlobalEntityControl("close",e.currentTarget.innerText),this.onMenuClose()}renderNarrow(){return f.createElement(f.Fragment,null,f.createElement("div",{className:B()("narrow-summary",{"narrow-summary-selected-items":!this.isOpen})},this.isOpen?f.createElement(Hi,{options:this.selectOptions,getOptionValue:this.getOptionValue,getOptionLabel:this.getOptionLabel,onChange:this.onChange,value:this.selectedEntities,menuIsOpen:this.isOpen,autoFocus:!0}):f.createElement(f.Fragment,null,0===this.selectedEntities.length?"None selected":this.selectedEntities.map(e=>f.createElement("span",{className:"narrow-summary-selected-item",key:e.code},e.name)).reduce((e,t)=>0===e.length?[t]:[...e,", ",t],[]))),f.createElement("div",{className:"narrow-actions"},this.isOpen?f.createElement("button",{className:"button",onClick:this.onButtonClose},"Done"):f.createElement("button",{className:"button",onClick:this.onButtonOpen},0===this.selectedEntities.length?"Select countries":"Edit")))}renderWide(){return f.createElement(f.Fragment,null,f.createElement("div",{className:"select-dropdown-container"},f.createElement(Hi,{options:this.selectOptions,getOptionValue:this.getOptionValue,getOptionLabel:this.getOptionLabel,onChange:this.onChange,value:this.selectedEntities,onMenuOpen:this.onMenuOpen,onMenuClose:this.onMenuClose})),f.createElement(zi,{selectedItems:this.selectedEntities,getLabel:this.getOptionLabel,onRemove:this.onRemove,emptyLabel:"Select countries to show on all charts"}))}render(){return f.createElement("div",{className:B()("global-entity-control",{"is-narrow":this.isNarrow,"is-wide":!this.isNarrow}),ref:this.refContainer,onClick:this.isNarrow&&!this.isOpen?this.onMenuOpen:void 0},this.isNarrow?this.renderNarrow():this.renderWide())}};Fi([l.observable],Wi.prototype,"isNarrow",void 0),Fi([l.observable],Wi.prototype,"isOpen",void 0),Fi([l.observable],Wi.prototype,"localEntity",void 0),Fi([l.observable.ref],Wi.prototype,"selectOptions",void 0),Fi([l.action.bound],Wi.prototype,"onResize",null),Fi([l.action.bound],Wi.prototype,"populateLocalEntity",null),Fi([l.computed],Wi.prototype,"selectedEntities",null),Fi([l.action.bound],Wi.prototype,"setSelectedEntities",null),Fi([l.action.bound],Wi.prototype,"prepareSelectOptions",null),Fi([l.action.bound],Wi.prototype,"onChange",null),Fi([l.action.bound],Wi.prototype,"onRemove",null),Fi([l.action.bound],Wi.prototype,"onMenuOpen",null),Fi([l.action.bound],Wi.prototype,"onMenuClose",null),Fi([l.action.bound],Wi.prototype,"onButtonOpen",null),Fi([l.action.bound],Wi.prototype,"onButtonClose",null),Wi=Fi([b.a],Wi);const Xi="data-global-entity-control";var Vi=n(318);const Bi=({index:e,htmlContent:t,triggerTarget:n})=>{const o=(e,t)=>{"click"===t.type&&t.preventDefault()};return g.a.createElement(ui.a,{appendTo:()=>document.body,content:t&&g.a.createElement("div",null,g.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})),interactive:!0,placement:"auto",theme:"owid-footnote",trigger:"mouseenter focus click",triggerTarget:n,onTrigger:o,onUntrigger:o},g.a.createElement("sup",null,e))};var Qi,Ki=n(322);window.GrapherPageUtils=_e.a,window.GrapherView=He.a,window.Grapher=w.a,window.CovidExplorer=Vi.a,window.SwitcherExplorer=Ki.a,window.ExploreView=St,window.runChartsIndexPage=function(){(new m).run()},window.runHeaderMenus=function(){v.render(f.createElement(ge,null),document.querySelector(".site-header"))},window.runSearchPage=function(){y.a.render(g.a.createElement(be,null),document.querySelector(".searchResults"))},window.runNotFoundPage=function(){const e=window.location.pathname.split("/"),t=document.getElementById("search_q");t&&e.length&&(t.value=decodeURIComponent(e[e.length-1]).replace(/[\-_\+|]/g," ")),we.logPageNotFoundError(window.location.href)},window.runSiteTools=()=>{v.render(f.createElement(Ro,null),document.querySelector(".site-tools"));const e=document.querySelector(".homepage-subscribe .newsletter-subscription .root");e&&v.hydrate(f.createElement(le,{context:ie.Homepage}),e)},window.runFeedbackPage=function(){y.a.render(g.a.createElement("div",{className:"box"},g.a.createElement(Pe,null)),document.querySelector(".FeedbackPage main"))},window.runDonateForm=function(){(new Ye).run()},window.runVariableCountryPage=function(e){y.a.render(f.createElement(Pt,{countryPageProps:e}),document.querySelector("main"))},window.runCountryProfilePage=function(){(new Dt).run()},window.runCookiePreferencesManager=()=>{const e=document.createElement("div");var t;document.body.appendChild(e),y.a.render(f.createElement(zt,{initialState:null!==(t=Xt(xt.get("cookie_preferences")))&&void 0!==t?t:Ht}),e)},window.runBlocks=()=>{Object(_e.b)()||document.getElementsByTagName("body")[0].classList.add("is-not-chart-interactive"),document.querySelectorAll("."+on).forEach(e=>{const t=e.parentElement,n=e.querySelector("h3"),o=n?n.textContent:null,a=e.getAttribute("data-variation")||"",r="true"===e.getAttribute("data-default-open"),i=e.querySelector(".content-wrapper > figure"),s=i?i.innerHTML:null,l=e.querySelector(".content"),c=l?l.innerHTML:null;v.hydrate(f.createElement(an,{content:c,title:o,image:s,variation:a,defaultOpen:r}),t)}),document.querySelectorAll(".wp-block-owid-prominent-link").forEach(e=>{const t=e.querySelector("a");if(!t)return;const n=f.createElement(sn,{originalAnchorAttributes:Object(s.F)(t),innerHTML:t.innerHTML});y.a.render(n,e)}),document.querySelectorAll(".wp-block-search-country-profile").forEach(e=>{const t=e.getAttribute("data-project");if(t){const n=un.find(e=>e.project===t);n&&y.a.render(g.a.createElement(pn,{countryProfileRootPath:n.rootPath}),e)}}),document.querySelectorAll("[data-type=ExpandableInlineBlock]").forEach(e=>{const t=JSON.parse(e.innerHTML),n=e.getAttribute("data-block"),o=e.getAttribute("data-label");if(!n||!o||!t)return;const a=hn[n];y.a.render(g.a.createElement(mn,{label:o},g.a.createElement(a,Object.assign({},t,{label:o}))),e.parentElement)})},window.runTableOfContents=e=>{const t=document.querySelector(".entry-sidebar");if(t){const n=t.parentElement;v.hydrate(f.createElement(Cn,Object.assign({},e)),n)}},window.runRelatedCharts=e=>{const t=document.querySelector(".related-charts");if(t){const n=t.parentElement;y.a.hydrate(f.createElement(On,{charts:e}),n)}},window.runLightbox=()=>{let e=document.querySelector(".lightbox");e||(e=document.createElement("div"),e.classList.add("lightbox"),document.body.appendChild(e)),Array.from(document.querySelectorAll(".article-content img")).forEach(t=>{t.closest(".wp-block-owid-prominent-link")||t.closest("[data-no-lightbox]")||(t.classList.add("lightbox-enabled"),t.addEventListener("click",()=>{var n;const o=null!==(n=t.getAttribute("data-high-res-src"))&&void 0!==n?n:t.src;o&&v.render(f.createElement(jo,{imgSrc:o,containerNode:e},(e,t)=>f.createElement(Mo,{src:o,isLoaded:e,setIsLoaded:t})),e)}))})},window.runCovid=function(){Array.from(document.querySelectorAll("*[data-covid-table], #covid-table-embed")).forEach(e=>{const t=e.getAttribute("data-measure"),n=Object(s.rb)(t,["tests","deaths","cases","deathsAndCases"],"cases");v.render(f.createElement(Ii,Object.assign({},Ai[n])),e)})},window.runGlobalEntityControl=function(e){const t=document.querySelector(`*[${Xi}]`);if(t){v.hydrate(f.createElement(Wi,{globalEntitySelection:e}),t),e.bindUrlParamsToWindow();const n=t.getAttribute("data-default-country");if(n&&0===e.selectedEntities.length){const t=n.split(/[+,]/g);e.selectByCountryCodes(t),e.mode=Ui.b.override}}},window.runFootnotes=function(){document.querySelectorAll("a.ref").forEach(e=>{const t=function(e){var t;const n=null===(t=e.closest("a.ref"))||void 0===t?void 0:t.getAttribute("href");if(!n)return null;const o=Object(s.vb)(n.split("-")[1]);if(void 0===o)return null;const a=document.querySelector(n);return(null==a?void 0:a.innerHTML)?{index:o,href:n,htmlContent:a.innerHTML}:null}(e);null!=t&&y.a.hydrate(g.a.createElement(Bi,{index:t.index,htmlContent:t.htmlContent,triggerTarget:e}),e)})};const Gi=new p;if(Gi.logPageLoad(),null===(Qi=document.querySelector("html"))||void 0===Qi||Qi.classList.add("js"),document.cookie.includes("wordpress")||document.cookie.includes("wp-settings")||document.cookie.includes(Qe.d.isAdmin)){const e=document.getElementById("wpadminbar");e&&(e.style.display="")}new a.a('a[href*="#"][data-smooth-scroll]',{speed:600,durationMax:800,durationMin:100,popstate:!1}),Gi.startClickTracking()},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z";t.definition={prefix:"fas",iconName:"envelope-open-text",icon:[512,512,o,"f658",a]},t.faEnvelopeOpenText=t.definition,t.prefix="fas",t.iconName="envelope-open-text",t.width=512,t.height=512,t.ligatures=o,t.unicode="f658",t.svgPathData=a},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";t.definition={prefix:"fas",iconName:"check",icon:[512,512,o,"f00c",a]},t.faCheck=t.definition,t.prefix="fas",t.iconName="check",t.width=512,t.height=512,t.ligatures=o,t.unicode="f00c",t.svgPathData=a},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z";t.definition={prefix:"fas",iconName:"exclamation-circle",icon:[512,512,o,"f06a",a]},t.faExclamationCircle=t.definition,t.prefix="fas",t.iconName="exclamation-circle",t.width=512,t.height=512,t.ligatures=o,t.unicode="f06a",t.svgPathData=a},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z";t.definition={prefix:"far",iconName:"check-circle",icon:[512,512,o,"f058",a]},t.faCheckCircle=t.definition,t.prefix="far",t.iconName="check-circle",t.width=512,t.height=512,t.ligatures=o,t.unicode="f058",t.svgPathData=a},394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z";t.definition={prefix:"fas",iconName:"angle-double-down",icon:[320,512,o,"f103",a]},t.faAngleDoubleDown=t.definition,t.prefix="fas",t.iconName="angle-double-down",t.width=320,t.height=512,t.ligatures=o,t.unicode="f103",t.svgPathData=a},586:function(e,t,n){(function(n){var o,a;/*! smooth-scroll v16.1.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),a=Math.max(0,16-(o-e)),r=window.setTimeout((function(){t(o+a)}),a);return e=o+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),a=void 0!==n?n:"undefined"!=typeof window?window:this,void 0===(o=function(){return function(e){"use strict";var t={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},n=function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e},o=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,a=-1,r="",i=n.charCodeAt(0);++a<o;){if(0===(t=n.charCodeAt(a)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");r+=1<=t&&t<=31||127==t||0===a&&48<=t&&t<=57||1===a&&48<=t&&t<=57&&45===i?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(a):"\\"+n.charAt(a)}return"#"+r},a=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},r=function(t,n,o,a){if(n.emitEvents&&"function"==typeof e.CustomEvent){var r=new CustomEvent(t,{bubbles:!0,detail:{anchor:o,toggle:a}});document.dispatchEvent(r)}};return function(i,s){var l,c,u,d,p={cancelScroll:function(e){cancelAnimationFrame(d),d=null,e||r("scrollCancel",l)},animateScroll:function(o,i,s){p.cancelScroll();var c=n(l||t,s||{}),h="[object Number]"===Object.prototype.toString.call(o),m=h||!o.tagName?null:o;if(h||m){var f=e.pageYOffset;c.header&&!u&&(u=document.querySelector(c.header));var g,v,y,b,w,E,C,O,S=function(t){return t?(n=t,parseInt(e.getComputedStyle(n).height,10)+t.offsetTop):0;var n}(u),T=h?o:function(t,n,o,r){var i=0;if(t.offsetParent)for(;i+=t.offsetTop,t=t.offsetParent;);return i=Math.max(i-n-o,0),r&&(i=Math.min(i,a()-e.innerHeight)),i}(m,S,parseInt("function"==typeof c.offset?c.offset(o,i):c.offset,10),c.clip),P=T-f,N=a(),D=0,x=(g=P,y=(v=c).speedAsDuration?v.speed:Math.abs(g/1e3*v.speed),v.durationMax&&y>v.durationMax?v.durationMax:v.durationMin&&y<v.durationMin?v.durationMin:parseInt(y,10)),k=function(t){var n,a,s;b||(b=t),D+=t-b,E=f+P*(a=w=1<(w=0===x?0:D/x)?1:w,"easeInQuad"===(n=c).easing&&(s=a*a),"easeOutQuad"===n.easing&&(s=a*(2-a)),"easeInOutQuad"===n.easing&&(s=a<.5?2*a*a:(4-2*a)*a-1),"easeInCubic"===n.easing&&(s=a*a*a),"easeOutCubic"===n.easing&&(s=--a*a*a+1),"easeInOutCubic"===n.easing&&(s=a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1),"easeInQuart"===n.easing&&(s=a*a*a*a),"easeOutQuart"===n.easing&&(s=1- --a*a*a*a),"easeInOutQuart"===n.easing&&(s=a<.5?8*a*a*a*a:1-8*--a*a*a*a),"easeInQuint"===n.easing&&(s=a*a*a*a*a),"easeOutQuint"===n.easing&&(s=1+--a*a*a*a*a),"easeInOutQuint"===n.easing&&(s=a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a),n.customEasing&&(s=n.customEasing(a)),s||a),e.scrollTo(0,Math.floor(E)),function(t,n){var a,s,l,u=e.pageYOffset;if(t==n||u==n||(f<n&&e.innerHeight+u)>=N)return p.cancelScroll(!0),s=n,l=h,0===(a=o)&&document.body.focus(),l||(a.focus(),document.activeElement!==a&&(a.setAttribute("tabindex","-1"),a.focus(),a.style.outline="none"),e.scrollTo(0,s)),r("scrollStop",c,o,i),!(d=b=null)}(E,T)||(d=e.requestAnimationFrame(k),b=t)};0===e.pageYOffset&&e.scrollTo(0,0),C=o,O=c,h||history.pushState&&O.updateURL&&history.pushState({smoothScroll:JSON.stringify(O),anchor:C.id},document.title,C===document.documentElement?"#top":"#"+C.id),"matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches?e.scrollTo(0,Math.floor(T)):(r("scrollStart",c,o,i),p.cancelScroll(!0),e.requestAnimationFrame(k))}}},h=function(t){if(!t.defaultPrevented&&!(0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)&&"closest"in t.target&&(c=t.target.closest(i))&&"a"===c.tagName.toLowerCase()&&!t.target.closest(l.ignore)&&c.hostname===e.location.hostname&&c.pathname===e.location.pathname&&/#/.test(c.href)){var n,a=o(c.hash);if("#"===a){if(!l.topOnEmptyHash)return;n=document.documentElement}else n=document.querySelector(a);(n=n||"#top"!==a?n:document.documentElement)&&(t.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var n=e.location.hash;n=n||"",history.replaceState({smoothScroll:JSON.stringify(t),anchor:n||e.pageYOffset},document.title,n||e.location.href)}}(l),p.animateScroll(n,c))}},m=function(e){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(l)){var t=history.state.anchor;"string"==typeof t&&t&&!(t=document.querySelector(o(history.state.anchor)))||p.animateScroll(t,null,{updateURL:!1})}};return p.destroy=function(){l&&(document.removeEventListener("click",h,!1),e.removeEventListener("popstate",m,!1),p.cancelScroll(),d=u=c=l=null)},function(){if(!("querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";p.destroy(),l=n(t,s||{}),u=l.header?document.querySelector(l.header):null,document.addEventListener("click",h,!1),l.updateURL&&l.popstate&&e.addEventListener("popstate",m,!1)}(),p}}(a)}.apply(t,[]))||(e.exports=o)}).call(this,n(98))},587:function(e,t,n){
/*! algoliasearch-lite.umd.js | 4.2.0 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */
e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(n){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?t(Object(a),!0).forEach((function(t){e(n,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e){var t,n="algoliasearch-client-js-".concat(e.key),a=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},r=function(){return JSON.parse(a().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),o=r()[n];return Promise.all([o||t(),void 0!==o])})).then((function(e){var t=o(e,2),a=t[0],r=t[1];return Promise.all([a,r||n.miss(a)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=r();return o[JSON.stringify(e)]=t,a().setItem(n,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=r();delete t[JSON.stringify(e)],a().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){a().removeItem(n)}))}}}function i(e){var t=a(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=t();return a.then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,o,a).catch((function(){return i({caches:t}).get(e,o,a)}))},set:function(e,o){return n.set(e,o).catch((function(){return i({caches:t}).set(e,o)}))},delete:function(e){return n.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},r=JSON.stringify(n);if(r in t)return Promise.resolve(e.serializable?JSON.parse(t[r]):t[r]);var i=o(),s=a&&a.miss||function(){return Promise.resolve()};return i.then((function(e){return s(e)})).then((function(){return i}))},set:function(n,o){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(o):o,Promise.resolve(o)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function l(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}function c(e,t){return Object.keys(void 0!==t?t:{}).forEach((function(n){e[n]=t[n](e)})),e}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[a++])}))}var d=0,p=1;function h(e,t){var n=e||{},o=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(o[e]=n[e])})),{data:Object.entries(o).length>0?o:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var m={Read:1,Write:2,Any:3};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n({},e,{status:t,lastUpdate:Date.now()})}function g(e){return{protocol:e.protocol||"https",url:e.url,accept:e.accept||m.Any}}var v="POST";function y(e,t,o,r){var i=[],s=function(e,t){if("GET"!==e.method&&(void 0!==e.data||void 0!==t.data)){var o=Array.isArray(e.data)?e.data:n({},e.data,{},t.data);return JSON.stringify(o)}}(o,r),l=function(e,t){var o=n({},e.headers,{},t.headers),a={};return Object.keys(o).forEach((function(e){var t=o[e];a[e.toLowerCase()]=t})),a}(e,r),c=o.method,u="GET"!==o.method?{}:n({},o.data,{},r.data),d=n({"x-algolia-agent":e.userAgent.value},e.queryParameters,{},u,{},r.queryParameters),p=0,h=function t(n,a){var u=n.pop();if(void 0===u)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:C(i)};var h={data:s,headers:l,method:c,url:w(u,o.path,d),connectTimeout:a(p,e.timeouts.connect),responseTimeout:a(p,r.timeout)},m=function(e){var t={request:h,response:e,host:u,triesLeft:n.length};return i.push(t),t},g={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(o){var r=m(o);return o.isTimedOut&&p++,Promise.all([e.logger.info("Retryable failure",O(r)),e.hostsCache.set(u,f(u,o.isTimedOut?3:2))]).then((function(){return t(n,a)}))},onFail:function(e){throw m(e),function(e,t){var n=e.content,o=e.status,a=n;try{a=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(a,o,t)}(e,C(i))}};return e.requester.send(h).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSucess(e):t.onFail(e)}(e,g)}))};return function(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(f(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)})),o=e.filter((function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)})),r=[].concat(a(n),a(o));return{getTimeout:function(e,t){return(0===o.length&&0===e?1:o.length+3+e)*t},statelessHosts:r.length>0?r.map((function(e){return g(e)})):t}}))}(e.hostsCache,t).then((function(e){return h(a(e.statelessHosts).reverse(),e.getTimeout)}))}function b(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function w(e,t,n){var o=E(n),a="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return o.length&&(a+="?".concat(o)),a}function E(e){return Object.keys(e).map((function(t){return u("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function C(e){return e.map((function(e){return O(e)}))}function O(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n({},e,{request:n({},e.request,{headers:n({},e.request.headers,{},t)})})}var S=function(e){var t=e.appId,a=function(e,t,n){var o={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===p?o:{}},queryParameters:function(){return e===d?o:{}}}}(void 0!==e.authMode?e.authMode:p,t,e.apiKey),r=function(e){var t=e.hostsCache,n=e.logger,a=e.requester,r=e.requestsCache,i=e.responsesCache,s=e.timeouts,l=e.userAgent,c=e.hosts,u=e.queryParameters,d={hostsCache:t,logger:n,requester:a,requestsCache:r,responsesCache:i,timeouts:s,userAgent:l,headers:e.headers,queryParameters:u,hosts:c.map((function(e){return g(e)})),read:function(e,t){var n=h(t,d.timeouts.read),a=function(){return y(d,d.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return a();var r={request:e,mappedRequestOptions:n,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(r,(function(){return d.requestsCache.get(r,(function(){return d.requestsCache.set(r,a()).then((function(e){return Promise.all([d.requestsCache.delete(r),e])}),(function(e){return Promise.all([d.requestsCache.delete(r),Promise.reject(e)])})).then((function(e){var t=o(e,2);return t[0],t[1]}))}))}),{miss:function(e){return d.responsesCache.set(r,e)}})},write:function(e,t){return y(d,d.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,h(t,d.timeouts.write))}};return d}(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:m.Read},{url:"".concat(t,".algolia.net"),accept:m.Write}].concat(l([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e,{headers:n({},a.headers(),{},{"content-type":"application/x-www-form-urlencoded"},{},e.headers),queryParameters:n({},a.queryParameters(),{},e.queryParameters)}));return c({transporter:r,appId:t,addAlgoliaAgent:function(e,t){r.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([r.requestsCache.clear(),r.responsesCache.clear()]).then((function(){}))}},e.methods)},T=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={transporter:e.transporter,appId:e.appId,indexName:t};return c(o,n.methods)}},P=function(e){return function(t,o){var a=t.map((function(e){return n({},e,{params:E(e.params||{})})}));return e.transporter.read({method:v,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},o)}},N=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,r=a.facetName,i=a.facetQuery,s=function(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,["facetName","facetQuery"]);return T(e)(t.indexName,{methods:{searchForFacetValues:x}}).searchForFacetValues(r,i,n({},o,{},s))})))}},D=function(e){return function(t,n){return e.transporter.read({method:v,path:u("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},x=function(e){return function(t,n,o){return e.transporter.read({method:v,path:u("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},o)}};function k(e,t,o){var a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var o,a=function(e,o){return setTimeout((function(){n.abort(),t({status:0,content:o,isTimedOut:!0})}),1e3*e)},r=a(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===o&&(clearTimeout(r),o=a(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(r),clearTimeout(o),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(r),clearTimeout(o),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[r({key:"".concat("4.2.0","-").concat(e)}),s()]}),userAgent:b("4.2.0").add({segment:"Browser",version:"lite"}),authMode:d};return S(n({},a,{},o,{methods:{search:P,searchForFacetValues:N,multipleQueries:P,multipleSearchForFacetValues:N,initIndex:function(e){return function(t){return T(e)(t,{methods:{search:D,searchForFacetValues:x}})}}}}))}return k.version="4.2.0",k}()},588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z";t.definition={prefix:"fas",iconName:"bars",icon:[448,512,o,"f0c9",a]},t.faBars=t.definition,t.prefix="fas",t.iconName="bars",t.width=448,t.height=512,t.ligatures=o,t.unicode="f0c9",t.svgPathData=a},589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z";t.definition={prefix:"fas",iconName:"angle-up",icon:[320,512,o,"f106",a]},t.faAngleUp=t.definition,t.prefix="fas",t.iconName="angle-up",t.width=320,t.height=512,t.ligatures=o,t.unicode="f106",t.svgPathData=a},590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z";t.definition={prefix:"fas",iconName:"angle-down",icon:[320,512,o,"f107",a]},t.faAngleDown=t.definition,t.prefix="fas",t.iconName="angle-down",t.width=320,t.height=512,t.ligatures=o,t.unicode="f107",t.svgPathData=a},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";t.definition={prefix:"fas",iconName:"paper-plane",icon:[512,512,o,"f1d8",a]},t.faPaperPlane=t.definition,t.prefix="fas",t.iconName="paper-plane",t.width=512,t.height=512,t.ligatures=o,t.unicode="f1d8",t.svgPathData=a},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z";t.definition={prefix:"fas",iconName:"comment-alt",icon:[512,512,o,"f27a",a]},t.faCommentAlt=t.definition,t.prefix="fas",t.iconName="comment-alt",t.width=512,t.height=512,t.ligatures=o,t.unicode="f27a",t.svgPathData=a},593:function(e,t,n){var o;e.exports=(o=n(0),function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(6),i=o(r),s=o(n(4)),l={className:s.default.string,onloadCallbackName:s.default.string,elementID:s.default.string,onloadCallback:s.default.func,verifyCallback:s.default.func,expiredCallback:s.default.func,render:s.default.oneOf(["onload","explicit"]),sitekey:s.default.string,theme:s.default.oneOf(["light","dark"]),type:s.default.string,verifyCallbackName:s.default.string,expiredCallbackName:s.default.string,size:s.default.oneOf(["invisible","compact","normal"]),tabindex:s.default.string,hl:s.default.string,badge:s.default.oneOf(["bottomright","bottomleft","inline"])},c=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},u=void 0,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._renderGrecaptcha=n._renderGrecaptcha.bind(n),n.reset=n.reset.bind(n),n.state={ready:c(),widget:null},n.state.ready||"undefined"==typeof window||(u=setInterval(n._updateReadyState.bind(n),1e3)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,o=n.render,a=n.onloadCallback;"explicit"===o&&a&&this.state.ready&&!t.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(u)}},{key:"reset",value:function(){var e=this.state,t=e.ready,n=e.widget;t&&null!==n&&grecaptcha.reset(n)}},{key:"execute",value:function(){var e=this.state,t=e.ready,n=e.widget;t&&null!==n&&grecaptcha.execute(n)}},{key:"_updateReadyState",value:function(){c()&&(this.setState({ready:!0}),clearInterval(u))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?i.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):i.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),t}(r.Component);t.default=d,d.propTypes=l,d.defaultProps={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},e.exports=t.default},function(e,t){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var o=function(e){};e.exports=function(e,t,n,a,r,i,s,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,r,i,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";var o=n(1),a=n(2),r=n(5);e.exports=function(){function e(e,t,n,o,i,s){s!==r&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){e.exports=n(3)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=o}]))},594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zM372.7 159.5L288 216l-85.3-113.7c-5.1-6.8-15.5-6.3-19.9 1L96 248v104h384l-89.9-187.8c-3.2-6.5-11.4-8.7-17.4-4.7z";t.definition={prefix:"fas",iconName:"chart-area",icon:[512,512,o,"f1fe",a]},t.faChartArea=t.definition,t.prefix="fas",t.iconName="chart-area",t.width=512,t.height=512,t.ligatures=o,t.unicode="f1fe",t.svgPathData=a},595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z";t.definition={prefix:"fas",iconName:"map",icon:[576,512,o,"f279",a]},t.faMap=t.definition,t.prefix="fas",t.iconName="map",t.width=576,t.height=512,t.ligatures=o,t.unicode="f279",t.svgPathData=a},596:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=c(n(0)),s=c(n(33)),l=c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;for(var a={},r=Object.keys(e),i=0;i<r.length;i++){var s=r[i];-1===n.indexOf(s)&&(a[s]=e[s])}return a}function m(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function f(e){return!isNaN(parseFloat(e))&&isFinite(e)}function g(e){return"string"==typeof e&&e.search("%")===e.length-1&&f(e.substr(0,e.length-1))}function v(e,t){e&&"function"==typeof e&&e(t)}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var o="auto",r="visible";f(e.height)?(o=e.height<0||"0"===e.height?0:e.height,r="hidden"):g(e.height)&&(o="0%"===e.height?0:e.height,r="hidden"),n.animationStateClasses=a({},d,e.animationStateClasses);var i=n.getStaticStateClasses(o);return n.state={animationStateClasses:i,height:o,overflow:r,shouldUseTransitions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n,o,a=this,r=this.props,i=r.delay,s=r.duration,c=r.height,d=r.onAnimationEnd,p=r.onAnimationStart;if(this.contentElement&&c!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var y=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var b=s+i,w=null,E={height:null,overflow:"hidden"},C="auto"===t.height;f(c)?(w=c<0||"0"===c?0:c,E.height=w):g(c)?(w="0%"===c?0:c,E.height=w):(w=y,E.height="auto",E.overflow=null),C&&(E.height=w,w=y);var O=(0,l.default)((u(h={},this.animationStateClasses.animating,!0),u(h,this.animationStateClasses.animatingUp,"auto"===e.height||c<e.height),u(h,this.animationStateClasses.animatingDown,"auto"===c||c>e.height),u(h,this.animationStateClasses.animatingToHeightZero,0===E.height),u(h,this.animationStateClasses.animatingToHeightAuto,"auto"===E.height),u(h,this.animationStateClasses.animatingToHeightSpecific,E.height>0),h)),S=this.getStaticStateClasses(E.height);this.setState({animationStateClasses:O,height:w,overflow:"hidden",shouldUseTransitions:!C}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),C?(E.shouldUseTransitions=!0,m(this.animationFrameIDs),this.animationFrameIDs=(n=function(){a.setState(E),v(p,{newHeight:E.height})},(o=[])[0]=requestAnimationFrame((function(){o[1]=requestAnimationFrame((function(){n()}))})),o),this.animationClassesTimeoutID=setTimeout((function(){a.setState({animationStateClasses:S,shouldUseTransitions:!1}),a.hideContent(E.height),v(d,{newHeight:E.height})}),b)):(v(p,{newHeight:w}),this.timeoutID=setTimeout((function(){E.animationStateClasses=S,E.shouldUseTransitions=!1,a.setState(E),"auto"!==c&&a.hideContent(w),v(d,{newHeight:w})}),b))}}},{key:"componentWillUnmount",value:function(){m(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.animateOpacity,r=n.applyInlineTransitions,s=n.children,c=n.className,d=n.contentClassName,m=n.duration,f=n.easing,g=n.delay,v=n.style,y=this.state,b=y.height,w=y.overflow,E=y.animationStateClasses,C=y.shouldUseTransitions,O=a({},v,{height:b,overflow:w||v.overflow});C&&r&&(O.transition="height "+m+"ms "+f+" "+g+"ms",v.transition&&(O.transition=v.transition+", "+O.transition),O.WebkitTransition=O.transition);var S={};o&&(S.transition="opacity "+m+"ms "+f+" "+g+"ms",S.WebkitTransition=S.transition,0===b&&(S.opacity=0));var T=(0,l.default)((u(e={},E,!0),u(e,c,c),e));return i.default.createElement("div",a({},h.apply(void 0,[this.props].concat(p)),{"aria-hidden":0===b,className:T,style:O}),i.default.createElement("div",{className:d,style:S,ref:function(e){return t.contentElement=e}},s))}}]),t}(i.default.Component);y.propTypes={animateOpacity:s.default.bool,animationStateClasses:s.default.object,applyInlineTransitions:s.default.bool,children:s.default.any.isRequired,className:s.default.string,contentClassName:s.default.string,duration:s.default.number,delay:s.default.number,easing:s.default.string,height:function(e,t,n){var a=e[t];return"number"==typeof a&&a>=0||g(a)||"auto"===a?null:new TypeError('value "'+a+'" of type "'+(void 0===a?"undefined":o(a))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},onAnimationEnd:s.default.func,onAnimationStart:s.default.func,style:s.default.object},y.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=y},597:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z";t.definition={prefix:"fas",iconName:"angle-right",icon:[256,512,o,"f105",a]},t.faAngleRight=t.definition,t.prefix="fas",t.iconName="angle-right",t.width=256,t.height=512,t.ligatures=o,t.unicode="f105",t.svgPathData=a},598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z";t.definition={prefix:"fas",iconName:"lightbulb",icon:[352,512,o,"f0eb",a]},t.faLightbulb=t.definition,t.prefix="fas",t.iconName="lightbulb",t.width=352,t.height=512,t.ligatures=o,t.unicode="f0eb",t.svgPathData=a},599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z";t.definition={prefix:"fas",iconName:"chevron-left",icon:[320,512,o,"f053",a]},t.faChevronLeft=t.definition,t.prefix="fas",t.iconName="chevron-left",t.width=320,t.height=512,t.ligatures=o,t.unicode="f053",t.svgPathData=a},600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z";t.definition={prefix:"fas",iconName:"list-alt",icon:[512,512,o,"f022",a]},t.faListAlt=t.definition,t.prefix="fas",t.iconName="list-alt",t.width=512,t.height=512,t.ligatures=o,t.unicode="f022",t.svgPathData=a},601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z";t.definition={prefix:"fas",iconName:"search-plus",icon:[512,512,o,"f00e",a]},t.faSearchPlus=t.definition,t.prefix="fas",t.iconName="search-plus",t.width=512,t.height=512,t.ligatures=o,t.unicode="f00e",t.svgPathData=a},602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z";t.definition={prefix:"fas",iconName:"search-minus",icon:[512,512,o,"f010",a]},t.faSearchMinus=t.definition,t.prefix="fas",t.iconName="search-minus",t.width=512,t.height=512,t.ligatures=o,t.unicode="f010",t.svgPathData=a},603:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],a="M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z";t.definition={prefix:"fas",iconName:"compress",icon:[448,512,o,"f066",a]},t.faCompress=t.definition,t.prefix="fas",t.iconName="compress",t.width=448,t.height=512,t.ligatures=o,t.unicode="f066",t.svgPathData=a}});