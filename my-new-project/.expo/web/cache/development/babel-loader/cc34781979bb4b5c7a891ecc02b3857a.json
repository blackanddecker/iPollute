{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _jsxFileName = \"/home/augmenta/Desktop/Project/iPollute/my-new-project/screens/HistoryScreen.js\",\n    _this2 = this;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport HeaderButton from \"../components/HeaderButton\";\nimport MealList from \"../components/MealList\";\n\nvar HistoryScreen = function (_Component) {\n  _inherits(HistoryScreen, _Component);\n\n  var _super = _createSuper(HistoryScreen);\n\n  function HistoryScreen() {\n    var _this;\n\n    _classCallCheck(this, HistoryScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      transportData: [],\n      foodData: [],\n      isLoading: true,\n      isDisabled: true\n    };\n\n    _this.componentDidMount = function () {\n      fetch('http://192.168.1.4:5000/getEnergyHistory', {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: 'POST',\n        body: JSON.stringify({\n          userId: 1\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        console.log(responseJson);\n\n        for (var key in responseJson['foodHistory']) {\n          console.log(\"food key:\", responseJson['foodHistory'][key]);\n\n          _this.state.foodData.push(responseJson['foodHistory'][key]);\n        }\n\n        for (var _key2 in responseJson['transportHistory']) {\n          console.log(\"transport key:\", responseJson['transportHistory'][_key2]);\n\n          _this.state.transportData.push(responseJson['transportHistory'][_key2]);\n        }\n\n        _this.setState({\n          isLoading: !_this.state.isLoading\n        });\n      }).catch(function (error) {\n        console.error(error);\n        alert(\"Transport data didnt fetch\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HistoryScreen, [{\n    key: \"render\",\n    value: function render() {\n      console.log(\"FoodData\", this.state.foodData);\n      return React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      });\n    }\n  }]);\n\n  return HistoryScreen;\n}(Component);\n\n;\n\nHistoryScreen.navigationOptions = function (navData) {\n  return {\n    headerTitle: 'History',\n    headerLeft: React.createElement(HeaderButtons, {\n      HeaderButtonComponent: HeaderButton,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, React.createElement(Item, {\n      title: \"Menu\",\n      iconName: \"ios-menu\",\n      onPress: function onPress() {\n        navData.navigation.toggleDrawer();\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }))\n  };\n};\n\nexport default HistoryScreen;","map":{"version":3,"sources":["/home/augmenta/Desktop/Project/iPollute/my-new-project/screens/HistoryScreen.js"],"names":["React","Component","HeaderButtons","Item","HeaderButton","MealList","HistoryScreen","state","transportData","foodData","isLoading","isDisabled","componentDidMount","fetch","headers","method","body","JSON","stringify","userId","then","response","json","responseJson","console","log","key","push","setState","catch","error","alert","navigationOptions","navData","headerTitle","headerLeft","navigation","toggleDrawer"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,EAAwBC,IAAxB,QAAoC,iCAApC;;;;;AAGA,OAAOC,YAAP;AACA,OAAOC,QAAP;;IAEMC,a;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,aAAa,EAAE,EADT;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,SAAS,EAAE,IAHL;AAINC,MAAAA,UAAU,EAAE;AAJN,K;;UAORC,iB,GAAoB,YAAM;AACxBC,MAAAA,KAAK,CAAC,0CAAD,EAA6C;AAChDC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT,SADuC;AAKhDC,QAAAA,MAAM,EAAE,MALwC;AAMhDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,MAAM,EAAE;AADW,SAAf;AAN0C,OAA7C,CAAL,CAUCC,IAVD,CAUM,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAVN,EAWCF,IAXD,CAWM,UAACG,YAAD,EAAkB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;;AACA,aAAK,IAAMG,GAAX,IAAkBH,YAAY,CAAC,aAAD,CAA9B,EAA8C;AAC5CC,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBF,YAAY,CAAC,aAAD,CAAZ,CAA4BG,GAA5B,CAAxB;;AACA,gBAAKnB,KAAL,CAAWE,QAAX,CAAoBkB,IAApB,CAAyBJ,YAAY,CAAC,aAAD,CAAZ,CAA4BG,GAA5B,CAAzB;AACA;;AACD,aAAK,IAAMA,KAAX,IAAkBH,YAAY,CAAC,kBAAD,CAA9B,EAAmD;AACjDC,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,YAAY,CAAC,kBAAD,CAAZ,CAAiCG,KAAjC,CAA7B;;AACA,gBAAKnB,KAAL,CAAWC,aAAX,CAAyBmB,IAAzB,CAA8BJ,YAAY,CAAC,kBAAD,CAAZ,CAAiCG,KAAjC,CAA9B;AACA;;AAEF,cAAKE,QAAL,CAAc;AAAClB,UAAAA,SAAS,EAAE,CAAC,MAAKH,KAAL,CAAWG;AAAxB,SAAd;AACH,OAvBD,EAwBCmB,KAxBD,CAwBO,UAACC,KAAD,EAAW;AACfN,QAAAA,OAAO,CAACM,KAAR,CAAcA,KAAd;AACAC,QAAAA,KAAK,CAAC,4BAAD,CAAL;AAEA,OA5BH;AA6BC,K;;;;;;;6BAIQ;AACPP,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuB,KAAKlB,KAAL,CAAWE,QAAlC;AAOE,aACE,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAE,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGH;;;;EAtDuBR,S;;AAyD3B;;AAEDK,aAAa,CAAC0B,iBAAd,GAAkC,UAAAC,OAAO,EAAI;AAC3C,SAAO;AACLC,IAAAA,WAAW,EAAE,SADR;AAELC,IAAAA,UAAU,EACR,oBAAC,aAAD;AAAe,MAAA,qBAAqB,EAAE/B,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAC,MADR;AAEE,MAAA,QAAQ,EAAC,UAFX;AAGE,MAAA,OAAO,EAAE,mBAAM;AACb6B,QAAAA,OAAO,CAACG,UAAR,CAAmBC,YAAnB;AACD,OALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAHG,GAAP;AAcD,CAfD;;AAiBA,eAAe/B,aAAf","sourcesContent":["import React, { Component } from 'react'\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons';\nimport { View, Text, StyleSheet,ActivityIndicator } from 'react-native';\n\nimport HeaderButton from '../components/HeaderButton';\nimport MealList from '../components/MealList';\n\nclass HistoryScreen extends Component {\n\n  state = {\n    transportData: [],\n    foodData: [],\n    isLoading: true,\n    isDisabled: true\n  }\n\n  componentDidMount = () => {\n    fetch('http://192.168.1.4:5000/getEnergyHistory', {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        userId: 1\n      })\n    })\n    .then((response) => response.json())\n    .then((responseJson) => {\n       console.log(responseJson);\n       for (const key in responseJson['foodHistory']){\n         console.log(\"food key:\",responseJson['foodHistory'][key])\n         this.state.foodData.push(responseJson['foodHistory'][key])\n        }\n        for (const key in responseJson['transportHistory']){\n          console.log(\"transport key:\",responseJson['transportHistory'][key])\n          this.state.transportData.push(responseJson['transportHistory'][key])\n         }\n\n        this.setState({isLoading: !this.state.isLoading })\n    })\n    .catch((error) => {\n       console.error(error);\n       alert(\"Transport data didnt fetch\");\n  \n      });\n    }\n    \n\n\n    render() {\n      console.log(\"FoodData\",this.state.foodData)\n      // if(!this.state.loading) {\n      //   return (\n      //       <MealList listData={this.state.transportData, this.state.foodData} />\n      //   )\n      // }\n      // else{\n        return (\n          <ActivityIndicator size={\"large\"} ></ActivityIndicator>)\n      // }\n    }\n\n  // return <MealList listData={favMeals} navigation={props.navigation} />;\n};\n\nHistoryScreen.navigationOptions = navData => {\n  return {\n    headerTitle: 'History',\n    headerLeft: (\n      <HeaderButtons HeaderButtonComponent={HeaderButton}>\n        <Item\n          title=\"Menu\"\n          iconName=\"ios-menu\"\n          onPress={() => {\n            navData.navigation.toggleDrawer();\n          }}\n        />\n      </HeaderButtons>\n    )\n  };\n};\n\nexport default HistoryScreen;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}