{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/augmenta/Desktop/Project/iPollute/my-new-project/components/MealList.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AntDesign } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome } from '@expo/vector-icons';\nimport Colors from \"../constants/Colors\";\nimport MealItem from \"./MealItem\";\n\nvar MealList = function (_Component) {\n  _inherits(MealList, _Component);\n\n  var _super = _createSuper(MealList);\n\n  function MealList(props) {\n    var _this;\n\n    _classCallCheck(this, MealList);\n\n    _this = _super.call(this, props);\n\n    _this.openUpdateModal = function () {\n      _this.setState({\n        isUpdateModalVisible: true\n      });\n    };\n\n    _this.toggleUpdateModal = function () {\n      _this.setState({\n        isUpdateModalVisible: !_this.state.isUpdateModalVisible\n      });\n    };\n\n    _this.closeUpdateModal = function () {\n      _this.setState({\n        isUpdateModalVisible: false\n      });\n    };\n\n    _this.openDeleteModal = function () {\n      _this.setState({\n        isDeleteModalVisible: true\n      });\n    };\n\n    _this.toggleDeleteModal = function () {\n      _this.setState({\n        isDeleteModalVisible: !_this.state.isDeleteModalVisible\n      });\n    };\n\n    _this.closeDeleteModal = function () {\n      _this.setState({\n        isDeleteModalVisible: false\n      });\n    };\n\n    _this.deleteEnergy = function (userId, energyId) {\n      alert(\"userId:\", userId);\n      fetch('http://192.168.1.4:5000/deleteEnergy', {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId: userId,\n          energyId: energyId\n        }),\n        method: 'POST'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        console.log(responseJson);\n\n        if (responseJson['success'] == true) {\n          alert(\"Energy Deleted Succefully\");\n        } else {\n          alert(\"Energy deleted Failed\");\n        }\n      }).catch(function (error) {\n        console.error(error);\n        alert(\"Delete Failed\");\n      });\n    };\n\n    _this.setInputText = function (text) {\n      _this.setState({\n        inputText: text\n      });\n    };\n\n    _this.setEditedItem = function (id) {\n      _this.setState({\n        editedItem: id\n      });\n    };\n\n    _this.handleEditItem = function (editedItem) {\n      var newData = _this.state.data.map(function (item) {\n        if (item.id === editedItem) {\n          item.text = _this.state.inputText;\n          return item;\n        }\n\n        return item;\n      });\n\n      _this.setState({\n        data: newData\n      });\n    };\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        style: styles.item,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.marginLeft,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"directions-bus\",\n        size: 24,\n        color: Colors.primaryColor,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.itemTexts,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, \" Date: \", item.energyDate, \" \"), React.createElement(Text, {\n        style: styles.text,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, \" Energy Cost: \", item.energyCost), React.createElement(Text, {\n        style: styles.text,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, \" Total Cost: \", item.cost, \" \")), React.createElement(View, {\n        style: styles.iconStyles,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return _this.openUpdateModal();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"change-history\",\n        size: 30,\n        color: Colors.primaryColor,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return _this.openDeleteModal();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"delete\",\n        size: 30,\n        color: Colors.primaryColor,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      }))));\n    };\n\n    _this.state = {\n      data: _this.props['list'],\n      isUpdateModalVisible: false,\n      isDeleteModalVisible: false,\n      inputText: '',\n      editedItem: 0\n    };\n    return _this;\n  }\n\n  _createClass(MealList, [{\n    key: \"render\",\n    value: function render() {\n      console.log(\"State data\", this.state.data);\n      return React.createElement(View, {\n        style: styles.contentContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, React.createElement(FlatList, {\n        data: this.props['list'],\n        renderItem: this.renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.energyId.toString();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n\n  return MealList;\n}(Component);\n\n;\nvar styles = StyleSheet.create({\n  list: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 15\n  },\n  headerText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white'\n  },\n  contentContainer: {\n    backgroundColor: 'white'\n  },\n  item: {\n    flexDirection: 'row',\n    marginVertical: 8\n  },\n  itemTexts: {\n    flexDirection: 'column',\n    borderBottomColor: 'grey',\n    alignItems: 'flex-start'\n  },\n  marginLeft: {\n    marginLeft: 5\n  },\n  marginRight: {\n    justifyContent: 'flex-end'\n  },\n  menu: {\n    width: 20,\n    height: 2,\n    backgroundColor: '#111',\n    margin: 2,\n    borderRadius: 3\n  },\n  text: {\n    fontSize: 12,\n    fontWeight: 'bold',\n    marginLeft: 10\n  },\n  iconStyles: {\n    flexDirection: 'row'\n  },\n  textInput: {\n    width: '90%',\n    marginLeft: 10,\n    marginRight: 10,\n    marginBottom: 30,\n    borderColor: 'gray',\n    fontSize: 8\n  },\n  modalView: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  touchableHighlight: {\n    backgroundColor: 'white',\n    marginVertical: 10,\n    alignSelf: 'stretch',\n    alignItems: 'center'\n  }\n});\nexport default MealList;","map":{"version":3,"sources":["/home/augmenta/Desktop/Project/iPollute/my-new-project/components/MealList.js"],"names":["React","Component","AntDesign","MaterialIcons","MaterialCommunityIcons","FontAwesome","Colors","MealItem","MealList","props","openUpdateModal","setState","isUpdateModalVisible","toggleUpdateModal","state","closeUpdateModal","openDeleteModal","isDeleteModalVisible","toggleDeleteModal","closeDeleteModal","deleteEnergy","userId","energyId","alert","fetch","headers","body","JSON","stringify","method","then","response","json","responseJson","console","log","catch","error","setInputText","text","inputText","setEditedItem","id","editedItem","handleEditItem","newData","data","map","item","renderItem","styles","marginLeft","primaryColor","itemTexts","energyDate","energyCost","cost","iconStyles","contentContainer","toString","StyleSheet","create","list","flex","justifyContent","alignItems","padding","headerText","fontSize","fontWeight","color","backgroundColor","flexDirection","marginVertical","borderBottomColor","marginRight","menu","width","height","margin","borderRadius","textInput","marginBottom","borderColor","modalView","touchableHighlight","alignSelf"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {StyleSheet, Text, View, FlatList,  TextInput, Modal, TouchableHighlight, TouchableOpacity  } from 'react-native';\nimport { AntDesign } from '@expo/vector-icons'; \nimport { MaterialIcons } from '@expo/vector-icons'; \nimport { MaterialCommunityIcons } from '@expo/vector-icons'; \nimport { FontAwesome } from '@expo/vector-icons';\nimport Colors from '../constants/Colors';\n\nimport MealItem from './MealItem';\n\nclass MealList extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        data: this.props['list'],\n        isUpdateModalVisible: false,\n        isDeleteModalVisible: false,\n        inputText: '',\n        editedItem: 0, \n        };\n  }\n\n  openUpdateModal = () =>{this.setState({isUpdateModalVisible:true})}\n  toggleUpdateModal = () =>{this.setState({isUpdateModalVisible:!this.state.isUpdateModalVisible})}\n  closeUpdateModal = () =>{this.setState({isUpdateModalVisible:false})}\n\n  openDeleteModal = () =>{this.setState({isDeleteModalVisible:true})}\n  toggleDeleteModal = () =>{this.setState({isDeleteModalVisible:!this.state.isDeleteModalVisible})}\n  closeDeleteModal = () =>{this.setState({isDeleteModalVisible:false})}\n\n\n  deleteEnergy = (userId, energyId) => {\n    alert(\"userId:\", userId)\n    \n    fetch('http://192.168.1.4:5000/deleteEnergy', {\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n        userId: userId,\n        energyId:energyId\n    }),\n    method: 'POST'\n    })\n    .then((response) => response.json())\n    .then((responseJson) => {\n        console.log(responseJson);\n        if(responseJson['success'] == true){\n            alert(\"Energy Deleted Succefully\");\n        }\n        else{\n            alert(\"Energy deleted Failed\");\n        }\n        \n    })\n    .catch((error) => {\n        console.error(error);\n        alert(\"Delete Failed\");\n        });\n    }\n\n  setInputText = (text) => {\n      this.setState({ inputText: text })\n  }\n\n  setEditedItem = (id) => {\n      this.setState({ editedItem: id })\n  }\n        \n  handleEditItem = (editedItem) => {\n      const newData = this.state.data.map( item => {\n          if (item.id === editedItem ) {\n              item.text = this.state.inputText\n              return item\n          }\n          return item\n      })\n      this.setState({ data: newData })\n  }\n\n renderItem = ({ item }) => {\n    return (\n        // <TouchableHighlight onPress={() => {this.setModalVisible(true); this.setInputText(item.text), this.setEditedItem(item.id)}}\n        //     underlayColor={'#f1f1f1'}> \n            <View style={styles.item} >\n                <View style={styles.marginLeft}>\n                    <MaterialIcons name=\"directions-bus\" size={24} color={Colors.primaryColor} />\n                </View>\n                <View style = {styles.itemTexts}>\n                    <Text style={styles.text}> Date: {item.energyDate} </Text>\n                    <Text style={styles.text}> Energy Cost: {item.energyCost}</Text> \n                    <Text style={styles.text}> Total Cost: {item.cost} </Text>\n                </View>\n                \n                <View style={styles.iconStyles}>\n                    <TouchableHighlight onPress={()=>this.openUpdateModal()}>\n                        <MaterialIcons name=\"change-history\" size={30} color={Colors.primaryColor} />\n                    </TouchableHighlight>\n\n                    <TouchableHighlight onPress={()=>this.openDeleteModal()}>\n                        <MaterialIcons name=\"delete\" size={30} color={Colors.primaryColor} />\n                    </TouchableHighlight>\n\n                </View>\n            </View>\n        // </TouchableHighlight>\n    );\n  };\n\n  render() {\n      console.log(\"State data\", this.state.data)\n\n    return (\n        <View style={styles.contentContainer}>\n            <View>\n            <FlatList \n                data={this.props['list']}\n                renderItem={this.renderItem}\n                keyExtractor={(item) => item.energyId.toString()}\n            />\n            </View>\n\n\n\n\n            {/* <Modal visible={\n                this.state.isModalVisible} \n                >\n                \n                <View style={styles.modalView}>\n                    <Text style={styles.text}>Change text:</Text>\n                    <TextInput\n                        style={styles.textInput}\n                        onChangeText={(text) => {this.setState({inputText: text}); console.log('state ', this.state.inputText)}}\n                        defaultValue={this.state.inputText}\n                        editable = {true}\n                        multiline = {false}\n                        maxLength = {200}\n                    /> \n                    <TouchableHighlight onPress={() => {this.handleEditItem(this.state.editedItem)}} \n                        style={[styles.touchableHighlight, {backgroundColor: 'orange'}]} underlayColor={'#f1f1f1'}>\n                        <Text style={styles.text}>Save</Text>\n                    </TouchableHighlight>  \n            \n                </View>           \n            </Modal>  */}\n        \n        \n\n\n\n\n\n            {/* DELETE ENERGY MODAL */}\n            {/* <Modal animationIn=\"slideInUp\" \n                animationOut=\"slideOutDown\" \n                onBackdropPress={()=>this.closeDeleteModal()}\n                onSwipeComplete={()=>this.closeDeleteModal()} \n                swipeDirection=\"right\" \n                isVisible={this.state.isDeleteModalVisible} \n                width=\"90%\"\n                max-height=\"40%\"\n                style={{backgroundColor:'white'}}>\n                <Text style = {styles.text}>Are you sure you want to delete this energy footprint ??</Text>\n                <View style={{ flex: 1,justifyContent:'center',position:'absolute',bottom:0}}>\n                    <View style={{flexDirection:'row',}}>\n                        <TouchableOpacity style={{backgroundColor:'red',width:'50%'}} onPress={()=>this.closeDeleteModal()}>\n                            <Text style={{color:'white',textAlign:'center',padding:10}}>Cancel</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity \n                            style={{backgroundColor:'green',width:'50%'}} \n                            onPress={()=>this.deleteEnergy(\n                                this.state.userId,\n                                this.state.energyId)} >\n                            <Text style={{color:'white',textAlign:'center',padding:10}}>Save</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </Modal> */}\n\n\n        </View>\n    )\n  }\n};\n      \nconst styles = StyleSheet.create({\n    list: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: 15\n    },\n    headerText: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        color: 'white',\n    },\n    contentContainer: {\n        backgroundColor: 'white',\n    },\n    item: {\n        flexDirection: 'row',\n        marginVertical: 8\n    },\n    itemTexts: {\n        flexDirection: 'column',\n        borderBottomColor: 'grey',\n        alignItems: 'flex-start',\n    },\n    marginLeft: {\n        marginLeft: 5,\n    },\n    marginRight: {\n        justifyContent: 'flex-end',\n    },\n    menu: {\n        width: 20,\n        height: 2,\n        backgroundColor: '#111',\n        margin: 2,\n        borderRadius: 3,\n    },\n    text: {\n        fontSize: 12,\n        fontWeight: 'bold',\n        marginLeft: 10,\n    },\n    iconStyles:{\n        flexDirection: 'row'\n    },\n    textInput: {\n        width: '90%',\n        marginLeft: 10,\n        marginRight: 10,\n        marginBottom: 30,\n        borderColor: 'gray', \n        fontSize: 8,\n    },\n    modalView: {\n        flex: 1, \n        backgroundColor: 'white',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    touchableHighlight: {\n        backgroundColor: 'white', \n        marginVertical: 10,\n        alignSelf: 'stretch',\n        alignItems: 'center',\n    } \n});\n      \nexport default MealList;"]},"metadata":{},"sourceType":"module"}